2024-08-26 11:22:14,689 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-26 11:22:14,778 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 26896 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-26 11:22:14,780 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-26 11:22:14,782 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-26 11:22:14,854 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-26 11:22:14,854 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-26 11:22:16,908 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 11:22:16,910 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-26 11:22:16,940 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 23 ms. Found 0 JDBC repository interfaces.
2024-08-26 11:22:16,956 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 11:22:16,962 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-26 11:22:16,984 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 6 ms. Found 0 JPA repository interfaces.
2024-08-26 11:22:18,228 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-26 11:22:18,243 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-26 11:22:18,246 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-26 11:22:18,246 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-26 11:22:18,353 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-26 11:22:18,353 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 3498 ms
2024-08-26 11:22:18,553 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-26 11:22:18,905 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@692b6c8
2024-08-26 11:22:18,907 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-26 11:22:18,918 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-26 11:22:19,236 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-26 11:22:19,236 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-26 11:22:19,236 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-26 11:22:19,260 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-26 11:22:19,270 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-26 11:22:19,327 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.040s)
2024-08-26 11:22:19,343 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": << Empty Schema >>
2024-08-26 11:22:19,373 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "1 - CREATE ENTITIES TABLE"
2024-08-26 11:22:19,390 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "book_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-26 11:22:19,391 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fine_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-26 11:22:19,496 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "statuses" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-26 11:22:19,574 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE"
2024-08-26 11:22:19,592 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "3 - INSERT LIBRARIAN INTO TABLE"
2024-08-26 11:22:19,610 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-26 11:22:19,627 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-26 11:22:19,632 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "statuses_book_status_key"
  Detail: Chave (book_status)=(Available) já existe.
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

2024-08-26 11:22:19,632 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-26 11:22:19,730 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-26 11:22:19,734 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-26 11:22:19,775 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-26 11:22:19,819 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "statuses_book_status_key"
  Detail: Chave (book_status)=(Available) já existe.
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "statuses_book_status_key"
  Detail: Chave (book_status)=(Available) já existe.
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "statuses_book_status_key"
  Detail: Chave (book_status)=(Available) já existe.
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "statuses_book_status_key"
  Detail: Chave (book_status)=(Available) já existe.
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: duplicar valor da chave viola a restrição de unicidade "statuses_book_status_key"
  Detail: Chave (book_status)=(Available) já existe.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-26 11:23:04,106 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-26 11:23:04,197 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 18768 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-26 11:23:04,198 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-26 11:23:04,200 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-26 11:23:04,288 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-26 11:23:04,289 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-26 11:23:06,474 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 11:23:06,476 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-26 11:23:06,507 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 24 ms. Found 0 JDBC repository interfaces.
2024-08-26 11:23:06,519 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 11:23:06,521 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-26 11:23:06,536 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.
2024-08-26 11:23:07,923 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-26 11:23:07,936 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-26 11:23:07,940 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-26 11:23:07,941 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-26 11:23:08,053 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-26 11:23:08,054 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 3763 ms
2024-08-26 11:23:08,302 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-26 11:23:08,661 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@62b43bcf
2024-08-26 11:23:08,664 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-26 11:23:08,681 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-26 11:23:09,006 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-26 11:23:09,006 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-26 11:23:09,006 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-26 11:23:09,026 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-26 11:23:09,036 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-26 11:23:09,098 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.046s)
2024-08-26 11:23:09,113 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-26 11:23:09,134 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-26 11:23:09,159 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-26 11:23:09,165 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P01
Error Code : 0
Message    : ERRO: relação "statuses" não existe
  Position: 56
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

2024-08-26 11:23:09,166 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-26 11:23:09,273 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-26 11:23:09,278 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-26 11:23:09,315 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-26 11:23:09,359 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P01
Error Code : 0
Message    : ERRO: relação "statuses" não existe
  Position: 56
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P01
Error Code : 0
Message    : ERRO: relação "statuses" não existe
  Position: 56
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P01
Error Code : 0
Message    : ERRO: relação "statuses" não existe
  Position: 56
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P01
Error Code : 0
Message    : ERRO: relação "statuses" não existe
  Position: 56
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: relação "statuses" não existe
  Position: 56
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-26 11:23:22,257 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-26 11:23:22,314 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 12192 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-26 11:23:22,315 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-26 11:23:22,318 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-26 11:23:22,371 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-26 11:23:22,372 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-26 11:23:23,675 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 11:23:23,677 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-26 11:23:23,696 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 0 JDBC repository interfaces.
2024-08-26 11:23:23,706 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 11:23:23,708 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-26 11:23:23,715 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.
2024-08-26 11:23:24,566 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-26 11:23:24,577 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-26 11:23:24,579 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-26 11:23:24,579 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-26 11:23:24,656 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-26 11:23:24,656 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2283 ms
2024-08-26 11:23:24,818 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-26 11:23:25,143 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6ff7d355
2024-08-26 11:23:25,145 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-26 11:23:25,156 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-26 11:23:25,454 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-26 11:23:25,455 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-26 11:23:25,456 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-26 11:23:25,479 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-26 11:23:25,486 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-26 11:23:25,543 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.043s)
2024-08-26 11:23:25,561 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-26 11:23:25,584 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-26 11:23:25,616 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-26 11:23:25,620 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_book_id_fkey"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 31
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

2024-08-26 11:23:25,621 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-26 11:23:25,725 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-26 11:23:25,730 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-26 11:23:25,763 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-26 11:23:25,799 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_book_id_fkey"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 31
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_book_id_fkey"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 31
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_book_id_fkey"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 31
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_book_id_fkey"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 31
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_book_id_fkey"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-26 11:26:15,971 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-26 11:26:16,033 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 2008 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-26 11:26:16,035 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-26 11:26:16,036 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-26 11:26:16,088 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-26 11:26:16,088 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-26 11:26:17,459 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 11:26:17,460 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-26 11:26:17,484 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 18 ms. Found 0 JDBC repository interfaces.
2024-08-26 11:26:17,493 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 11:26:17,494 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-26 11:26:17,504 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.
2024-08-26 11:26:18,406 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-26 11:26:18,417 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-26 11:26:18,419 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-26 11:26:18,419 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-26 11:26:18,499 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-26 11:26:18,500 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2411 ms
2024-08-26 11:26:18,679 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-26 11:26:19,088 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@27b81d50
2024-08-26 11:26:19,090 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-26 11:26:19,101 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-26 11:26:19,375 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-26 11:26:19,376 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-26 11:26:19,376 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-26 11:26:19,394 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-26 11:26:19,401 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-26 11:26:19,445 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.032s)
2024-08-26 11:26:19,465 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": << Empty Schema >>
2024-08-26 11:26:19,491 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "1 - CREATE ENTITIES TABLE"
2024-08-26 11:26:19,522 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "book_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-26 11:26:19,524 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fine_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-26 11:26:19,632 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "statuses" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-26 11:26:19,730 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE"
2024-08-26 11:26:19,749 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "3 - INSERT LIBRARIAN INTO TABLE"
2024-08-26 11:26:19,772 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-26 11:26:19,792 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-26 11:26:19,798 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42601
Error Code : 0
Message    : ERRO: erro de sintaxe em ou próximo a ";"
  Position: 485
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 22
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (book_id,title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ((nextval('book_id_seq'),'Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), --
-- status_id 1 for AVAILABLE
       ((nextval('book_id_seq'),'Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4);
-- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2);

INSERT INTO fines (fine_id, amount, issue_date, due_date, member_id, librarian_id, admin_id)
VALUES (nextval('fine_id_seq'), 50.00, '2024-01-01', '2024-01-15', 9, 3, 1),
       (nextval('fine_id_seq'), 75.00, '2024-02-01', '2024-02-15', 10, 4, 2) ;

2024-08-26 11:26:19,799 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-26 11:26:19,895 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-26 11:26:19,902 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-26 11:26:19,938 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-26 11:26:19,972 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42601
Error Code : 0
Message    : ERRO: erro de sintaxe em ou próximo a ";"
  Position: 485
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 22
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (book_id,title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ((nextval('book_id_seq'),'Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), --
-- status_id 1 for AVAILABLE
       ((nextval('book_id_seq'),'Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4);
-- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2);

INSERT INTO fines (fine_id, amount, issue_date, due_date, member_id, librarian_id, admin_id)
VALUES (nextval('fine_id_seq'), 50.00, '2024-01-01', '2024-01-15', 9, 3, 1),
       (nextval('fine_id_seq'), 75.00, '2024-02-01', '2024-02-15', 10, 4, 2) ;

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42601
Error Code : 0
Message    : ERRO: erro de sintaxe em ou próximo a ";"
  Position: 485
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 22
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (book_id,title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ((nextval('book_id_seq'),'Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), --
-- status_id 1 for AVAILABLE
       ((nextval('book_id_seq'),'Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4);
-- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2);

INSERT INTO fines (fine_id, amount, issue_date, due_date, member_id, librarian_id, admin_id)
VALUES (nextval('fine_id_seq'), 50.00, '2024-01-01', '2024-01-15', 9, 3, 1),
       (nextval('fine_id_seq'), 75.00, '2024-02-01', '2024-02-15', 10, 4, 2) ;

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42601
Error Code : 0
Message    : ERRO: erro de sintaxe em ou próximo a ";"
  Position: 485
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 22
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (book_id,title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ((nextval('book_id_seq'),'Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), --
-- status_id 1 for AVAILABLE
       ((nextval('book_id_seq'),'Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4);
-- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2);

INSERT INTO fines (fine_id, amount, issue_date, due_date, member_id, librarian_id, admin_id)
VALUES (nextval('fine_id_seq'), 50.00, '2024-01-01', '2024-01-15', 9, 3, 1),
       (nextval('fine_id_seq'), 75.00, '2024-02-01', '2024-02-15', 10, 4, 2) ;

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42601
Error Code : 0
Message    : ERRO: erro de sintaxe em ou próximo a ";"
  Position: 485
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 22
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (book_id,title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ((nextval('book_id_seq'),'Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), --
-- status_id 1 for AVAILABLE
       ((nextval('book_id_seq'),'Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4);
-- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2);

INSERT INTO fines (fine_id, amount, issue_date, due_date, member_id, librarian_id, admin_id)
VALUES (nextval('fine_id_seq'), 50.00, '2024-01-01', '2024-01-15', 9, 3, 1),
       (nextval('fine_id_seq'), 75.00, '2024-02-01', '2024-02-15', 10, 4, 2) ;

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: erro de sintaxe em ou próximo a ";"
  Position: 485
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-26 11:30:14,450 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-26 11:30:14,509 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 13920 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-26 11:30:14,509 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-26 11:30:14,513 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-26 11:30:14,570 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-26 11:30:14,571 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-26 11:30:15,924 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 11:30:15,925 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-26 11:30:15,948 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 17 ms. Found 0 JDBC repository interfaces.
2024-08-26 11:30:15,957 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 11:30:15,958 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-26 11:30:15,967 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.
2024-08-26 11:30:17,024 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-26 11:30:17,041 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-26 11:30:17,044 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-26 11:30:17,045 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-26 11:30:17,171 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-26 11:30:17,172 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2600 ms
2024-08-26 11:30:17,520 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-26 11:30:17,934 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@565d8619
2024-08-26 11:30:17,937 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-26 11:30:17,951 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-26 11:30:18,260 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-26 11:30:18,260 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-26 11:30:18,260 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-26 11:30:18,281 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-26 11:30:18,289 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-26 11:30:18,352 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.044s)
2024-08-26 11:30:18,367 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": << Empty Schema >>
2024-08-26 11:30:18,395 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "1 - CREATE ENTITIES TABLE"
2024-08-26 11:30:18,429 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "book_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-26 11:30:18,430 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fine_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-26 11:30:18,534 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "statuses" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-26 11:30:18,618 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE"
2024-08-26 11:30:18,643 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "3 - INSERT LIBRARIAN INTO TABLE"
2024-08-26 11:30:18,669 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-26 11:30:18,700 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-26 11:30:18,707 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_member_id_fkey"
  Detail: Chave (member_id)=(9) não está presente na tabela "members".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 34
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

2024-08-26 11:30:18,709 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-26 11:30:18,869 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-26 11:30:18,876 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-26 11:30:18,928 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-26 11:30:18,988 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_member_id_fkey"
  Detail: Chave (member_id)=(9) não está presente na tabela "members".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 34
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_member_id_fkey"
  Detail: Chave (member_id)=(9) não está presente na tabela "members".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 34
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_member_id_fkey"
  Detail: Chave (member_id)=(9) não está presente na tabela "members".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 34
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_member_id_fkey"
  Detail: Chave (member_id)=(9) não está presente na tabela "members".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 34
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_member_id_fkey"
  Detail: Chave (member_id)=(9) não está presente na tabela "members".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-26 11:34:11,670 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-26 11:34:11,725 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 16144 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-26 11:34:11,726 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-26 11:34:11,728 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-26 11:34:11,780 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-26 11:34:11,780 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-26 11:34:13,034 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 11:34:13,036 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-26 11:34:13,057 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 17 ms. Found 0 JDBC repository interfaces.
2024-08-26 11:34:13,069 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 11:34:13,070 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-26 11:34:13,078 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.
2024-08-26 11:34:13,960 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-26 11:34:13,970 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-26 11:34:13,972 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-26 11:34:13,972 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-26 11:34:14,051 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-26 11:34:14,052 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2271 ms
2024-08-26 11:34:14,215 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-26 11:34:14,505 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@62116be0
2024-08-26 11:34:14,507 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-26 11:34:14,519 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-26 11:34:14,781 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-26 11:34:14,782 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-26 11:34:14,782 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-26 11:34:14,801 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-26 11:34:14,809 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-26 11:34:14,849 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.030s)
2024-08-26 11:34:14,868 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": << Empty Schema >>
2024-08-26 11:34:14,892 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "1 - CREATE ENTITIES TABLE"
2024-08-26 11:34:14,925 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "book_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-26 11:34:14,926 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fine_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-26 11:34:15,023 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "statuses" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-26 11:34:15,095 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE"
2024-08-26 11:34:15,119 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "3 - INSERT LIBRARIAN INTO TABLE"
2024-08-26 11:34:15,143 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-26 11:34:15,164 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-26 11:34:15,169 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_member_id_fkey"
  Detail: Chave (member_id)=(9) não está presente na tabela "members".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 19
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2
INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

2024-08-26 11:34:15,170 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-26 11:34:15,278 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-26 11:34:15,283 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-26 11:34:15,313 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-26 11:34:15,350 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_member_id_fkey"
  Detail: Chave (member_id)=(9) não está presente na tabela "members".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 19
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2
INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_member_id_fkey"
  Detail: Chave (member_id)=(9) não está presente na tabela "members".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 19
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2
INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_member_id_fkey"
  Detail: Chave (member_id)=(9) não está presente na tabela "members".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 19
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2
INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_member_id_fkey"
  Detail: Chave (member_id)=(9) não está presente na tabela "members".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 19
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2
INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_member_id_fkey"
  Detail: Chave (member_id)=(9) não está presente na tabela "members".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-26 11:35:29,033 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-26 11:35:29,087 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 5984 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-26 11:35:29,087 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-26 11:35:29,089 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-26 11:35:29,143 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-26 11:35:29,144 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-26 11:35:30,389 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 11:35:30,391 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-26 11:35:30,412 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 16 ms. Found 0 JDBC repository interfaces.
2024-08-26 11:35:30,422 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 11:35:30,423 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-26 11:35:30,430 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.
2024-08-26 11:35:31,348 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-26 11:35:31,357 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-26 11:35:31,359 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-26 11:35:31,360 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-26 11:35:31,441 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-26 11:35:31,443 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2297 ms
2024-08-26 11:35:31,614 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-26 11:35:31,907 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@52106774
2024-08-26 11:35:31,909 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-26 11:35:31,920 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-26 11:35:32,183 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-26 11:35:32,183 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-26 11:35:32,183 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-26 11:35:32,202 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-26 11:35:32,208 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-26 11:35:32,253 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.033s)
2024-08-26 11:35:32,272 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-26 11:35:32,288 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-26 11:35:32,311 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-26 11:35:32,316 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "books" viola restrição de chave estrangeira "books_status_id_fkey"
  Detail: Chave (status_id)=(1) não está presente na tabela "statuses".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 8
Statement  : INSERT INTO books (book_id, title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES (nextval('book_id_seq'), 'Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3),
       (nextval('book_id_seq'), 'Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

2024-08-26 11:35:32,317 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-26 11:35:32,431 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-26 11:35:32,437 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-26 11:35:32,467 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-26 11:35:32,508 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "books" viola restrição de chave estrangeira "books_status_id_fkey"
  Detail: Chave (status_id)=(1) não está presente na tabela "statuses".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 8
Statement  : INSERT INTO books (book_id, title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES (nextval('book_id_seq'), 'Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3),
       (nextval('book_id_seq'), 'Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "books" viola restrição de chave estrangeira "books_status_id_fkey"
  Detail: Chave (status_id)=(1) não está presente na tabela "statuses".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 8
Statement  : INSERT INTO books (book_id, title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES (nextval('book_id_seq'), 'Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3),
       (nextval('book_id_seq'), 'Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "books" viola restrição de chave estrangeira "books_status_id_fkey"
  Detail: Chave (status_id)=(1) não está presente na tabela "statuses".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 8
Statement  : INSERT INTO books (book_id, title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES (nextval('book_id_seq'), 'Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3),
       (nextval('book_id_seq'), 'Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "books" viola restrição de chave estrangeira "books_status_id_fkey"
  Detail: Chave (status_id)=(1) não está presente na tabela "statuses".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 8
Statement  : INSERT INTO books (book_id, title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES (nextval('book_id_seq'), 'Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3),
       (nextval('book_id_seq'), 'Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "books" viola restrição de chave estrangeira "books_status_id_fkey"
  Detail: Chave (status_id)=(1) não está presente na tabela "statuses".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-26 11:37:03,678 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-26 11:37:03,729 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 14744 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-26 11:37:03,730 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-26 11:37:03,733 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-26 11:37:03,783 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-26 11:37:03,785 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-26 11:37:05,239 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 11:37:05,241 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-26 11:37:05,265 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 18 ms. Found 0 JDBC repository interfaces.
2024-08-26 11:37:05,275 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 11:37:05,277 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-26 11:37:05,285 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.
2024-08-26 11:37:06,206 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-26 11:37:06,218 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-26 11:37:06,220 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-26 11:37:06,221 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-26 11:37:06,325 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-26 11:37:06,325 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2539 ms
2024-08-26 11:37:06,594 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-26 11:37:06,989 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@ce940da
2024-08-26 11:37:06,992 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-26 11:37:07,006 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-26 11:37:07,351 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-26 11:37:07,352 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-26 11:37:07,353 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-26 11:37:07,381 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-26 11:37:07,390 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-26 11:37:07,445 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.041s)
2024-08-26 11:37:07,461 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 2
2024-08-26 11:37:07,483 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "3 - INSERT LIBRARIAN INTO TABLE"
2024-08-26 11:37:07,502 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "3 - INSERT LIBRARIAN INTO TABLE" failed! Changes successfully rolled back.
2024-08-26 11:37:07,508 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V3__INSERT_LIBRARIAN_AND_MEMBERS_INTO_TABLE.sql failed
----------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "librarians_email_key"
  Detail: Chave (email)=(alicia.johnson@example.com) já existe.
Location   : db/migration/V3__INSERT_LIBRARIAN_AND_MEMBERS_INTO_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V3__INSERT_LIBRARIAN_AND_MEMBERS_INTO_TABLE.sql)
Line       : 1
Statement  : INSERT INTO librarians (person_id, name, email, contact, street, city, state, country, postal_code, employee_code,
                        admin_id)
VALUES (nextval('person_id_seq'), 'Alicia Johnson', 'alicia.johnson@example.com', '1112233445', '789 Pine St',
        'Springfield', 'IL', 'USA', '62701', 'EMP001', 1),
       (nextval('person_id_seq'), 'Bo Brown', 'bo.brown@example.com', '5556677889', '101 Maple St', 'Shelbyville',
        'IL', 'USA', '62565', 'EMP002', 2)

2024-08-26 11:37:07,509 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-26 11:37:07,556 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-26 11:37:07,561 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-26 11:37:07,598 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-26 11:37:07,638 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V3__INSERT_LIBRARIAN_AND_MEMBERS_INTO_TABLE.sql failed
----------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "librarians_email_key"
  Detail: Chave (email)=(alicia.johnson@example.com) já existe.
Location   : db/migration/V3__INSERT_LIBRARIAN_AND_MEMBERS_INTO_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V3__INSERT_LIBRARIAN_AND_MEMBERS_INTO_TABLE.sql)
Line       : 1
Statement  : INSERT INTO librarians (person_id, name, email, contact, street, city, state, country, postal_code, employee_code,
                        admin_id)
VALUES (nextval('person_id_seq'), 'Alicia Johnson', 'alicia.johnson@example.com', '1112233445', '789 Pine St',
        'Springfield', 'IL', 'USA', '62701', 'EMP001', 1),
       (nextval('person_id_seq'), 'Bo Brown', 'bo.brown@example.com', '5556677889', '101 Maple St', 'Shelbyville',
        'IL', 'USA', '62565', 'EMP002', 2)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V3__INSERT_LIBRARIAN_AND_MEMBERS_INTO_TABLE.sql failed
----------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "librarians_email_key"
  Detail: Chave (email)=(alicia.johnson@example.com) já existe.
Location   : db/migration/V3__INSERT_LIBRARIAN_AND_MEMBERS_INTO_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V3__INSERT_LIBRARIAN_AND_MEMBERS_INTO_TABLE.sql)
Line       : 1
Statement  : INSERT INTO librarians (person_id, name, email, contact, street, city, state, country, postal_code, employee_code,
                        admin_id)
VALUES (nextval('person_id_seq'), 'Alicia Johnson', 'alicia.johnson@example.com', '1112233445', '789 Pine St',
        'Springfield', 'IL', 'USA', '62701', 'EMP001', 1),
       (nextval('person_id_seq'), 'Bo Brown', 'bo.brown@example.com', '5556677889', '101 Maple St', 'Shelbyville',
        'IL', 'USA', '62565', 'EMP002', 2)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V3__INSERT_LIBRARIAN_AND_MEMBERS_INTO_TABLE.sql failed
----------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "librarians_email_key"
  Detail: Chave (email)=(alicia.johnson@example.com) já existe.
Location   : db/migration/V3__INSERT_LIBRARIAN_AND_MEMBERS_INTO_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V3__INSERT_LIBRARIAN_AND_MEMBERS_INTO_TABLE.sql)
Line       : 1
Statement  : INSERT INTO librarians (person_id, name, email, contact, street, city, state, country, postal_code, employee_code,
                        admin_id)
VALUES (nextval('person_id_seq'), 'Alicia Johnson', 'alicia.johnson@example.com', '1112233445', '789 Pine St',
        'Springfield', 'IL', 'USA', '62701', 'EMP001', 1),
       (nextval('person_id_seq'), 'Bo Brown', 'bo.brown@example.com', '5556677889', '101 Maple St', 'Shelbyville',
        'IL', 'USA', '62565', 'EMP002', 2)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V3__INSERT_LIBRARIAN_AND_MEMBERS_INTO_TABLE.sql failed
----------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "librarians_email_key"
  Detail: Chave (email)=(alicia.johnson@example.com) já existe.
Location   : db/migration/V3__INSERT_LIBRARIAN_AND_MEMBERS_INTO_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V3__INSERT_LIBRARIAN_AND_MEMBERS_INTO_TABLE.sql)
Line       : 1
Statement  : INSERT INTO librarians (person_id, name, email, contact, street, city, state, country, postal_code, employee_code,
                        admin_id)
VALUES (nextval('person_id_seq'), 'Alicia Johnson', 'alicia.johnson@example.com', '1112233445', '789 Pine St',
        'Springfield', 'IL', 'USA', '62701', 'EMP001', 1),
       (nextval('person_id_seq'), 'Bo Brown', 'bo.brown@example.com', '5556677889', '101 Maple St', 'Shelbyville',
        'IL', 'USA', '62565', 'EMP002', 2)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: duplicar valor da chave viola a restrição de unicidade "librarians_email_key"
  Detail: Chave (email)=(alicia.johnson@example.com) já existe.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-26 11:37:38,478 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-26 11:37:38,541 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 27120 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-26 11:37:38,542 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-26 11:37:38,543 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-26 11:37:38,604 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-26 11:37:38,605 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-26 11:37:39,893 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 11:37:39,895 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-26 11:37:39,915 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 0 JDBC repository interfaces.
2024-08-26 11:37:39,924 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 11:37:39,925 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-26 11:37:39,932 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-26 11:37:40,769 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-26 11:37:40,779 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-26 11:37:40,781 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-26 11:37:40,781 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-26 11:37:40,858 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-26 11:37:40,859 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2252 ms
2024-08-26 11:37:41,021 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-26 11:37:41,313 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@e37f664
2024-08-26 11:37:41,316 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-26 11:37:41,327 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-26 11:37:41,580 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-26 11:37:41,580 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-26 11:37:41,581 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-26 11:37:41,600 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-26 11:37:41,607 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-26 11:37:41,653 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.034s)
2024-08-26 11:37:41,675 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": << Empty Schema >>
2024-08-26 11:37:41,699 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "1 - CREATE ENTITIES TABLE"
2024-08-26 11:37:41,736 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "book_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-26 11:37:41,737 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fine_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-26 11:37:41,838 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "statuses" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-26 11:37:41,905 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE"
2024-08-26 11:37:41,923 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "3 - INSERT LIBRARIAN INTO TABLE"
2024-08-26 11:37:41,945 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-26 11:37:41,961 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-26 11:37:41,965 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_book_id_fkey"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 12
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2
INSERT INTO member_books (member_id, book_id)
VALUES (5, 1),
       (6, 2)

2024-08-26 11:37:41,966 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-26 11:37:42,193 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-26 11:37:42,199 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-26 11:37:42,231 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-26 11:37:42,259 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_book_id_fkey"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 12
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2
INSERT INTO member_books (member_id, book_id)
VALUES (5, 1),
       (6, 2)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_book_id_fkey"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 12
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2
INSERT INTO member_books (member_id, book_id)
VALUES (5, 1),
       (6, 2)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_book_id_fkey"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 12
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2
INSERT INTO member_books (member_id, book_id)
VALUES (5, 1),
       (6, 2)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_book_id_fkey"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 12
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2
INSERT INTO member_books (member_id, book_id)
VALUES (5, 1),
       (6, 2)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_book_id_fkey"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-26 11:38:47,311 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-26 11:38:47,375 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 20708 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-26 11:38:47,376 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-26 11:38:47,378 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-26 11:38:47,433 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-26 11:38:47,433 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-26 11:38:48,853 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 11:38:48,855 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-26 11:38:48,873 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-26 11:38:48,881 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 11:38:48,882 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-26 11:38:48,889 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-26 11:38:49,682 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-26 11:38:49,691 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-26 11:38:49,692 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-26 11:38:49,693 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-26 11:38:49,768 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-26 11:38:49,769 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2334 ms
2024-08-26 11:38:49,912 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-26 11:38:50,185 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@600c306a
2024-08-26 11:38:50,186 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-26 11:38:50,196 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-26 11:38:50,454 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-26 11:38:50,455 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-26 11:38:50,455 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-26 11:38:50,475 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-26 11:38:50,482 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-26 11:38:50,519 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.026s)
2024-08-26 11:38:50,533 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": << Empty Schema >>
2024-08-26 11:38:50,569 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "1 - CREATE ENTITIES TABLE"
2024-08-26 11:38:50,613 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "book_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-26 11:38:50,615 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fine_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-26 11:38:50,718 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "statuses" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-26 11:38:50,789 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE"
2024-08-26 11:38:50,813 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "3 - INSERT LIBRARIAN INTO TABLE"
2024-08-26 11:38:50,839 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-26 11:38:50,854 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-26 11:38:50,857 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_book_id_fkey"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 12
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2
INSERT INTO member_books (member_id, book_id)
VALUES (5, 1),
       (6, 2)

2024-08-26 11:38:50,858 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-26 11:38:50,978 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-26 11:38:50,982 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-26 11:38:51,010 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-26 11:38:51,038 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_book_id_fkey"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 12
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2
INSERT INTO member_books (member_id, book_id)
VALUES (5, 1),
       (6, 2)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_book_id_fkey"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 12
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2
INSERT INTO member_books (member_id, book_id)
VALUES (5, 1),
       (6, 2)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_book_id_fkey"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 12
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2
INSERT INTO member_books (member_id, book_id)
VALUES (5, 1),
       (6, 2)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_book_id_fkey"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 12
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2
INSERT INTO member_books (member_id, book_id)
VALUES (5, 1),
       (6, 2)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_book_id_fkey"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-26 11:43:54,830 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-26 11:43:54,890 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 20904 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-26 11:43:54,891 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-26 11:43:54,892 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-26 11:43:54,945 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-26 11:43:54,946 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-26 11:43:56,230 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 11:43:56,232 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-26 11:43:56,252 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 16 ms. Found 0 JDBC repository interfaces.
2024-08-26 11:43:56,263 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 11:43:56,264 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-26 11:43:56,272 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.
2024-08-26 11:43:57,139 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-26 11:43:57,149 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-26 11:43:57,151 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-26 11:43:57,152 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-26 11:43:57,232 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-26 11:43:57,233 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2286 ms
2024-08-26 11:43:57,398 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-26 11:43:57,691 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3da5f1f5
2024-08-26 11:43:57,693 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-26 11:43:57,705 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-26 11:43:57,979 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-26 11:43:57,980 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-26 11:43:57,980 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-26 11:43:57,998 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-26 11:43:58,005 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-26 11:43:58,049 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 5 migrations (execution time 00:00.032s)
2024-08-26 11:43:58,068 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": << Empty Schema >>
2024-08-26 11:43:58,094 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "1 - CREATE ENTITIES TABLE"
2024-08-26 11:43:58,125 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "book_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-26 11:43:58,126 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fine_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-26 11:43:58,221 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "statuses" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-26 11:43:58,295 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "2 - INSERT ADMIN TABLE"
2024-08-26 11:43:58,317 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "3 - INSERT LIBRARIAN AND MEMBERS INTO TABLE"
2024-08-26 11:43:58,342 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT BOOKS TABLE"
2024-08-26 11:43:58,357 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "5 - INSERT MEMBERS BOOKS AND FINE TABLES"
2024-08-26 11:43:58,370 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "5 - INSERT MEMBERS BOOKS AND FINE TABLES" failed! Changes successfully rolled back.
2024-08-26 11:43:58,375 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_book_id_fkey"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 1
Statement  : INSERT INTO member_books (member_id, book_id)
VALUES (5, 1),
       (6, 2)

2024-08-26 11:43:58,376 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-26 11:43:58,478 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-26 11:43:58,482 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-26 11:43:58,515 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-26 11:43:58,547 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_book_id_fkey"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 1
Statement  : INSERT INTO member_books (member_id, book_id)
VALUES (5, 1),
       (6, 2)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_book_id_fkey"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 1
Statement  : INSERT INTO member_books (member_id, book_id)
VALUES (5, 1),
       (6, 2)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_book_id_fkey"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 1
Statement  : INSERT INTO member_books (member_id, book_id)
VALUES (5, 1),
       (6, 2)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_book_id_fkey"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 1
Statement  : INSERT INTO member_books (member_id, book_id)
VALUES (5, 1),
       (6, 2)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_book_id_fkey"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-26 11:44:51,337 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-26 11:44:51,402 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 13652 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-26 11:44:51,403 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-26 11:44:51,404 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-26 11:44:51,475 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-26 11:44:51,476 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-26 11:44:52,792 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 11:44:52,793 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-26 11:44:52,814 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 16 ms. Found 0 JDBC repository interfaces.
2024-08-26 11:44:52,823 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 11:44:52,824 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-26 11:44:52,832 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.
2024-08-26 11:44:53,681 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-26 11:44:53,690 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-26 11:44:53,692 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-26 11:44:53,693 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-26 11:44:53,772 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-26 11:44:53,772 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2295 ms
2024-08-26 11:44:53,937 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-26 11:44:54,225 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1cde7290
2024-08-26 11:44:54,228 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-26 11:44:54,239 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-26 11:44:54,505 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-26 11:44:54,505 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-26 11:44:54,505 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-26 11:44:54,525 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-26 11:44:54,532 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-26 11:44:54,585 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 5 migrations (execution time 00:00.042s)
2024-08-26 11:44:54,600 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 4
2024-08-26 11:44:54,615 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "5 - INSERT MEMBERS BOOKS AND FINE TABLES"
2024-08-26 11:44:54,638 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "5 - INSERT MEMBERS BOOKS AND FINE TABLES" failed! Changes successfully rolled back.
2024-08-26 11:44:54,642 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_book_id_fkey"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 1
Statement  : INSERT INTO member_books (member_id, book_id)
VALUES (5, 1),
       (6, 2)

2024-08-26 11:44:54,643 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-26 11:44:54,762 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-26 11:44:54,765 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-26 11:44:54,796 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-26 11:44:54,828 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_book_id_fkey"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 1
Statement  : INSERT INTO member_books (member_id, book_id)
VALUES (5, 1),
       (6, 2)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_book_id_fkey"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 1
Statement  : INSERT INTO member_books (member_id, book_id)
VALUES (5, 1),
       (6, 2)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_book_id_fkey"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 1
Statement  : INSERT INTO member_books (member_id, book_id)
VALUES (5, 1),
       (6, 2)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_book_id_fkey"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
Location   : db/migration/V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V5__INSERT_MEMBERS_BOOKS_AND_FINE_TABLES.sql)
Line       : 1
Statement  : INSERT INTO member_books (member_id, book_id)
VALUES (5, 1),
       (6, 2)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_book_id_fkey"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-26 11:45:52,229 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-26 11:45:52,299 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 884 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-26 11:45:52,300 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-26 11:45:52,302 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-26 11:45:52,370 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-26 11:45:52,370 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-26 11:45:53,864 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 11:45:53,865 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-26 11:45:53,884 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-26 11:45:53,893 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 11:45:53,894 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-26 11:45:53,901 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-26 11:45:54,734 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-26 11:45:54,744 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-26 11:45:54,746 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-26 11:45:54,746 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-26 11:45:54,831 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-26 11:45:54,832 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2461 ms
2024-08-26 11:45:55,042 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-26 11:45:55,376 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3da5f1f5
2024-08-26 11:45:55,378 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-26 11:45:55,391 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-26 11:45:55,658 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-26 11:45:55,659 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-26 11:45:55,659 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-26 11:45:55,677 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-26 11:45:55,683 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-26 11:45:55,727 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 5 migrations (execution time 00:00.031s)
2024-08-26 11:45:55,744 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 4
2024-08-26 11:45:55,759 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "5 - INSERT MEMBERS BOOKS AND FINE TABLES"
2024-08-26 11:45:55,793 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Successfully applied 1 migration to schema "public", now at version v5 (execution time 00:00.023s)
2024-08-26 11:45:55,919 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-26 11:45:56,043 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-26 11:45:56,098 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-26 11:45:56,484 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-26 11:45:56,592 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-26 11:45:56,898 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-26 11:45:56,996 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-26 11:45:56,998 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-26 11:45:57,003 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-26 11:45:57,007 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-26 11:45:58,108 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-26 11:45:58,111 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-26 11:45:59,799 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-26 11:45:59,815 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-26 11:45:59,906 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-26 11:45:59,932 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-26 11:45:59,952 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 8.435 seconds (process running for 9.772)
2024-08-26 11:46:00,565 INFO  [RMI TCP Connection(2)-172.21.16.1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-08-26 11:46:00,565 INFO  [RMI TCP Connection(2)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-08-26 11:46:00,567 INFO  [RMI TCP Connection(2)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2024-08-26 11:47:48,179 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-26 11:47:48,183 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-26 11:47:48,193 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-26 12:13:41,085 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-26 12:13:41,146 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 21556 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-26 12:13:41,146 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-26 12:13:41,147 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-26 12:13:41,207 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-26 12:13:41,209 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-26 12:13:42,692 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 12:13:42,694 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-26 12:13:42,728 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-08-26 12:13:42,732 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-08-26 12:13:42,734 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-08-26 12:13:42,736 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-08-26 12:13:42,738 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.Member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-08-26 12:13:42,739 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 39 ms. Found 0 JDBC repository interfaces.
2024-08-26 12:13:42,747 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 12:13:42,747 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-26 12:13:42,796 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 44 ms. Found 5 JPA repository interfaces.
2024-08-26 12:13:43,689 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-26 12:13:43,701 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-26 12:13:43,703 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-26 12:13:43,704 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-26 12:13:43,782 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-26 12:13:43,783 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2573 ms
2024-08-26 12:13:43,953 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-26 12:13:44,261 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@73a000e5
2024-08-26 12:13:44,263 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-26 12:13:44,273 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-26 12:13:44,551 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-26 12:13:44,552 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-26 12:13:44,552 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-26 12:13:44,570 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-26 12:13:44,577 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-26 12:13:44,642 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 5 migrations (execution time 00:00.052s)
2024-08-26 12:13:44,656 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 5
2024-08-26 12:13:44,659 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Schema "public" is up to date. No migration necessary.
2024-08-26 12:13:44,783 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-26 12:13:44,898 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-26 12:13:44,956 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-26 12:13:45,382 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-26 12:13:45,496 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-26 12:13:45,792 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-26 12:13:45,918 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-26 12:13:45,922 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-26 12:13:45,931 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-26 12:13:45,938 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-26 12:13:47,805 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-26 12:13:47,812 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-26 12:13:49,775 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-26 12:13:49,788 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-26 12:13:49,889 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-26 12:13:49,921 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-26 12:13:49,945 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 9.557 seconds (process running for 11.058)
2024-08-26 12:14:32,239 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-26 12:14:32,243 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-26 12:14:32,247 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-26 12:14:37,142 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-26 12:14:37,208 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 19700 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-26 12:14:37,209 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-26 12:14:37,210 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-26 12:14:37,270 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-26 12:14:37,270 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-26 12:14:38,828 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 12:14:38,829 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-26 12:14:38,866 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-08-26 12:14:38,869 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-08-26 12:14:38,871 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-08-26 12:14:38,873 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-08-26 12:14:38,875 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.Member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-08-26 12:14:38,876 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 42 ms. Found 0 JDBC repository interfaces.
2024-08-26 12:14:38,886 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 12:14:38,887 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-26 12:14:38,927 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 35 ms. Found 5 JPA repository interfaces.
2024-08-26 12:14:39,816 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-26 12:14:39,826 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-26 12:14:39,828 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-26 12:14:39,829 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-26 12:14:39,922 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-26 12:14:39,923 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2652 ms
2024-08-26 12:14:40,084 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-26 12:14:40,380 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@25e0a2f3
2024-08-26 12:14:40,382 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-26 12:14:40,394 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-26 12:14:40,666 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-26 12:14:40,666 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-26 12:14:40,667 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-26 12:14:40,692 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-26 12:14:40,703 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-26 12:14:40,766 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 5 migrations (execution time 00:00.048s)
2024-08-26 12:14:40,783 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 5
2024-08-26 12:14:40,787 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Schema "public" is up to date. No migration necessary.
2024-08-26 12:14:40,947 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-26 12:14:41,058 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-26 12:14:41,109 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-26 12:14:41,488 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-26 12:14:41,574 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-26 12:14:41,811 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-26 12:14:41,911 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-26 12:14:41,915 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-26 12:14:41,924 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-26 12:14:41,931 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-26 12:14:43,147 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-26 12:14:43,149 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-26 12:14:45,153 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-26 12:14:45,162 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-26 12:14:45,248 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-26 12:14:45,273 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-26 12:14:45,293 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 8.985 seconds (process running for 10.476)
2024-08-26 12:14:45,695 INFO  [RMI TCP Connection(2)-172.21.16.1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-08-26 12:14:45,696 INFO  [RMI TCP Connection(2)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-08-26 12:14:45,699 INFO  [RMI TCP Connection(2)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2024-08-26 12:19:50,942 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-26 12:19:50,948 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-26 12:19:50,961 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-26 12:19:54,949 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-26 12:19:55,012 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 19248 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-26 12:19:55,012 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-26 12:19:55,013 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-26 12:19:55,064 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-26 12:19:55,065 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-26 12:19:56,348 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 12:19:56,350 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-26 12:19:56,390 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-08-26 12:19:56,394 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-08-26 12:19:56,396 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-08-26 12:19:56,399 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-08-26 12:19:56,400 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.Member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-08-26 12:19:56,401 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 45 ms. Found 0 JDBC repository interfaces.
2024-08-26 12:19:56,411 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 12:19:56,413 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-26 12:19:56,463 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 43 ms. Found 5 JPA repository interfaces.
2024-08-26 12:19:57,592 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-26 12:19:57,605 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-26 12:19:57,609 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-26 12:19:57,609 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-26 12:19:57,724 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-26 12:19:57,725 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2660 ms
2024-08-26 12:19:57,939 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-26 12:19:58,228 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@838d397
2024-08-26 12:19:58,229 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-26 12:19:58,239 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-26 12:19:58,497 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-26 12:19:58,498 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-26 12:19:58,498 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-26 12:19:58,516 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-26 12:19:58,523 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-26 12:19:58,571 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 5 migrations (execution time 00:00.037s)
2024-08-26 12:19:58,587 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 5
2024-08-26 12:19:58,590 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Schema "public" is up to date. No migration necessary.
2024-08-26 12:19:58,709 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-26 12:19:58,811 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-26 12:19:58,857 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-26 12:19:59,175 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-26 12:19:59,253 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-26 12:19:59,478 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-26 12:19:59,541 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-26 12:19:59,543 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-26 12:19:59,551 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-26 12:19:59,558 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-26 12:20:01,142 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-26 12:20:01,149 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-26 12:20:03,392 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-26 12:20:03,403 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-26 12:20:03,489 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-26 12:20:03,515 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-26 12:20:03,535 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 9.13 seconds (process running for 10.32)
2024-08-26 12:20:04,048 INFO  [RMI TCP Connection(3)-172.21.16.1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-08-26 12:20:04,048 INFO  [RMI TCP Connection(3)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-08-26 12:20:04,052 INFO  [RMI TCP Connection(3)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2024-08-26 12:27:44,863 INFO  [File Watcher] o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 2 class path changes (0 additions, 2 deletions, 0 modifications)
2024-08-26 12:27:44,872 INFO  [Thread-5] o.a.coyote.http11.Http11NioProtocol: Stopping ProtocolHandler ["http-nio-8081"]
2024-08-26 12:27:45,957 INFO  [Thread-5] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-26 12:27:45,968 INFO  [Thread-5] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-26 12:27:45,992 INFO  [Thread-5] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-26 12:27:46,143 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 19248 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-26 12:27:46,143 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-26 12:27:46,143 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-26 12:27:46,887 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 12:27:46,888 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-26 12:27:46,904 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-08-26 12:27:46,907 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: java.lang.TypeNotPresentException: Type code.with.vanilson.libraryapplication.book.Book not present
2024-08-26 12:27:46,935 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-26 12:27:46,981 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
java.lang.TypeNotPresentException: Type code.with.vanilson.libraryapplication.book.Book not present
	at java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:117)
	at java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125)
	at java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49)
	at java.base/sun.reflect.generics.visitor.Reifier.reifyTypeArguments(Reifier.java:68)
	at java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:138)
	at java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49)
	at java.base/sun.reflect.generics.repository.ClassRepository.computeSuperInterfaces(ClassRepository.java:117)
	at java.base/sun.reflect.generics.repository.ClassRepository.getSuperInterfaces(ClassRepository.java:95)
	at java.base/java.lang.Class.getGenericInterfaces(Class.java:1211)
	at org.springframework.core.ResolvableType.getInterfaces(ResolvableType.java:517)
	at org.springframework.core.ResolvableType.as(ResolvableType.java:465)
	at org.springframework.data.util.TypeDiscoverer.getSuperTypeInformation(TypeDiscoverer.java:256)
	at org.springframework.data.util.ClassTypeInformation.getSuperTypeInformation(ClassTypeInformation.java:36)
	at org.springframework.data.util.TypeInformation.getRequiredSuperTypeInformation(TypeInformation.java:327)
	at org.springframework.data.repository.core.support.DefaultRepositoryMetadata.<init>(DefaultRepositoryMetadata.java:55)
	at org.springframework.data.repository.core.support.AbstractRepositoryMetadata.getMetadata(AbstractRepositoryMetadata.java:79)
	at org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport.getRepositoryConfigurations(RepositoryConfigurationExtensionSupport.java:91)
	at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:168)
	at org.springframework.boot.autoconfigure.data.AbstractRepositoryConfigurationSourceSupport.registerBeanDefinitions(AbstractRepositoryConfigurationSourceSupport.java:62)
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:376)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:375)
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:148)
	at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:429)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:290)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:789)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:607)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.lang.ClassNotFoundException: code.with.vanilson.libraryapplication.book.Book
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:467)
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:467)
	at java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114)
	... 41 common frames omitted
2024-08-26 12:27:48,550 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 19248 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-26 12:27:48,551 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-26 12:27:48,552 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-26 12:27:49,888 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 12:27:49,888 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-26 12:27:49,905 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.admin.AdminRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-08-26 12:27:49,909 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.book.BookRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-08-26 12:27:49,912 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.fine.FineRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-08-26 12:27:49,915 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.librarian.LibrarianRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-08-26 12:27:49,921 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface code.with.vanilson.libraryapplication.Member.MemberRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2024-08-26 12:27:49,922 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 33 ms. Found 0 JDBC repository interfaces.
2024-08-26 12:27:49,930 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-26 12:27:49,931 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-26 12:27:49,988 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 56 ms. Found 5 JPA repository interfaces.
2024-08-26 12:27:50,526 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-26 12:27:50,527 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-26 12:27:50,528 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-26 12:27:50,529 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-26 12:27:50,678 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-26 12:27:50,680 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2125 ms
2024-08-26 12:27:50,860 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Starting...
2024-08-26 12:27:51,146 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@31c9c5e8
2024-08-26 12:27:51,147 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Start completed.
2024-08-26 12:27:51,148 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-26 12:27:51,316 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-26 12:27:51,321 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-26 12:27:51,345 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 5 migrations (execution time 00:00.018s)
2024-08-26 12:27:51,543 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 5
2024-08-26 12:27:51,544 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Schema "public" is up to date. No migration necessary.
2024-08-26 12:27:51,621 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-26 12:27:51,635 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-26 12:27:51,646 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-26 12:27:51,670 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-26 12:27:51,682 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-26 12:27:51,713 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-26 12:27:51,716 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-26 12:27:51,728 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-26 12:27:51,734 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-26 12:27:51,981 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-26 12:27:51,981 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-26 12:27:54,640 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-26 12:27:54,678 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-26 12:27:54,865 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-26 12:27:54,885 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-26 12:27:54,932 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 6.449 seconds (process running for 481.718)
2024-08-26 12:27:54,980 INFO  [restartedMain] o.s.b.d.a.ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
2024-08-26 12:28:07,563 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-26 12:28:07,565 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Shutdown initiated...
2024-08-26 12:28:07,578 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Shutdown completed.
