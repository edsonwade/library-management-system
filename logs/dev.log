2024-08-24 13:52:30,871 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 13:52:30,982 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 15944 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 13:52:30,984 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 13:52:30,986 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 13:52:31,087 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 13:52:31,087 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 13:52:34,316 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 13:52:34,319 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 13:52:34,359 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 0 JDBC repository interfaces.
2024-08-24 13:52:34,377 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 13:52:34,379 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 13:52:34,393 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 6 ms. Found 0 JPA repository interfaces.
2024-08-24 13:52:36,748 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 13:52:36,764 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 13:52:36,767 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 13:52:36,768 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 13:52:36,906 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 13:52:36,907 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 5818 ms
2024-08-24 13:52:37,226 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 13:52:37,994 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@56a99e7e
2024-08-24 13:52:38,000 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 13:52:38,036 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 13:52:38,612 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 13:52:38,613 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 13:52:38,613 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 13:52:38,641 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 13:52:38,652 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 13:52:38,727 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.048s)
2024-08-24 13:52:38,746 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 1
2024-08-24 13:52:38,763 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "2 - replace status columns"
2024-08-24 13:52:38,801 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Successfully applied 1 migration to schema "public", now at version v2 (execution time 00:00.022s)
2024-08-24 13:52:39,037 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 13:52:39,170 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 13:52:39,244 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 13:52:39,732 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 13:52:39,863 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 13:52:40,225 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 13:52:42,102 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 13:52:42,273 WARN  [restartedMain] o.h.e.jdbc.spi.SqlExceptionHelper: SQL Warning Code: 0, SQLState: 00000
2024-08-24 13:52:42,274 WARN  [restartedMain] o.h.e.jdbc.spi.SqlExceptionHelper: restrição "uk_dq4ee5x894yxhjotok0oh7obo" da relação "members" não existe, ignorando
2024-08-24 13:52:42,286 WARN  [restartedMain] o.h.e.jdbc.spi.SqlExceptionHelper: SQL Warning Code: 0, SQLState: 00000
2024-08-24 13:52:42,287 WARN  [restartedMain] o.h.e.jdbc.spi.SqlExceptionHelper: restrição "uk_9d30a9u1qpg8eou0otgkwrp5d" da relação "members" não existe, ignorando
2024-08-24 13:52:42,338 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 13:52:46,382 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 13:52:46,397 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 13:52:46,603 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 13:52:46,664 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 13:52:46,711 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 17.01 seconds (process running for 19.069)
2024-08-24 13:52:47,477 INFO  [RMI TCP Connection(2)-172.21.16.1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-08-24 13:52:47,478 INFO  [RMI TCP Connection(2)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-08-24 13:52:47,482 INFO  [RMI TCP Connection(2)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Completed initialization in 4 ms
2024-08-24 13:56:42,670 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 13:56:42,685 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 13:56:42,713 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 13:57:50,932 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 13:57:50,982 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 25704 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 13:57:50,983 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 13:57:50,984 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 13:57:51,041 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 13:57:51,041 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 13:57:52,214 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 13:57:52,216 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 13:57:52,238 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 16 ms. Found 0 JDBC repository interfaces.
2024-08-24 13:57:52,247 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 13:57:52,249 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 13:57:52,254 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 2 ms. Found 0 JPA repository interfaces.
2024-08-24 13:57:53,019 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 13:57:53,028 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 13:57:53,030 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 13:57:53,030 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 13:57:53,097 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 13:57:53,097 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2055 ms
2024-08-24 13:57:53,249 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 13:57:53,537 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@ad0d7a7
2024-08-24 13:57:53,546 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 13:57:53,557 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 13:57:53,804 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 13:57:53,804 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 13:57:53,804 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 13:57:53,820 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 13:57:53,826 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 13:57:53,860 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.023s)
2024-08-24 13:57:53,873 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 2
2024-08-24 13:57:53,876 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Schema "public" is up to date. No migration necessary.
2024-08-24 13:57:53,991 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 13:57:54,055 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 13:57:54,112 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 13:57:54,407 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 13:57:54,490 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 13:57:55,638 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 13:57:55,684 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 13:57:57,122 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 13:57:57,129 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 13:57:57,213 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 13:57:57,240 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 13:57:57,258 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 6.874 seconds (process running for 7.986)
2024-08-24 13:57:57,642 INFO  [RMI TCP Connection(1)-172.21.16.1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-08-24 13:57:57,643 INFO  [RMI TCP Connection(1)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-08-24 13:57:57,646 INFO  [RMI TCP Connection(1)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2024-08-24 13:58:44,938 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 13:58:44,943 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 13:58:44,950 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 13:58:48,473 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 13:58:48,532 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 22384 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 13:58:48,533 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 13:58:48,534 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 13:58:48,589 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 13:58:48,589 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 13:58:49,736 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 13:58:49,737 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 13:58:49,755 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 13:58:49,765 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 13:58:49,766 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 13:58:49,773 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 13:58:50,517 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 13:58:50,526 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 13:58:50,528 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 13:58:50,528 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 13:58:50,596 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 13:58:50,596 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2006 ms
2024-08-24 13:58:50,727 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 13:58:50,987 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@50671946
2024-08-24 13:58:50,989 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 13:58:50,998 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 13:58:51,221 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 13:58:51,222 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 13:58:51,222 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 13:58:51,241 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 13:58:51,248 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 13:58:51,282 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.023s)
2024-08-24 13:58:51,296 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 2
2024-08-24 13:58:51,299 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Schema "public" is up to date. No migration necessary.
2024-08-24 13:58:51,396 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 13:58:51,472 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 13:58:51,534 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 13:58:51,817 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 13:58:51,879 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 13:58:52,810 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 13:58:52,852 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 13:58:54,251 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 13:58:54,259 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 13:58:54,335 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 13:58:54,358 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 13:58:54,377 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 6.411 seconds (process running for 7.463)
2024-08-24 13:58:54,792 INFO  [RMI TCP Connection(2)-172.21.16.1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-08-24 13:58:54,792 INFO  [RMI TCP Connection(2)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-08-24 13:58:54,794 INFO  [RMI TCP Connection(2)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2024-08-24 13:59:06,866 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 13:59:06,870 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 13:59:06,874 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 14:03:31,002 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 14:03:31,055 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 7952 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 14:03:31,056 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 14:03:31,059 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 14:03:31,113 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 14:03:31,114 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 14:03:32,312 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 14:03:32,314 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 14:03:32,342 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 17 ms. Found 0 JDBC repository interfaces.
2024-08-24 14:03:32,352 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 14:03:32,353 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 14:03:32,360 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 14:03:33,161 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 14:03:33,170 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 14:03:33,172 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 14:03:33,172 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 14:03:33,248 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 14:03:33,250 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2135 ms
2024-08-24 14:03:33,384 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 14:03:33,642 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@20ec4478
2024-08-24 14:03:33,651 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 14:03:33,662 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 14:03:33,902 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 14:03:33,902 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 14:03:33,902 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 14:03:33,921 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 14:03:33,928 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 14:03:33,972 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.035s)
2024-08-24 14:03:33,990 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 2
2024-08-24 14:03:33,994 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Schema "public" is up to date. No migration necessary.
2024-08-24 14:03:34,098 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 14:03:34,187 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 14:03:34,233 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 14:03:34,508 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 14:03:34,581 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 14:03:35,770 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 14:03:35,837 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 14:03:38,051 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 14:03:38,064 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 14:03:38,207 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 14:03:38,252 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 14:03:38,296 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 7.82 seconds (process running for 8.992)
2024-08-24 14:03:38,571 INFO  [RMI TCP Connection(1)-172.21.16.1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-08-24 14:03:38,572 INFO  [RMI TCP Connection(1)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-08-24 14:03:38,577 INFO  [RMI TCP Connection(1)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Completed initialization in 4 ms
2024-08-24 14:05:11,093 INFO  [File Watcher] o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2024-08-24 14:05:11,099 INFO  [Thread-5] o.a.coyote.http11.Http11NioProtocol: Stopping ProtocolHandler ["http-nio-8081"]
2024-08-24 14:05:12,195 INFO  [Thread-5] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 14:05:12,203 INFO  [Thread-5] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 14:05:12,208 INFO  [Thread-5] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 14:05:12,346 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 7952 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 14:05:12,347 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 14:05:12,348 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 14:05:12,964 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 14:05:12,965 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 14:05:12,969 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JDBC repository interfaces.
2024-08-24 14:05:12,975 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 14:05:12,976 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 14:05:12,980 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 14:05:13,243 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 14:05:13,244 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 14:05:13,244 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 14:05:13,245 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 14:05:13,301 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 14:05:13,302 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 951 ms
2024-08-24 14:05:13,396 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Starting...
2024-08-24 14:05:13,593 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@3eec59a7
2024-08-24 14:05:13,593 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Start completed.
2024-08-24 14:05:13,594 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 14:05:13,675 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 14:05:13,678 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 14:05:13,691 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 3 migrations (execution time 00:00.009s)
2024-08-24 14:05:13,880 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 2
2024-08-24 14:05:13,893 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "3 - add book status column"
2024-08-24 14:05:13,908 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Successfully applied 1 migration to schema "public", now at version v3 (execution time 00:00.005s)
2024-08-24 14:05:13,975 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 14:05:13,983 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 14:05:13,993 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 14:05:14,012 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 14:05:14,081 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 14:05:14,106 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 14:05:15,340 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 14:05:15,349 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 14:05:15,431 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 14:05:15,448 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 14:05:15,474 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 3.181 seconds (process running for 106.17)
2024-08-24 14:05:15,480 INFO  [restartedMain] o.s.b.d.a.ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
2024-08-24 14:05:20,853 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 14:05:20,855 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Shutdown initiated...
2024-08-24 14:05:20,870 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Shutdown completed.
2024-08-24 14:05:52,195 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 14:05:52,275 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 26216 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 14:05:52,276 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 14:05:52,278 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 14:05:52,349 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 14:05:52,350 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 14:05:53,910 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 14:05:53,912 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 14:05:53,932 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 16 ms. Found 0 JDBC repository interfaces.
2024-08-24 14:05:53,943 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 14:05:53,944 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 14:05:53,951 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 14:05:54,871 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 14:05:54,881 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 14:05:54,883 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 14:05:54,883 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 14:05:54,957 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 14:05:54,958 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2607 ms
2024-08-24 14:05:55,141 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 14:05:55,459 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@32ab234b
2024-08-24 14:05:55,462 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 14:05:55,474 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 14:05:55,731 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 14:05:55,731 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 14:05:55,731 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 14:05:55,748 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 14:05:55,755 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 14:05:55,809 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 3
-> Applied to database : 0
-> Resolved locally    : 171590295
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
2024-08-24 14:05:55,810 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 14:05:55,944 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 14:05:55,948 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 14:05:55,973 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 14:05:56,010 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 3
-> Applied to database : 0
-> Resolved locally    : 171590295
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 3
-> Applied to database : 0
-> Resolved locally    : 171590295
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 3
-> Applied to database : 0
-> Resolved locally    : 171590295
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:146)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
2024-08-24 14:08:07,280 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 14:08:07,361 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 9476 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 14:08:07,362 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 14:08:07,364 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 14:08:07,442 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 14:08:07,442 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 14:08:09,109 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 14:08:09,110 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 14:08:09,129 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 14:08:09,137 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 14:08:09,138 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 14:08:09,145 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 14:08:09,914 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 14:08:09,922 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 14:08:09,924 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 14:08:09,925 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 14:08:09,994 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 14:08:09,996 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2551 ms
2024-08-24 14:08:10,142 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 14:08:10,434 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@9903ba9
2024-08-24 14:08:10,436 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 14:08:10,446 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 14:08:10,707 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 14:08:10,708 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 14:08:10,708 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 14:08:10,724 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 14:08:10,730 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 14:08:10,767 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 3 migrations (execution time 00:00.026s)
2024-08-24 14:08:10,781 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 2
2024-08-24 14:08:10,794 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "3 - add book status column"
2024-08-24 14:08:10,816 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "3 - add book status column" failed! Changes successfully rolled back.
2024-08-24 14:08:10,821 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V3__add_book_status_column.sql failed
-----------------------------------------------
SQL State  : 42701
Error Code : 0
Message    : ERRO: coluna "book_status" da relação "books" já existe
Location   : db/migration/V3__add_book_status_column.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V3__add_book_status_column.sql)
Line       : 1
Statement  : ALTER TABLE books
    ADD COLUMN book_status VARCHAR(255) NOT NULL DEFAULT 'AVAILABLE'

2024-08-24 14:08:10,822 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 14:08:10,902 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 14:08:10,906 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 14:08:10,926 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 14:08:10,953 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V3__add_book_status_column.sql failed
-----------------------------------------------
SQL State  : 42701
Error Code : 0
Message    : ERRO: coluna "book_status" da relação "books" já existe
Location   : db/migration/V3__add_book_status_column.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V3__add_book_status_column.sql)
Line       : 1
Statement  : ALTER TABLE books
    ADD COLUMN book_status VARCHAR(255) NOT NULL DEFAULT 'AVAILABLE'

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V3__add_book_status_column.sql failed
-----------------------------------------------
SQL State  : 42701
Error Code : 0
Message    : ERRO: coluna "book_status" da relação "books" já existe
Location   : db/migration/V3__add_book_status_column.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V3__add_book_status_column.sql)
Line       : 1
Statement  : ALTER TABLE books
    ADD COLUMN book_status VARCHAR(255) NOT NULL DEFAULT 'AVAILABLE'

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V3__add_book_status_column.sql failed
-----------------------------------------------
SQL State  : 42701
Error Code : 0
Message    : ERRO: coluna "book_status" da relação "books" já existe
Location   : db/migration/V3__add_book_status_column.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V3__add_book_status_column.sql)
Line       : 1
Statement  : ALTER TABLE books
    ADD COLUMN book_status VARCHAR(255) NOT NULL DEFAULT 'AVAILABLE'

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V3__add_book_status_column.sql failed
-----------------------------------------------
SQL State  : 42701
Error Code : 0
Message    : ERRO: coluna "book_status" da relação "books" já existe
Location   : db/migration/V3__add_book_status_column.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V3__add_book_status_column.sql)
Line       : 1
Statement  : ALTER TABLE books
    ADD COLUMN book_status VARCHAR(255) NOT NULL DEFAULT 'AVAILABLE'

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: coluna "book_status" da relação "books" já existe
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 14:09:29,701 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 14:09:29,755 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 29952 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 14:09:29,756 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 14:09:29,757 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 14:09:29,818 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 14:09:29,819 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 14:09:31,321 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 14:09:31,323 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 14:09:31,343 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 0 JDBC repository interfaces.
2024-08-24 14:09:31,354 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 14:09:31,355 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 14:09:31,362 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 14:09:32,343 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 14:09:32,355 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 14:09:32,358 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 14:09:32,358 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 14:09:32,462 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 14:09:32,463 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2644 ms
2024-08-24 14:09:32,739 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 14:09:33,164 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@e6b1bbc
2024-08-24 14:09:33,167 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 14:09:33,183 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 14:09:33,507 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 14:09:33,508 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 14:09:33,508 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 14:09:33,528 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 14:09:33,537 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 14:09:33,584 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 1 migration (execution time 00:00.030s)
2024-08-24 14:09:33,599 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": << Empty Schema >>
2024-08-24 14:09:33,614 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "1 - CREATE BOOKS TABLE"
2024-08-24 14:09:33,623 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "book_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 14:09:33,624 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 14:09:33,640 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Successfully applied 1 migration to schema "public", now at version v1 (execution time 00:00.013s)
2024-08-24 14:09:33,793 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 14:09:33,895 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 14:09:33,948 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 14:09:34,356 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 14:09:34,447 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 14:09:35,652 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 14:09:35,704 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 14:09:37,492 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 14:09:37,501 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 14:09:37,586 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 14:09:37,612 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 14:09:37,638 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 8.569 seconds (process running for 9.887)
2024-08-24 14:09:38,157 INFO  [RMI TCP Connection(4)-172.21.16.1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-08-24 14:09:38,158 INFO  [RMI TCP Connection(4)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-08-24 14:09:38,160 INFO  [RMI TCP Connection(4)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2024-08-24 14:10:23,136 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 14:10:23,140 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 14:10:23,151 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 14:10:27,447 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 14:10:27,527 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 18956 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 14:10:27,528 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 14:10:27,530 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 14:10:27,609 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 14:10:27,609 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 14:10:29,202 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 14:10:29,204 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 14:10:29,232 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 22 ms. Found 0 JDBC repository interfaces.
2024-08-24 14:10:29,245 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 14:10:29,246 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 14:10:29,256 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.
2024-08-24 14:10:30,440 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 14:10:30,453 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 14:10:30,456 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 14:10:30,456 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 14:10:30,553 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 14:10:30,554 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2944 ms
2024-08-24 14:10:30,752 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 14:10:31,084 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@9903ba9
2024-08-24 14:10:31,086 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 14:10:31,099 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 14:10:31,389 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 14:10:31,390 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 14:10:31,391 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 14:10:31,411 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 14:10:31,420 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 14:10:31,476 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 1 migration (execution time 00:00.040s)
2024-08-24 14:10:31,494 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 1
2024-08-24 14:10:31,497 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Schema "public" is up to date. No migration necessary.
2024-08-24 14:10:31,634 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 14:10:31,744 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 14:10:31,805 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 14:10:32,198 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 14:10:32,284 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 14:10:33,609 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 14:10:33,669 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 14:10:35,477 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 14:10:35,488 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 14:10:35,603 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 14:10:35,636 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 14:10:35,665 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 9.148 seconds (process running for 10.423)
2024-08-24 14:10:36,055 INFO  [RMI TCP Connection(2)-172.21.16.1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-08-24 14:10:36,056 INFO  [RMI TCP Connection(2)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-08-24 14:10:36,059 INFO  [RMI TCP Connection(2)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2024-08-24 14:10:40,513 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 14:10:40,519 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 14:10:40,524 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 14:34:21,398 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 14:34:21,458 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 8408 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 14:34:21,459 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 14:34:21,460 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 14:34:21,520 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 14:34:21,520 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 14:34:22,706 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 14:34:22,707 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 14:34:22,727 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 0 JDBC repository interfaces.
2024-08-24 14:34:22,734 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 14:34:22,735 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 14:34:22,742 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 14:34:23,527 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 14:34:23,536 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 14:34:23,537 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 14:34:23,538 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 14:34:23,606 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 14:34:23,607 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2086 ms
2024-08-24 14:34:23,750 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 14:34:24,010 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@355c8e25
2024-08-24 14:34:24,014 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 14:34:24,023 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 14:34:24,235 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 14:34:24,236 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 14:34:24,236 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 14:34:24,252 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 14:34:24,259 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 14:34:24,294 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.024s)
2024-08-24 14:34:24,308 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 1
2024-08-24 14:34:24,330 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "2 - CREATE MEMBERS AND MEMBER BOOK TABLE"
2024-08-24 14:34:24,340 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "person_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 14:34:24,393 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Successfully applied 1 migration to schema "public", now at version v2 (execution time 00:00.052s)
2024-08-24 14:34:24,535 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 14:34:24,620 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 14:34:24,667 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 14:34:25,016 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 14:34:25,087 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 14:34:25,340 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 14:34:26,337 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 14:34:26,442 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 14:34:27,852 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 14:34:27,860 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 14:34:27,942 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 14:34:27,966 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 14:34:27,986 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 7.083 seconds (process running for 8.203)
2024-08-24 14:34:28,188 INFO  [RMI TCP Connection(3)-172.21.16.1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-08-24 14:34:28,188 INFO  [RMI TCP Connection(3)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-08-24 14:34:28,192 INFO  [RMI TCP Connection(3)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Completed initialization in 1 ms
2024-08-24 14:35:49,809 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 14:35:49,813 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 14:35:49,826 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 17:11:16,949 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 17:11:16,999 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 25464 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 17:11:17,000 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 17:11:17,003 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 17:11:17,059 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 17:11:17,060 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 17:11:18,326 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 17:11:18,327 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 17:11:18,346 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 17:11:18,354 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 17:11:18,355 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 17:11:18,363 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 17:11:19,170 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 17:11:19,180 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 17:11:19,183 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 17:11:19,183 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 17:11:19,259 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 17:11:19,260 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2198 ms
2024-08-24 17:11:19,412 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 17:11:19,721 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3a87ead
2024-08-24 17:11:19,723 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 17:11:19,735 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 17:11:19,972 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 17:11:19,972 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 17:11:19,972 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 17:11:19,989 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 17:11:19,995 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 17:11:20,042 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.033s)
2024-08-24 17:11:20,060 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 2
2024-08-24 17:11:20,065 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Schema "public" is up to date. No migration necessary.
2024-08-24 17:11:20,178 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 17:11:20,271 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 17:11:20,325 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 17:11:20,672 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 17:11:20,771 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 17:11:21,108 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 17:11:22,169 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 17:11:22,237 WARN  [restartedMain] o.h.e.jdbc.spi.SqlExceptionHelper: SQL Warning Code: 0, SQLState: 00000
2024-08-24 17:11:22,238 WARN  [restartedMain] o.h.e.jdbc.spi.SqlExceptionHelper: restrição "uk_epcm2nvisvxixmamn0stqbbi9" da relação "fines" não existe, ignorando
2024-08-24 17:11:22,295 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 17:11:23,753 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 17:11:23,761 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 17:11:23,846 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 17:11:23,871 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 17:11:23,891 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 7.561 seconds (process running for 8.986)
2024-08-24 17:11:32,520 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 17:11:32,525 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 17:11:32,533 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 19:10:54,597 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 19:10:54,662 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 25196 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 19:10:54,663 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 19:10:54,664 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 19:10:54,725 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 19:10:54,725 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 19:10:56,028 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:10:56,030 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 19:10:56,050 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 0 JDBC repository interfaces.
2024-08-24 19:10:56,060 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:10:56,061 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 19:10:56,070 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 19:10:56,992 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 19:10:57,003 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 19:10:57,005 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 19:10:57,005 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 19:10:57,080 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 19:10:57,081 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2355 ms
2024-08-24 19:10:57,231 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 19:10:57,526 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7fdbbad8
2024-08-24 19:10:57,528 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 19:10:57,538 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 19:10:57,788 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 19:10:57,788 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 19:10:57,788 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 19:10:57,803 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 19:10:57,809 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 19:10:57,847 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 1 migration (execution time 00:00.028s)
2024-08-24 19:10:57,861 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": << Empty Schema >>
2024-08-24 19:10:57,891 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "1 - CREATE ENTITIES TABLE"
2024-08-24 19:10:57,901 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "person_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:10:57,902 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "book_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:10:57,903 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fine_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:10:57,955 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "1 - CREATE ENTITIES TABLE" failed! Changes successfully rolled back.
2024-08-24 19:10:57,959 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V1__CREATE_ENTITIES_TABLE.sql failed
----------------------------------------------
SQL State  : 42804
Error Code : 0
Message    : ERRO: restrição de chave estrangeira "admins_role_id_fkey" não pode ser implementada
  Detail: Colunas chave "role_id" e "roles_id" são de tipos incompatíveis: character varying e bigint.
Location   : db/migration/V1__CREATE_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V1__CREATE_ENTITIES_TABLE.sql)
Line       : 16
Statement  : -- Admins Table
CREATE TABLE IF NOT EXISTS admins
(
    person_id   BIGINT PRIMARY KEY DEFAULT nextval('person_id_seq'),
    name        VARCHAR(255) NOT NULL,
    email       VARCHAR(255) NOT NULL UNIQUE,
    contact     VARCHAR(255) NOT NULL UNIQUE,
    street      VARCHAR(255) NOT NULL,
    city        VARCHAR(255) NOT NULL,
    state       VARCHAR(255) NOT NULL,
    country     VARCHAR(255) NOT NULL,
    postal_code VARCHAR(255) NOT NULL,
    admin_code  VARCHAR(255) NOT NULL UNIQUE,
    role_id     VARCHAR(255) NOT NULL,
    FOREIGN KEY (role_id) REFERENCES roles (roles_id) ON DELETE RESTRICT
)

2024-08-24 19:10:57,960 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 19:10:57,986 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 19:10:57,998 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 19:10:58,047 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 19:10:58,075 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V1__CREATE_ENTITIES_TABLE.sql failed
----------------------------------------------
SQL State  : 42804
Error Code : 0
Message    : ERRO: restrição de chave estrangeira "admins_role_id_fkey" não pode ser implementada
  Detail: Colunas chave "role_id" e "roles_id" são de tipos incompatíveis: character varying e bigint.
Location   : db/migration/V1__CREATE_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V1__CREATE_ENTITIES_TABLE.sql)
Line       : 16
Statement  : -- Admins Table
CREATE TABLE IF NOT EXISTS admins
(
    person_id   BIGINT PRIMARY KEY DEFAULT nextval('person_id_seq'),
    name        VARCHAR(255) NOT NULL,
    email       VARCHAR(255) NOT NULL UNIQUE,
    contact     VARCHAR(255) NOT NULL UNIQUE,
    street      VARCHAR(255) NOT NULL,
    city        VARCHAR(255) NOT NULL,
    state       VARCHAR(255) NOT NULL,
    country     VARCHAR(255) NOT NULL,
    postal_code VARCHAR(255) NOT NULL,
    admin_code  VARCHAR(255) NOT NULL UNIQUE,
    role_id     VARCHAR(255) NOT NULL,
    FOREIGN KEY (role_id) REFERENCES roles (roles_id) ON DELETE RESTRICT
)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V1__CREATE_ENTITIES_TABLE.sql failed
----------------------------------------------
SQL State  : 42804
Error Code : 0
Message    : ERRO: restrição de chave estrangeira "admins_role_id_fkey" não pode ser implementada
  Detail: Colunas chave "role_id" e "roles_id" são de tipos incompatíveis: character varying e bigint.
Location   : db/migration/V1__CREATE_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V1__CREATE_ENTITIES_TABLE.sql)
Line       : 16
Statement  : -- Admins Table
CREATE TABLE IF NOT EXISTS admins
(
    person_id   BIGINT PRIMARY KEY DEFAULT nextval('person_id_seq'),
    name        VARCHAR(255) NOT NULL,
    email       VARCHAR(255) NOT NULL UNIQUE,
    contact     VARCHAR(255) NOT NULL UNIQUE,
    street      VARCHAR(255) NOT NULL,
    city        VARCHAR(255) NOT NULL,
    state       VARCHAR(255) NOT NULL,
    country     VARCHAR(255) NOT NULL,
    postal_code VARCHAR(255) NOT NULL,
    admin_code  VARCHAR(255) NOT NULL UNIQUE,
    role_id     VARCHAR(255) NOT NULL,
    FOREIGN KEY (role_id) REFERENCES roles (roles_id) ON DELETE RESTRICT
)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V1__CREATE_ENTITIES_TABLE.sql failed
----------------------------------------------
SQL State  : 42804
Error Code : 0
Message    : ERRO: restrição de chave estrangeira "admins_role_id_fkey" não pode ser implementada
  Detail: Colunas chave "role_id" e "roles_id" são de tipos incompatíveis: character varying e bigint.
Location   : db/migration/V1__CREATE_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V1__CREATE_ENTITIES_TABLE.sql)
Line       : 16
Statement  : -- Admins Table
CREATE TABLE IF NOT EXISTS admins
(
    person_id   BIGINT PRIMARY KEY DEFAULT nextval('person_id_seq'),
    name        VARCHAR(255) NOT NULL,
    email       VARCHAR(255) NOT NULL UNIQUE,
    contact     VARCHAR(255) NOT NULL UNIQUE,
    street      VARCHAR(255) NOT NULL,
    city        VARCHAR(255) NOT NULL,
    state       VARCHAR(255) NOT NULL,
    country     VARCHAR(255) NOT NULL,
    postal_code VARCHAR(255) NOT NULL,
    admin_code  VARCHAR(255) NOT NULL UNIQUE,
    role_id     VARCHAR(255) NOT NULL,
    FOREIGN KEY (role_id) REFERENCES roles (roles_id) ON DELETE RESTRICT
)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V1__CREATE_ENTITIES_TABLE.sql failed
----------------------------------------------
SQL State  : 42804
Error Code : 0
Message    : ERRO: restrição de chave estrangeira "admins_role_id_fkey" não pode ser implementada
  Detail: Colunas chave "role_id" e "roles_id" são de tipos incompatíveis: character varying e bigint.
Location   : db/migration/V1__CREATE_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V1__CREATE_ENTITIES_TABLE.sql)
Line       : 16
Statement  : -- Admins Table
CREATE TABLE IF NOT EXISTS admins
(
    person_id   BIGINT PRIMARY KEY DEFAULT nextval('person_id_seq'),
    name        VARCHAR(255) NOT NULL,
    email       VARCHAR(255) NOT NULL UNIQUE,
    contact     VARCHAR(255) NOT NULL UNIQUE,
    street      VARCHAR(255) NOT NULL,
    city        VARCHAR(255) NOT NULL,
    state       VARCHAR(255) NOT NULL,
    country     VARCHAR(255) NOT NULL,
    postal_code VARCHAR(255) NOT NULL,
    admin_code  VARCHAR(255) NOT NULL UNIQUE,
    role_id     VARCHAR(255) NOT NULL,
    FOREIGN KEY (role_id) REFERENCES roles (roles_id) ON DELETE RESTRICT
)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: restrição de chave estrangeira "admins_role_id_fkey" não pode ser implementada
  Detail: Colunas chave "role_id" e "roles_id" são de tipos incompatíveis: character varying e bigint.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 19:13:34,277 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 19:13:34,333 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 30388 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 19:13:34,334 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 19:13:34,335 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 19:13:34,384 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 19:13:34,384 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 19:13:35,616 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:13:35,618 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 19:13:35,637 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 0 JDBC repository interfaces.
2024-08-24 19:13:35,646 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:13:35,647 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 19:13:35,654 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 19:13:36,483 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 19:13:36,491 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 19:13:36,493 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 19:13:36,494 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 19:13:36,571 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 19:13:36,572 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2188 ms
2024-08-24 19:13:36,747 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 19:13:37,094 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1cde7290
2024-08-24 19:13:37,096 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 19:13:37,107 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 19:13:37,348 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 19:13:37,348 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 19:13:37,349 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 19:13:37,365 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 19:13:37,374 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 19:13:37,407 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 1 migration (execution time 00:00.022s)
2024-08-24 19:13:37,478 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": << Empty Schema >>
2024-08-24 19:13:37,500 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "1 - CREATE ENTITIES TABLE"
2024-08-24 19:13:37,512 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "person_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:13:37,513 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "book_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:13:37,514 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fine_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:13:37,607 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "members" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:13:37,625 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:13:37,626 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fines" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:13:37,627 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "member_books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:13:37,648 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Successfully applied 1 migration to schema "public", now at version v1 (execution time 00:00.130s)
2024-08-24 19:13:37,778 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 19:13:37,891 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 19:13:37,943 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 19:13:38,333 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 19:13:38,427 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 19:13:38,650 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:13:38,726 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:13:38,728 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:13:38,733 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:13:38,737 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:13:38,762 ERROR [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Failed to initialize JPA EntityManagerFactory: Collection 'code.with.vanilson.libraryapplication.admin.Admin.managedFines' is 'mappedBy' a property named 'admin' which does not exist in the target entity 'code.with.vanilson.libraryapplication.fine.Fine'
2024-08-24 19:13:38,763 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Collection 'code.with.vanilson.libraryapplication.admin.Admin.managedFines' is 'mappedBy' a property named 'admin' which does not exist in the target entity 'code.with.vanilson.libraryapplication.fine.Fine'
2024-08-24 19:13:38,765 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 19:13:38,832 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 19:13:38,844 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 19:13:38,892 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 19:13:38,920 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Collection 'code.with.vanilson.libraryapplication.admin.Admin.managedFines' is 'mappedBy' a property named 'admin' which does not exist in the target entity 'code.with.vanilson.libraryapplication.fine.Fine'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.hibernate.AnnotationException: Collection 'code.with.vanilson.libraryapplication.admin.Admin.managedFines' is 'mappedBy' a property named 'admin' which does not exist in the target entity 'code.with.vanilson.libraryapplication.fine.Fine'
	at org.hibernate.boot.model.internal.CollectionBinder.isReversePropertyInJoin(CollectionBinder.java:1622)
	at org.hibernate.boot.model.internal.CollectionBinder.noAssociationTable(CollectionBinder.java:1636)
	at org.hibernate.boot.model.internal.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:1597)
	at org.hibernate.boot.model.internal.CollectionBinder$1.secondPass(CollectionBinder.java:1588)
	at org.hibernate.boot.model.internal.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1815)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1774)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:332)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 20 common frames omitted
2024-08-24 19:15:57,031 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 19:15:57,084 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 23948 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 19:15:57,085 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 19:15:57,085 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 19:15:57,136 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 19:15:57,137 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 19:15:58,314 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:15:58,316 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 19:15:58,336 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 0 JDBC repository interfaces.
2024-08-24 19:15:58,345 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:15:58,347 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 19:15:58,354 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 19:15:59,117 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 19:15:59,126 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 19:15:59,127 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 19:15:59,128 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 19:15:59,194 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 19:15:59,195 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2057 ms
2024-08-24 19:15:59,329 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 19:15:59,593 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@757766dc
2024-08-24 19:15:59,596 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 19:15:59,606 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 19:15:59,847 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 19:15:59,848 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 19:15:59,848 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 19:15:59,867 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 19:15:59,874 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 19:15:59,910 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 1 migration (execution time 00:00.025s)
2024-08-24 19:15:59,928 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 1
2024-08-24 19:15:59,933 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Schema "public" is up to date. No migration necessary.
2024-08-24 19:16:00,081 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 19:16:00,191 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 19:16:00,246 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 19:16:00,580 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 19:16:00,667 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 19:16:00,884 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:16:00,960 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:16:00,963 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:16:00,969 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:16:00,974 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:16:01,002 ERROR [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Failed to initialize JPA EntityManagerFactory: Collection 'code.with.vanilson.libraryapplication.admin.Admin.managedFines' is 'mappedBy' a property named 'admin' which does not exist in the target entity 'code.with.vanilson.libraryapplication.fine.Fine'
2024-08-24 19:16:01,003 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Collection 'code.with.vanilson.libraryapplication.admin.Admin.managedFines' is 'mappedBy' a property named 'admin' which does not exist in the target entity 'code.with.vanilson.libraryapplication.fine.Fine'
2024-08-24 19:16:01,004 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 19:16:01,104 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 19:16:01,107 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 19:16:01,130 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 19:16:01,156 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Collection 'code.with.vanilson.libraryapplication.admin.Admin.managedFines' is 'mappedBy' a property named 'admin' which does not exist in the target entity 'code.with.vanilson.libraryapplication.fine.Fine'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.hibernate.AnnotationException: Collection 'code.with.vanilson.libraryapplication.admin.Admin.managedFines' is 'mappedBy' a property named 'admin' which does not exist in the target entity 'code.with.vanilson.libraryapplication.fine.Fine'
	at org.hibernate.boot.model.internal.CollectionBinder.isReversePropertyInJoin(CollectionBinder.java:1622)
	at org.hibernate.boot.model.internal.CollectionBinder.noAssociationTable(CollectionBinder.java:1636)
	at org.hibernate.boot.model.internal.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:1597)
	at org.hibernate.boot.model.internal.CollectionBinder$1.secondPass(CollectionBinder.java:1588)
	at org.hibernate.boot.model.internal.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1815)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1774)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:332)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 20 common frames omitted
2024-08-24 19:18:29,429 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 19:18:29,482 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 2836 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 19:18:29,483 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 19:18:29,484 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 19:18:29,541 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 19:18:29,542 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 19:18:30,714 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:18:30,715 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 19:18:30,736 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 16 ms. Found 0 JDBC repository interfaces.
2024-08-24 19:18:30,744 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:18:30,745 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 19:18:30,752 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 19:18:31,552 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 19:18:31,560 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 19:18:31,563 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 19:18:31,563 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 19:18:31,628 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 19:18:31,629 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2087 ms
2024-08-24 19:18:31,765 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 19:18:32,041 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@e9e9aa9
2024-08-24 19:18:32,043 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 19:18:32,053 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 19:18:32,277 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 19:18:32,277 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 19:18:32,277 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 19:18:32,299 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 19:18:32,307 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 19:18:32,338 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 1 migration (execution time 00:00.021s)
2024-08-24 19:18:32,354 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": << Empty Schema >>
2024-08-24 19:18:32,381 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "1 - CREATE ENTITIES TABLE"
2024-08-24 19:18:32,391 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "person_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:18:32,392 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "book_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:18:32,393 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fine_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:18:32,394 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "roles" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:18:32,395 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "admins" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:18:32,396 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "librarians" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:18:32,398 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "members" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:18:32,399 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "statuses" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:18:32,401 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:18:32,401 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fines" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:18:32,401 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "member_books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:18:32,423 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Successfully applied 1 migration to schema "public", now at version v1 (execution time 00:00.022s)
2024-08-24 19:18:32,532 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 19:18:32,628 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 19:18:32,667 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 19:18:32,966 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 19:18:33,039 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 19:18:33,230 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:18:33,294 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:18:33,296 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:18:33,302 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:18:33,309 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:18:33,338 ERROR [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Failed to initialize JPA EntityManagerFactory: Collection 'code.with.vanilson.libraryapplication.admin.Admin.managedLibrarians' is 'mappedBy' a property named 'admin' which does not exist in the target entity 'code.with.vanilson.libraryapplication.librarian.Librarian'
2024-08-24 19:18:33,338 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Collection 'code.with.vanilson.libraryapplication.admin.Admin.managedLibrarians' is 'mappedBy' a property named 'admin' which does not exist in the target entity 'code.with.vanilson.libraryapplication.librarian.Librarian'
2024-08-24 19:18:33,340 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 19:18:33,443 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 19:18:33,455 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 19:18:33,507 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 19:18:33,534 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Collection 'code.with.vanilson.libraryapplication.admin.Admin.managedLibrarians' is 'mappedBy' a property named 'admin' which does not exist in the target entity 'code.with.vanilson.libraryapplication.librarian.Librarian'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.hibernate.AnnotationException: Collection 'code.with.vanilson.libraryapplication.admin.Admin.managedLibrarians' is 'mappedBy' a property named 'admin' which does not exist in the target entity 'code.with.vanilson.libraryapplication.librarian.Librarian'
	at org.hibernate.boot.model.internal.CollectionBinder.isReversePropertyInJoin(CollectionBinder.java:1622)
	at org.hibernate.boot.model.internal.CollectionBinder.noAssociationTable(CollectionBinder.java:1636)
	at org.hibernate.boot.model.internal.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:1597)
	at org.hibernate.boot.model.internal.CollectionBinder$1.secondPass(CollectionBinder.java:1588)
	at org.hibernate.boot.model.internal.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1815)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1774)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:332)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 20 common frames omitted
2024-08-24 19:22:39,517 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 19:22:39,571 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 21092 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 19:22:39,572 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 19:22:39,573 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 19:22:39,623 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 19:22:39,624 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 19:22:40,836 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:22:40,837 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 19:22:40,858 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 17 ms. Found 0 JDBC repository interfaces.
2024-08-24 19:22:40,868 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:22:40,869 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 19:22:40,876 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 19:22:41,668 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 19:22:41,677 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 19:22:41,679 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 19:22:41,679 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 19:22:41,752 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 19:22:41,753 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2128 ms
2024-08-24 19:22:41,901 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 19:22:42,179 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@58408c9e
2024-08-24 19:22:42,180 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 19:22:42,189 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 19:22:42,439 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 19:22:42,440 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 19:22:42,440 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 19:22:42,457 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 19:22:42,463 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 19:22:42,496 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 1 migration (execution time 00:00.023s)
2024-08-24 19:22:42,513 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": << Empty Schema >>
2024-08-24 19:22:42,541 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "1 - CREATE ENTITIES TABLE"
2024-08-24 19:22:42,550 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "person_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:22:42,551 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "book_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:22:42,551 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fine_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:22:42,552 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "roles" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:22:42,553 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "admins" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:22:42,554 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "librarians" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:22:42,555 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "members" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:22:42,556 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "statuses" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:22:42,557 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:22:42,558 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fines" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:22:42,560 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "member_books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:22:42,583 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Successfully applied 1 migration to schema "public", now at version v1 (execution time 00:00.021s)
2024-08-24 19:22:42,698 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 19:22:42,795 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 19:22:42,832 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 19:22:43,129 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 19:22:43,196 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 19:22:43,389 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:22:43,464 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:22:43,467 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:22:43,474 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:22:43,481 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:22:44,701 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 19:22:44,876 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 19:22:46,616 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 19:22:46,624 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 19:22:46,705 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 19:22:46,729 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 19:22:46,749 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 7.742 seconds (process running for 8.935)
2024-08-24 19:22:47,166 INFO  [RMI TCP Connection(3)-172.21.16.1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-08-24 19:22:47,166 INFO  [RMI TCP Connection(3)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-08-24 19:22:47,168 INFO  [RMI TCP Connection(3)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2024-08-24 19:24:03,203 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 19:24:03,209 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 19:24:03,218 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 19:24:07,327 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 19:24:07,382 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 20852 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 19:24:07,383 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 19:24:07,384 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 19:24:07,437 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 19:24:07,438 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 19:24:08,760 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:24:08,762 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 19:24:08,781 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 0 JDBC repository interfaces.
2024-08-24 19:24:08,791 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:24:08,793 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 19:24:08,800 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 19:24:09,568 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 19:24:09,578 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 19:24:09,581 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 19:24:09,581 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 19:24:09,667 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 19:24:09,667 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2229 ms
2024-08-24 19:24:09,805 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 19:24:10,093 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@51caade8
2024-08-24 19:24:10,095 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 19:24:10,104 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 19:24:10,325 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 19:24:10,326 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 19:24:10,326 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 19:24:10,347 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 19:24:10,355 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 19:24:10,388 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 1 migration (execution time 00:00.021s)
2024-08-24 19:24:10,398 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 1
2024-08-24 19:24:10,401 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Schema "public" is up to date. No migration necessary.
2024-08-24 19:24:10,516 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 19:24:10,597 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 19:24:10,658 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 19:24:10,953 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 19:24:11,031 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 19:24:11,241 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:24:11,307 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:24:11,309 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:24:11,314 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:24:11,318 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:24:12,370 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 19:24:12,515 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 19:24:13,937 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 19:24:13,945 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 19:24:14,018 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 19:24:14,041 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 19:24:14,067 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 7.335 seconds (process running for 8.52)
2024-08-24 19:24:14,444 INFO  [RMI TCP Connection(3)-172.21.16.1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-08-24 19:24:14,445 INFO  [RMI TCP Connection(3)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-08-24 19:24:14,447 INFO  [RMI TCP Connection(3)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2024-08-24 19:28:10,563 INFO  [File Watcher] o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2024-08-24 19:28:10,569 INFO  [Thread-5] o.a.coyote.http11.Http11NioProtocol: Stopping ProtocolHandler ["http-nio-8081"]
2024-08-24 19:28:11,883 INFO  [Thread-5] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 19:28:11,890 INFO  [Thread-5] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 19:28:11,906 INFO  [Thread-5] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 19:28:12,072 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 20852 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 19:28:12,073 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 19:28:12,074 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 19:28:12,724 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:28:12,724 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 19:28:12,728 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JDBC repository interfaces.
2024-08-24 19:28:12,732 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:28:12,732 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 19:28:12,737 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 19:28:13,040 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 19:28:13,041 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 19:28:13,042 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 19:28:13,043 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 19:28:13,109 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 19:28:13,110 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1031 ms
2024-08-24 19:28:13,197 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Starting...
2024-08-24 19:28:13,399 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@48131411
2024-08-24 19:28:13,400 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Start completed.
2024-08-24 19:28:13,401 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 19:28:13,571 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 19:28:13,575 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 19:28:13,592 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.011s)
2024-08-24 19:28:13,810 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 1
2024-08-24 19:28:13,825 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "2 - INSERT DATAS INTO ENTITIES TABLE"
2024-08-24 19:28:13,843 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Successfully applied 1 migration to schema "public", now at version v2 (execution time 00:00.007s)
2024-08-24 19:28:13,936 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 19:28:13,947 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 19:28:13,962 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 19:28:13,983 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 19:28:14,003 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:28:14,033 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:28:14,037 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:28:14,047 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:28:14,054 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:28:14,332 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 19:28:14,572 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 19:28:16,308 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 19:28:16,325 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 19:28:16,425 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 19:28:16,435 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 19:28:16,460 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 4.466 seconds (process running for 250.913)
2024-08-24 19:28:16,468 INFO  [restartedMain] o.s.b.d.a.ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
2024-08-24 19:29:21,770 INFO  [File Watcher] o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2024-08-24 19:29:21,773 INFO  [Thread-7] o.a.coyote.http11.Http11NioProtocol: Stopping ProtocolHandler ["http-nio-8081"]
2024-08-24 19:29:22,720 INFO  [Thread-7] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 19:29:22,722 INFO  [Thread-7] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Shutdown initiated...
2024-08-24 19:29:22,732 INFO  [Thread-7] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Shutdown completed.
2024-08-24 19:29:22,873 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 20852 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 19:29:22,873 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 19:29:22,874 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 19:29:23,377 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:29:23,377 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 19:29:23,382 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JDBC repository interfaces.
2024-08-24 19:29:23,386 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:29:23,387 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 19:29:23,390 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 19:29:23,563 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 19:29:23,564 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 19:29:23,564 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 19:29:23,564 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 19:29:23,603 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 19:29:23,603 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 726 ms
2024-08-24 19:29:23,689 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-3 - Starting...
2024-08-24 19:29:23,834 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@1087daaf
2024-08-24 19:29:23,835 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-3 - Start completed.
2024-08-24 19:29:23,835 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 19:29:23,897 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 19:29:23,899 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 19:29:23,911 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : 880327962
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
2024-08-24 19:29:23,911 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-3 - Shutdown initiated...
2024-08-24 19:29:23,913 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-3 - Shutdown completed.
2024-08-24 19:29:23,913 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 19:29:23,925 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 19:29:23,943 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : 880327962
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : 880327962
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : 880327962
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:146)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
2024-08-24 19:30:27,517 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 20852 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 19:30:27,518 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 19:30:27,518 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 19:30:28,154 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:30:28,154 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 19:30:28,159 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JDBC repository interfaces.
2024-08-24 19:30:28,164 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:30:28,164 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 19:30:28,168 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.
2024-08-24 19:30:28,354 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 19:30:28,356 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 19:30:28,356 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 19:30:28,356 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 19:30:28,394 INFO  [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 19:30:28,394 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 873 ms
2024-08-24 19:30:28,476 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-4 - Starting...
2024-08-24 19:30:28,659 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@140eee86
2024-08-24 19:30:28,659 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-4 - Start completed.
2024-08-24 19:30:28,660 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 19:30:28,744 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 19:30:28,748 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 19:30:28,763 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : -1663041425
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
2024-08-24 19:30:28,763 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-4 - Shutdown initiated...
2024-08-24 19:30:28,765 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-4 - Shutdown completed.
2024-08-24 19:30:28,766 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 19:30:28,785 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 19:30:28,789 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : -1663041425
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : -1663041425
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : -1663041425
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:146)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
2024-08-24 19:30:30,286 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 20852 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 19:30:30,286 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 19:30:30,286 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 19:30:30,946 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:30:30,946 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 19:30:30,953 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 6 ms. Found 0 JDBC repository interfaces.
2024-08-24 19:30:30,960 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:30:30,961 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 19:30:30,967 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 5 ms. Found 0 JPA repository interfaces.
2024-08-24 19:30:31,263 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 19:30:31,264 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 19:30:31,264 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 19:30:31,264 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 19:30:31,313 INFO  [restartedMain] o.a.c.c.C.[Tomcat-2].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 19:30:31,313 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1025 ms
2024-08-24 19:30:31,381 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-5 - Starting...
2024-08-24 19:30:31,520 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@4a45a037
2024-08-24 19:30:31,521 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-5 - Start completed.
2024-08-24 19:30:31,521 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 19:30:31,585 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 19:30:31,588 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 19:30:31,598 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : -1663041425
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
2024-08-24 19:30:31,598 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-5 - Shutdown initiated...
2024-08-24 19:30:31,599 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-5 - Shutdown completed.
2024-08-24 19:30:31,599 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 19:30:31,611 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 19:30:31,615 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : -1663041425
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : -1663041425
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : -1663041425
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:146)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
2024-08-24 19:31:38,636 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 20852 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 19:31:38,637 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 19:31:38,637 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 19:31:39,174 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:31:39,174 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 19:31:39,179 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JDBC repository interfaces.
2024-08-24 19:31:39,184 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:31:39,184 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 19:31:39,187 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 2 ms. Found 0 JPA repository interfaces.
2024-08-24 19:31:39,381 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 19:31:39,382 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 19:31:39,382 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 19:31:39,382 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 19:31:39,440 INFO  [restartedMain] o.a.c.c.C.[Tomcat-3].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 19:31:39,440 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 801 ms
2024-08-24 19:31:39,502 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-6 - Starting...
2024-08-24 19:31:39,643 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-6 - Added connection org.postgresql.jdbc.PgConnection@1dbda502
2024-08-24 19:31:39,643 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-6 - Start completed.
2024-08-24 19:31:39,643 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 19:31:39,702 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 19:31:39,704 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 19:31:39,715 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : -1071381896
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
2024-08-24 19:31:39,715 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-6 - Shutdown initiated...
2024-08-24 19:31:39,716 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-6 - Shutdown completed.
2024-08-24 19:31:39,717 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 19:31:39,728 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 19:31:39,731 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : -1071381896
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : -1071381896
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : -1071381896
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:146)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
2024-08-24 19:33:15,501 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 20852 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 19:33:15,502 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 19:33:15,502 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 19:33:16,106 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:33:16,106 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 19:33:16,112 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 5 ms. Found 0 JDBC repository interfaces.
2024-08-24 19:33:16,120 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:33:16,120 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 19:33:16,125 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 5 ms. Found 0 JPA repository interfaces.
2024-08-24 19:33:16,385 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 19:33:16,387 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 19:33:16,387 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 19:33:16,387 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 19:33:16,444 INFO  [restartedMain] o.a.c.c.C.[Tomcat-4].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 19:33:16,444 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 940 ms
2024-08-24 19:33:16,548 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-7 - Starting...
2024-08-24 19:33:16,750 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-7 - Added connection org.postgresql.jdbc.PgConnection@7dbb0287
2024-08-24 19:33:16,750 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-7 - Start completed.
2024-08-24 19:33:16,751 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 19:33:16,884 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 19:33:16,887 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 19:33:16,905 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : 1571101181
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
2024-08-24 19:33:16,906 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-7 - Shutdown initiated...
2024-08-24 19:33:17,137 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-7 - Shutdown completed.
2024-08-24 19:33:17,138 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 19:33:17,190 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 19:33:17,198 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : 1571101181
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : 1571101181
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : 1571101181
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:146)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
2024-08-24 19:33:33,201 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 20852 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 19:33:33,203 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 19:33:33,203 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 19:33:33,758 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:33:33,758 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 19:33:33,767 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 8 ms. Found 0 JDBC repository interfaces.
2024-08-24 19:33:33,782 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:33:33,783 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 19:33:33,789 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 5 ms. Found 0 JPA repository interfaces.
2024-08-24 19:33:34,049 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 19:33:34,050 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 19:33:34,051 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 19:33:34,051 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 19:33:34,123 INFO  [restartedMain] o.a.c.c.C.[Tomcat-5].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 19:33:34,123 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 919 ms
2024-08-24 19:33:34,229 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-8 - Starting...
2024-08-24 19:33:34,420 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-8 - Added connection org.postgresql.jdbc.PgConnection@10de1ef7
2024-08-24 19:33:34,421 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-8 - Start completed.
2024-08-24 19:33:34,421 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 19:33:34,546 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 19:33:34,549 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 19:33:34,565 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : -491346747
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
2024-08-24 19:33:34,566 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-8 - Shutdown initiated...
2024-08-24 19:33:34,763 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-8 - Shutdown completed.
2024-08-24 19:33:34,764 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 19:33:34,789 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 19:33:34,820 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : -491346747
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : -491346747
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : -491346747
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:146)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
2024-08-24 19:33:46,638 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 20852 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 19:33:46,638 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 19:33:46,638 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 19:33:47,117 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:33:47,118 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 19:33:47,122 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JDBC repository interfaces.
2024-08-24 19:33:47,126 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:33:47,126 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 19:33:47,129 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 2 ms. Found 0 JPA repository interfaces.
2024-08-24 19:33:47,442 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 19:33:47,443 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 19:33:47,444 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 19:33:47,444 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 19:33:47,509 INFO  [restartedMain] o.a.c.c.C.[Tomcat-6].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 19:33:47,509 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 868 ms
2024-08-24 19:33:47,599 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-9 - Starting...
2024-08-24 19:33:47,793 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-9 - Added connection org.postgresql.jdbc.PgConnection@2e58e522
2024-08-24 19:33:47,794 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-9 - Start completed.
2024-08-24 19:33:47,794 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 19:33:47,893 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 19:33:47,896 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 19:33:47,909 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : 508068549
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
2024-08-24 19:33:47,909 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-9 - Shutdown initiated...
2024-08-24 19:33:48,121 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-9 - Shutdown completed.
2024-08-24 19:33:48,122 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 19:33:48,146 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 19:33:48,152 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : 508068549
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : 508068549
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : 508068549
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:146)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
2024-08-24 19:35:02,165 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 20852 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 19:35:02,166 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 19:35:02,166 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 19:35:02,767 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:35:02,768 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 19:35:02,776 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 7 ms. Found 0 JDBC repository interfaces.
2024-08-24 19:35:02,783 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:35:02,784 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 19:35:02,792 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 8 ms. Found 0 JPA repository interfaces.
2024-08-24 19:35:03,176 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 19:35:03,177 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 19:35:03,178 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 19:35:03,178 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 19:35:03,260 INFO  [restartedMain] o.a.c.c.C.[Tomcat-7].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 19:35:03,261 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1093 ms
2024-08-24 19:35:03,348 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-10 - Starting...
2024-08-24 19:35:03,516 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-10 - Added connection org.postgresql.jdbc.PgConnection@11f54433
2024-08-24 19:35:03,516 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-10 - Start completed.
2024-08-24 19:35:03,517 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 19:35:03,580 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 19:35:03,582 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 19:35:03,592 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : -1428429323
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
2024-08-24 19:35:03,592 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-10 - Shutdown initiated...
2024-08-24 19:35:03,593 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-10 - Shutdown completed.
2024-08-24 19:35:03,593 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 19:35:03,604 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 19:35:03,608 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : -1428429323
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : -1428429323
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : -1428429323
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:146)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
2024-08-24 19:35:15,464 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 20852 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 19:35:15,465 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 19:35:15,465 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 19:35:16,177 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:35:16,177 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 19:35:16,184 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 6 ms. Found 0 JDBC repository interfaces.
2024-08-24 19:35:16,190 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:35:16,190 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 19:35:16,194 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 19:35:16,397 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 19:35:16,398 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 19:35:16,398 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 19:35:16,398 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 19:35:16,446 INFO  [restartedMain] o.a.c.c.C.[Tomcat-8].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 19:35:16,446 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 979 ms
2024-08-24 19:35:16,534 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-11 - Starting...
2024-08-24 19:35:16,818 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-11 - Added connection org.postgresql.jdbc.PgConnection@318346d
2024-08-24 19:35:16,819 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-11 - Start completed.
2024-08-24 19:35:16,819 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 19:35:16,921 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 19:35:16,923 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 19:35:16,946 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : -1358916164
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
2024-08-24 19:35:16,947 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-11 - Shutdown initiated...
2024-08-24 19:35:17,128 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-11 - Shutdown completed.
2024-08-24 19:35:17,130 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 19:35:17,172 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 19:35:17,177 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : -1358916164
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : -1358916164
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : -1358916164
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:146)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
2024-08-24 19:35:39,705 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 19:35:39,758 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 24216 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 19:35:39,759 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 19:35:39,760 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 19:35:39,808 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 19:35:39,808 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 19:35:40,937 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:35:40,938 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 19:35:40,955 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 12 ms. Found 0 JDBC repository interfaces.
2024-08-24 19:35:40,963 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:35:40,964 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 19:35:40,970 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 19:35:41,739 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 19:35:41,747 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 19:35:41,749 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 19:35:41,749 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 19:35:41,818 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 19:35:41,819 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2010 ms
2024-08-24 19:35:41,972 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 19:35:42,233 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@58c51801
2024-08-24 19:35:42,235 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 19:35:42,245 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 19:35:42,471 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 19:35:42,471 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 19:35:42,472 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 19:35:42,489 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 19:35:42,495 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 19:35:42,542 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : -1559418952
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
2024-08-24 19:35:42,542 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 19:35:42,720 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 19:35:42,724 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 19:35:42,754 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 19:35:42,791 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : -1559418952
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : -1559418952
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 0
-> Resolved locally    : -1559418952
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:146)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
2024-08-24 19:36:25,855 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 19:36:25,905 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 16416 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 19:36:25,906 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 19:36:25,907 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 19:36:25,957 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 19:36:25,957 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 19:36:27,097 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:36:27,098 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 19:36:27,115 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 19:36:27,123 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:36:27,124 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 19:36:27,134 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 19:36:27,882 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 19:36:27,892 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 19:36:27,894 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 19:36:27,894 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 19:36:27,962 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 19:36:27,962 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2004 ms
2024-08-24 19:36:28,099 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 19:36:28,364 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@381acd8c
2024-08-24 19:36:28,366 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 19:36:28,375 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 19:36:28,591 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 19:36:28,592 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 19:36:28,592 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 19:36:28,616 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 19:36:28,624 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 19:36:28,658 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.024s)
2024-08-24 19:36:28,670 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 1
2024-08-24 19:36:28,695 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "2 - INSERT DATAS INTO ENTITIES TABLE"
2024-08-24 19:36:28,719 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "2 - INSERT DATAS INTO ENTITIES TABLE" failed! Changes successfully rolled back.
2024-08-24 19:36:28,724 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.txt failed
---------------------------------------------------------
SQL State  : 42601
Error Code : 0
Message    : ERRO: INSERT tem mais colunas alvo do que expressões
  Position: 269
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.txt (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.txt)
Line       : 18
Statement  : -- Insert Admins, using role_id from the roles table
-- Assume roles are inserted in the order ADMIN=1, LIBRARIAN=2, MEMBER=3

INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role_id,
                    role)
VALUES (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL',
        'USA', '62701', 'AD123',
        1),
       (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelby ville',
        'IL', 'USA', '62565',
        'AD456', 1)

2024-08-24 19:36:28,724 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 19:36:28,832 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 19:36:28,836 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 19:36:28,859 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 19:36:28,886 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.txt failed
---------------------------------------------------------
SQL State  : 42601
Error Code : 0
Message    : ERRO: INSERT tem mais colunas alvo do que expressões
  Position: 269
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.txt (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.txt)
Line       : 18
Statement  : -- Insert Admins, using role_id from the roles table
-- Assume roles are inserted in the order ADMIN=1, LIBRARIAN=2, MEMBER=3

INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role_id,
                    role)
VALUES (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL',
        'USA', '62701', 'AD123',
        1),
       (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelby ville',
        'IL', 'USA', '62565',
        'AD456', 1)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.txt failed
---------------------------------------------------------
SQL State  : 42601
Error Code : 0
Message    : ERRO: INSERT tem mais colunas alvo do que expressões
  Position: 269
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.txt (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.txt)
Line       : 18
Statement  : -- Insert Admins, using role_id from the roles table
-- Assume roles are inserted in the order ADMIN=1, LIBRARIAN=2, MEMBER=3

INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role_id,
                    role)
VALUES (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL',
        'USA', '62701', 'AD123',
        1),
       (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelby ville',
        'IL', 'USA', '62565',
        'AD456', 1)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.txt failed
---------------------------------------------------------
SQL State  : 42601
Error Code : 0
Message    : ERRO: INSERT tem mais colunas alvo do que expressões
  Position: 269
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.txt (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.txt)
Line       : 18
Statement  : -- Insert Admins, using role_id from the roles table
-- Assume roles are inserted in the order ADMIN=1, LIBRARIAN=2, MEMBER=3

INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role_id,
                    role)
VALUES (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL',
        'USA', '62701', 'AD123',
        1),
       (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelby ville',
        'IL', 'USA', '62565',
        'AD456', 1)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.txt failed
---------------------------------------------------------
SQL State  : 42601
Error Code : 0
Message    : ERRO: INSERT tem mais colunas alvo do que expressões
  Position: 269
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.txt (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.txt)
Line       : 18
Statement  : -- Insert Admins, using role_id from the roles table
-- Assume roles are inserted in the order ADMIN=1, LIBRARIAN=2, MEMBER=3

INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role_id,
                    role)
VALUES (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL',
        'USA', '62701', 'AD123',
        1),
       (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelby ville',
        'IL', 'USA', '62565',
        'AD456', 1)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: INSERT tem mais colunas alvo do que expressões
  Position: 269
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 19:42:27,088 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 19:42:27,146 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 20332 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 19:42:27,147 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 19:42:27,149 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 19:42:27,201 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 19:42:27,201 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 19:42:28,347 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:42:28,348 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 19:42:28,366 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 19:42:28,374 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:42:28,375 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 19:42:28,381 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 19:42:29,137 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 19:42:29,146 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 19:42:29,148 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 19:42:29,148 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 19:42:29,223 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 19:42:29,224 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2021 ms
2024-08-24 19:42:29,373 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 19:42:29,632 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@41779cba
2024-08-24 19:42:29,633 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 19:42:29,643 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 19:42:29,858 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 19:42:29,858 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 19:42:29,858 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 19:42:29,879 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 19:42:29,887 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 19:42:29,919 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.021s)
2024-08-24 19:42:29,930 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": << Empty Schema >>
2024-08-24 19:42:29,957 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "1 - CREATE ENTITIES TABLE"
2024-08-24 19:42:29,967 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "person_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:42:29,968 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "book_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:42:29,969 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fine_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:42:29,970 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "roles" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:42:29,971 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "admins" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:42:29,972 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "librarians" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:42:29,973 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "members" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:42:29,974 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "statuses" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:42:29,975 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:42:29,976 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fines" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:42:29,976 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "member_books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:42:30,001 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "2 - INSERT DATAS INTO ENTITIES TABLE"
2024-08-24 19:42:30,013 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "2 - INSERT DATAS INTO ENTITIES TABLE" failed! Changes successfully rolled back.
2024-08-24 19:42:30,017 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.txt failed
---------------------------------------------------------
SQL State  : 23502
Error Code : 0
Message    : ERRO: null value in column "role" of relation "admins" violates not-null constraint
  Detail: Registro que falhou contém (1, John Doe, john.doe@example.com, 1234567890, 123 Elm St, Springfield, IL, USA, 62701, AD123, 1, null).
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.txt (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.txt)
Line       : 24
Statement  : -- Insert Admins, using role_id from the roles table
-- Assume roles are inserted in the order ADMIN=1, LIBRARIAN=2, MEMBER=3

-- Insert Admins, using role_id from the roles table
-- Assume roles are inserted with roles_id 1 (ADMIN)

-- Insert Admins, using role_id from the roles table
-- Assuming roles are inserted in the order ADMIN=1, LIBRARIAN=2, MEMBER=3

INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role_id)
VALUES (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL',
        'USA', '62701', 'AD123', 1),
       (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville',
        'IL', 'USA', '62565', 'AD456', 1)

2024-08-24 19:42:30,018 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 19:42:30,091 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 19:42:30,094 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 19:42:30,116 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 19:42:30,143 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.txt failed
---------------------------------------------------------
SQL State  : 23502
Error Code : 0
Message    : ERRO: null value in column "role" of relation "admins" violates not-null constraint
  Detail: Registro que falhou contém (1, John Doe, john.doe@example.com, 1234567890, 123 Elm St, Springfield, IL, USA, 62701, AD123, 1, null).
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.txt (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.txt)
Line       : 24
Statement  : -- Insert Admins, using role_id from the roles table
-- Assume roles are inserted in the order ADMIN=1, LIBRARIAN=2, MEMBER=3

-- Insert Admins, using role_id from the roles table
-- Assume roles are inserted with roles_id 1 (ADMIN)

-- Insert Admins, using role_id from the roles table
-- Assuming roles are inserted in the order ADMIN=1, LIBRARIAN=2, MEMBER=3

INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role_id)
VALUES (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL',
        'USA', '62701', 'AD123', 1),
       (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville',
        'IL', 'USA', '62565', 'AD456', 1)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.txt failed
---------------------------------------------------------
SQL State  : 23502
Error Code : 0
Message    : ERRO: null value in column "role" of relation "admins" violates not-null constraint
  Detail: Registro que falhou contém (1, John Doe, john.doe@example.com, 1234567890, 123 Elm St, Springfield, IL, USA, 62701, AD123, 1, null).
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.txt (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.txt)
Line       : 24
Statement  : -- Insert Admins, using role_id from the roles table
-- Assume roles are inserted in the order ADMIN=1, LIBRARIAN=2, MEMBER=3

-- Insert Admins, using role_id from the roles table
-- Assume roles are inserted with roles_id 1 (ADMIN)

-- Insert Admins, using role_id from the roles table
-- Assuming roles are inserted in the order ADMIN=1, LIBRARIAN=2, MEMBER=3

INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role_id)
VALUES (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL',
        'USA', '62701', 'AD123', 1),
       (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville',
        'IL', 'USA', '62565', 'AD456', 1)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.txt failed
---------------------------------------------------------
SQL State  : 23502
Error Code : 0
Message    : ERRO: null value in column "role" of relation "admins" violates not-null constraint
  Detail: Registro que falhou contém (1, John Doe, john.doe@example.com, 1234567890, 123 Elm St, Springfield, IL, USA, 62701, AD123, 1, null).
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.txt (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.txt)
Line       : 24
Statement  : -- Insert Admins, using role_id from the roles table
-- Assume roles are inserted in the order ADMIN=1, LIBRARIAN=2, MEMBER=3

-- Insert Admins, using role_id from the roles table
-- Assume roles are inserted with roles_id 1 (ADMIN)

-- Insert Admins, using role_id from the roles table
-- Assuming roles are inserted in the order ADMIN=1, LIBRARIAN=2, MEMBER=3

INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role_id)
VALUES (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL',
        'USA', '62701', 'AD123', 1),
       (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville',
        'IL', 'USA', '62565', 'AD456', 1)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.txt failed
---------------------------------------------------------
SQL State  : 23502
Error Code : 0
Message    : ERRO: null value in column "role" of relation "admins" violates not-null constraint
  Detail: Registro que falhou contém (1, John Doe, john.doe@example.com, 1234567890, 123 Elm St, Springfield, IL, USA, 62701, AD123, 1, null).
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.txt (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.txt)
Line       : 24
Statement  : -- Insert Admins, using role_id from the roles table
-- Assume roles are inserted in the order ADMIN=1, LIBRARIAN=2, MEMBER=3

-- Insert Admins, using role_id from the roles table
-- Assume roles are inserted with roles_id 1 (ADMIN)

-- Insert Admins, using role_id from the roles table
-- Assuming roles are inserted in the order ADMIN=1, LIBRARIAN=2, MEMBER=3

INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role_id)
VALUES (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL',
        'USA', '62701', 'AD123', 1),
       (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville',
        'IL', 'USA', '62565', 'AD456', 1)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: null value in column "role" of relation "admins" violates not-null constraint
  Detail: Registro que falhou contém (1, John Doe, john.doe@example.com, 1234567890, 123 Elm St, Springfield, IL, USA, 62701, AD123, 1, null).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 19:45:41,821 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 19:45:41,876 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 26988 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 19:45:41,877 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 19:45:41,878 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 19:45:41,926 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 19:45:41,926 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 19:45:43,058 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:45:43,059 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 19:45:43,078 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 19:45:43,087 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:45:43,088 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 19:45:43,095 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 19:45:43,940 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 19:45:43,949 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 19:45:43,951 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 19:45:43,951 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 19:45:44,019 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 19:45:44,019 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2092 ms
2024-08-24 19:45:44,161 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 19:45:44,425 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@647343a7
2024-08-24 19:45:44,427 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 19:45:44,437 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 19:45:44,668 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 19:45:44,669 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 19:45:44,669 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 19:45:44,686 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 19:45:44,692 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 19:45:44,725 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.022s)
2024-08-24 19:45:44,741 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": << Empty Schema >>
2024-08-24 19:45:44,769 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "1 - CREATE ENTITIES TABLE"
2024-08-24 19:45:44,778 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "person_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:45:44,780 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "book_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:45:44,781 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fine_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:45:44,782 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "roles" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:45:44,783 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "admins" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:45:44,784 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "librarians" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:45:44,785 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "members" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:45:44,786 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "statuses" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:45:44,787 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:45:44,788 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fines" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:45:44,788 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "member_books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 19:45:44,812 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE"
2024-08-24 19:45:44,823 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "public", now at version v2 (execution time 00:00.025s)
2024-08-24 19:45:44,939 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 19:45:45,022 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 19:45:45,056 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 19:45:45,311 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 19:45:45,385 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 19:45:45,581 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:45:45,653 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:45:45,655 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:45:45,660 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:45:45,665 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:45:46,666 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 19:45:46,803 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 19:45:48,188 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 19:45:48,197 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 19:45:48,271 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 19:45:48,294 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 19:45:48,312 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 6.964 seconds (process running for 8.044)
2024-08-24 19:45:48,515 INFO  [RMI TCP Connection(2)-172.21.16.1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-08-24 19:45:48,515 INFO  [RMI TCP Connection(2)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-08-24 19:45:48,517 INFO  [RMI TCP Connection(2)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2024-08-24 19:46:27,947 INFO  [File Watcher] o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2024-08-24 19:46:27,953 INFO  [Thread-5] o.a.coyote.http11.Http11NioProtocol: Stopping ProtocolHandler ["http-nio-8081"]
2024-08-24 19:46:28,742 INFO  [Thread-5] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 19:46:28,747 INFO  [Thread-5] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 19:46:28,752 INFO  [Thread-5] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 19:46:28,873 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 26988 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 19:46:28,873 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 19:46:28,874 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 19:46:29,308 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:46:29,310 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 19:46:29,315 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JDBC repository interfaces.
2024-08-24 19:46:29,318 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 19:46:29,319 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 19:46:29,323 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 19:46:29,497 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 19:46:29,498 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 19:46:29,498 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 19:46:29,498 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 19:46:29,547 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 19:46:29,548 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 672 ms
2024-08-24 19:46:29,631 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Starting...
2024-08-24 19:46:29,785 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@3a0e991
2024-08-24 19:46:29,786 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Start completed.
2024-08-24 19:46:29,786 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 19:46:29,848 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 19:46:29,850 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 19:46:29,861 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 3 migrations (execution time 00:00.007s)
2024-08-24 19:46:30,006 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 2
2024-08-24 19:46:30,010 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "3 - INSERT ENTITIES INTO TABLE"
2024-08-24 19:46:30,018 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Successfully applied 1 migration to schema "public", now at version v3 (execution time 00:00.002s)
2024-08-24 19:46:30,073 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 19:46:30,082 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 19:46:30,093 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 19:46:30,105 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 19:46:30,122 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:46:30,142 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:46:30,144 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:46:30,149 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:46:30,152 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 19:46:30,325 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 19:46:30,448 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 19:46:31,501 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 19:46:31,521 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 19:46:31,648 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 19:46:31,665 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 19:46:31,685 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 2.854 seconds (process running for 51.415)
2024-08-24 19:46:31,689 INFO  [restartedMain] o.s.b.d.a.ConditionEvaluationDeltaLoggingListener: Condition evaluation unchanged
2024-08-24 19:46:37,426 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 19:46:37,428 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Shutdown initiated...
2024-08-24 19:46:37,437 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Shutdown completed.
2024-08-24 20:00:25,667 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 20:00:25,725 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 10404 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 20:00:25,726 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 20:00:25,727 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 20:00:25,774 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 20:00:25,774 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 20:00:26,920 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:00:26,921 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 20:00:26,940 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 0 JDBC repository interfaces.
2024-08-24 20:00:26,950 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:00:26,951 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 20:00:26,958 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 20:00:27,742 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 20:00:27,751 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 20:00:27,752 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 20:00:27,753 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 20:00:27,846 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 20:00:27,847 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2071 ms
2024-08-24 20:00:27,993 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 20:00:28,260 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4eb9de6d
2024-08-24 20:00:28,262 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 20:00:28,272 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 20:00:28,507 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 20:00:28,508 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 20:00:28,508 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 20:00:28,524 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 20:00:28,530 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 20:00:28,559 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 1 migration (execution time 00:00.019s)
2024-08-24 20:00:28,572 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": << Empty Schema >>
2024-08-24 20:00:28,599 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "1 - CREATE ENTITIES TABLE"
2024-08-24 20:00:28,610 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "person_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:00:28,611 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "book_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:00:28,612 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fine_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:00:28,613 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "admins" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:00:28,614 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "librarians" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:00:28,615 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "members" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:00:28,616 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "statuses" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:00:28,617 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:00:28,618 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fines" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:00:28,619 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "member_books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:00:28,637 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Successfully applied 1 migration to schema "public", now at version v1 (execution time 00:00.022s)
2024-08-24 20:00:28,741 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 20:00:28,833 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 20:00:28,870 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 20:00:29,155 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 20:00:29,236 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 20:00:29,431 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 20:00:29,490 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 20:00:29,493 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 20:00:29,497 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 20:00:29,502 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 20:00:30,549 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 20:00:30,708 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 20:00:32,228 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 20:00:32,237 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 20:00:32,322 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 20:00:32,345 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 20:00:32,365 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 7.228 seconds (process running for 8.474)
2024-08-24 20:00:32,701 INFO  [RMI TCP Connection(3)-172.21.16.1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-08-24 20:00:32,701 INFO  [RMI TCP Connection(3)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-08-24 20:00:32,703 INFO  [RMI TCP Connection(3)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Completed initialization in 1 ms
2024-08-24 20:00:36,289 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 20:00:36,293 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 20:00:36,297 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 20:05:24,898 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 20:05:24,982 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 23592 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 20:05:24,983 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 20:05:24,985 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 20:05:25,059 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 20:05:25,059 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 20:05:26,613 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:05:26,615 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 20:05:26,639 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 18 ms. Found 0 JDBC repository interfaces.
2024-08-24 20:05:26,649 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:05:26,651 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 20:05:26,662 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 6 ms. Found 0 JPA repository interfaces.
2024-08-24 20:05:27,654 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 20:05:27,666 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 20:05:27,668 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 20:05:27,668 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 20:05:27,766 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 20:05:27,767 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2706 ms
2024-08-24 20:05:27,957 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 20:05:28,282 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6f735208
2024-08-24 20:05:28,284 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 20:05:28,296 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 20:05:28,585 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 20:05:28,586 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 20:05:28,586 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 20:05:28,606 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 20:05:28,615 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 20:05:28,673 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.043s)
2024-08-24 20:05:28,690 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 1
2024-08-24 20:05:28,712 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE"
2024-08-24 20:05:28,743 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE" failed! Changes successfully rolled back.
2024-08-24 20:05:28,749 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "admins" viola restrição de chave estrangeira "admins_role_id_fkey"
  Detail: Chave (role_id)=(1) não está presente na tabela "roles".
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 2
Statement  : -- Insert admins with the role_id from roles table
INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role_id,
                    role)
VALUES (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL',
        'USA', '62701', 'AD123', 1, 'SUPER_ADMIN'),
       (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville',
        'IL', 'USA', '62565', 'AD456', 1, 'SYSTEM_ADMIN')

2024-08-24 20:05:28,749 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 20:05:28,827 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 20:05:28,831 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 20:05:28,863 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 20:05:28,904 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "admins" viola restrição de chave estrangeira "admins_role_id_fkey"
  Detail: Chave (role_id)=(1) não está presente na tabela "roles".
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 2
Statement  : -- Insert admins with the role_id from roles table
INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role_id,
                    role)
VALUES (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL',
        'USA', '62701', 'AD123', 1, 'SUPER_ADMIN'),
       (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville',
        'IL', 'USA', '62565', 'AD456', 1, 'SYSTEM_ADMIN')

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "admins" viola restrição de chave estrangeira "admins_role_id_fkey"
  Detail: Chave (role_id)=(1) não está presente na tabela "roles".
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 2
Statement  : -- Insert admins with the role_id from roles table
INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role_id,
                    role)
VALUES (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL',
        'USA', '62701', 'AD123', 1, 'SUPER_ADMIN'),
       (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville',
        'IL', 'USA', '62565', 'AD456', 1, 'SYSTEM_ADMIN')

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "admins" viola restrição de chave estrangeira "admins_role_id_fkey"
  Detail: Chave (role_id)=(1) não está presente na tabela "roles".
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 2
Statement  : -- Insert admins with the role_id from roles table
INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role_id,
                    role)
VALUES (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL',
        'USA', '62701', 'AD123', 1, 'SUPER_ADMIN'),
       (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville',
        'IL', 'USA', '62565', 'AD456', 1, 'SYSTEM_ADMIN')

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "admins" viola restrição de chave estrangeira "admins_role_id_fkey"
  Detail: Chave (role_id)=(1) não está presente na tabela "roles".
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 2
Statement  : -- Insert admins with the role_id from roles table
INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role_id,
                    role)
VALUES (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL',
        'USA', '62701', 'AD123', 1, 'SUPER_ADMIN'),
       (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville',
        'IL', 'USA', '62565', 'AD456', 1, 'SYSTEM_ADMIN')

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "admins" viola restrição de chave estrangeira "admins_role_id_fkey"
  Detail: Chave (role_id)=(1) não está presente na tabela "roles".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 20:07:45,692 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 20:07:45,750 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 24148 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 20:07:45,751 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 20:07:45,752 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 20:07:45,804 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 20:07:45,805 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 20:07:46,928 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:07:46,929 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 20:07:46,949 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 0 JDBC repository interfaces.
2024-08-24 20:07:46,957 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:07:46,958 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 20:07:46,965 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 20:07:47,727 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 20:07:47,736 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 20:07:47,738 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 20:07:47,738 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 20:07:47,804 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 20:07:47,805 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1999 ms
2024-08-24 20:07:47,941 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 20:07:48,205 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3853329a
2024-08-24 20:07:48,208 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 20:07:48,218 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 20:07:48,445 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 20:07:48,446 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 20:07:48,446 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 20:07:48,465 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 20:07:48,471 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 20:07:48,500 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.020s)
2024-08-24 20:07:48,516 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": << Empty Schema >>
2024-08-24 20:07:48,538 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "1 - CREATE ENTITIES TABLE"
2024-08-24 20:07:48,547 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "person_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:07:48,548 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "book_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:07:48,549 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fine_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:07:48,588 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "librarians" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:07:48,589 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "members" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:07:48,590 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "statuses" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:07:48,590 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:07:48,591 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fines" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:07:48,592 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "member_books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:07:48,608 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE"
2024-08-24 20:07:48,617 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE" failed! Changes successfully rolled back.
2024-08-24 20:07:48,621 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERRO: coluna "role_id" da relação "admins" não existe
  Position: 161
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 2
Statement  : -- Insert admins with the role_id from roles table
INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role_id,
                    role)
VALUES (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL',
        'USA', '62701', 'AD123', 1, 'SUPER_ADMIN'),
       (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville',
        'IL', 'USA', '62565', 'AD456', 1, 'SYSTEM_ADMIN')

2024-08-24 20:07:48,622 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 20:07:48,659 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 20:07:48,662 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 20:07:48,683 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 20:07:48,708 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERRO: coluna "role_id" da relação "admins" não existe
  Position: 161
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 2
Statement  : -- Insert admins with the role_id from roles table
INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role_id,
                    role)
VALUES (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL',
        'USA', '62701', 'AD123', 1, 'SUPER_ADMIN'),
       (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville',
        'IL', 'USA', '62565', 'AD456', 1, 'SYSTEM_ADMIN')

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERRO: coluna "role_id" da relação "admins" não existe
  Position: 161
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 2
Statement  : -- Insert admins with the role_id from roles table
INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role_id,
                    role)
VALUES (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL',
        'USA', '62701', 'AD123', 1, 'SUPER_ADMIN'),
       (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville',
        'IL', 'USA', '62565', 'AD456', 1, 'SYSTEM_ADMIN')

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERRO: coluna "role_id" da relação "admins" não existe
  Position: 161
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 2
Statement  : -- Insert admins with the role_id from roles table
INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role_id,
                    role)
VALUES (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL',
        'USA', '62701', 'AD123', 1, 'SUPER_ADMIN'),
       (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville',
        'IL', 'USA', '62565', 'AD456', 1, 'SYSTEM_ADMIN')

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERRO: coluna "role_id" da relação "admins" não existe
  Position: 161
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 2
Statement  : -- Insert admins with the role_id from roles table
INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role_id,
                    role)
VALUES (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL',
        'USA', '62701', 'AD123', 1, 'SUPER_ADMIN'),
       (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville',
        'IL', 'USA', '62565', 'AD456', 1, 'SYSTEM_ADMIN')

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: coluna "role_id" da relação "admins" não existe
  Position: 161
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 20:08:38,033 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 20:08:38,087 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 16960 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 20:08:38,088 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 20:08:38,089 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 20:08:38,140 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 20:08:38,140 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 20:08:39,308 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:08:39,309 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 20:08:39,327 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 20:08:39,335 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:08:39,336 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 20:08:39,343 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 20:08:40,119 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 20:08:40,128 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 20:08:40,130 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 20:08:40,130 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 20:08:40,205 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 20:08:40,206 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2065 ms
2024-08-24 20:08:40,351 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 20:08:40,613 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@57224655
2024-08-24 20:08:40,615 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 20:08:40,624 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 20:08:40,846 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 20:08:40,847 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 20:08:40,848 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 20:08:40,866 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 20:08:40,872 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 20:08:40,907 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.023s)
2024-08-24 20:08:40,919 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 1
2024-08-24 20:08:40,936 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE"
2024-08-24 20:08:40,969 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE" failed! Changes successfully rolled back.
2024-08-24 20:08:40,972 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "members" viola restrição de chave estrangeira "fk49hwrmycg7a9okffvy77g4pda"
  Detail: Chave (librarian_id)=(1) não está presente na tabela "librarians".
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 23
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'INACTIVE', 1, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 2, 2)

2024-08-24 20:08:40,973 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 20:08:41,083 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 20:08:41,086 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 20:08:41,108 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 20:08:41,137 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "members" viola restrição de chave estrangeira "fk49hwrmycg7a9okffvy77g4pda"
  Detail: Chave (librarian_id)=(1) não está presente na tabela "librarians".
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 23
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'INACTIVE', 1, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 2, 2)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "members" viola restrição de chave estrangeira "fk49hwrmycg7a9okffvy77g4pda"
  Detail: Chave (librarian_id)=(1) não está presente na tabela "librarians".
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 23
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'INACTIVE', 1, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 2, 2)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "members" viola restrição de chave estrangeira "fk49hwrmycg7a9okffvy77g4pda"
  Detail: Chave (librarian_id)=(1) não está presente na tabela "librarians".
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 23
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'INACTIVE', 1, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 2, 2)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "members" viola restrição de chave estrangeira "fk49hwrmycg7a9okffvy77g4pda"
  Detail: Chave (librarian_id)=(1) não está presente na tabela "librarians".
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 23
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'INACTIVE', 1, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 2, 2)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "members" viola restrição de chave estrangeira "fk49hwrmycg7a9okffvy77g4pda"
  Detail: Chave (librarian_id)=(1) não está presente na tabela "librarians".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 20:16:48,562 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 20:16:48,621 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 29276 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 20:16:48,622 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 20:16:48,624 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 20:16:48,679 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 20:16:48,679 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 20:16:49,854 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:16:49,855 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 20:16:49,873 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 20:16:49,882 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:16:49,884 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 20:16:49,891 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 20:16:50,659 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 20:16:50,666 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 20:16:50,668 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 20:16:50,668 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 20:16:50,736 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 20:16:50,737 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2057 ms
2024-08-24 20:16:50,870 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 20:16:51,131 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@22695e25
2024-08-24 20:16:51,133 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 20:16:51,143 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 20:16:51,374 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 20:16:51,375 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 20:16:51,375 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 20:16:51,391 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 20:16:51,398 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 20:16:51,427 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.019s)
2024-08-24 20:16:51,440 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": << Empty Schema >>
2024-08-24 20:16:51,470 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "1 - CREATE ENTITIES TABLE"
2024-08-24 20:16:51,480 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "person_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:16:51,482 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "book_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:16:51,482 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fine_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:16:51,483 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "roles" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:16:51,485 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "admins" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:16:51,486 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "librarians" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:16:51,487 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "members" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:16:51,488 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "statuses" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:16:51,489 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:16:51,491 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fines" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:16:51,492 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "member_books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:16:51,519 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE"
2024-08-24 20:16:51,531 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE" failed! Changes successfully rolled back.
2024-08-24 20:16:51,535 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERRO: coluna "role_id" da relação "admins" não existe
  Position: 169
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 7
Statement  : -- Insert admins with role_id referring to the roles table
INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role_id)
VALUES
    (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL', 'USA', '62701', 'AD123', 1),
    (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville', 'IL', 'USA', '62565', 'AD456', 2)

2024-08-24 20:16:51,536 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 20:16:51,685 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 20:16:51,689 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 20:16:51,710 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 20:16:51,729 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERRO: coluna "role_id" da relação "admins" não existe
  Position: 169
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 7
Statement  : -- Insert admins with role_id referring to the roles table
INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role_id)
VALUES
    (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL', 'USA', '62701', 'AD123', 1),
    (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville', 'IL', 'USA', '62565', 'AD456', 2)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERRO: coluna "role_id" da relação "admins" não existe
  Position: 169
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 7
Statement  : -- Insert admins with role_id referring to the roles table
INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role_id)
VALUES
    (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL', 'USA', '62701', 'AD123', 1),
    (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville', 'IL', 'USA', '62565', 'AD456', 2)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERRO: coluna "role_id" da relação "admins" não existe
  Position: 169
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 7
Statement  : -- Insert admins with role_id referring to the roles table
INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role_id)
VALUES
    (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL', 'USA', '62701', 'AD123', 1),
    (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville', 'IL', 'USA', '62565', 'AD456', 2)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERRO: coluna "role_id" da relação "admins" não existe
  Position: 169
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 7
Statement  : -- Insert admins with role_id referring to the roles table
INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role_id)
VALUES
    (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL', 'USA', '62701', 'AD123', 1),
    (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville', 'IL', 'USA', '62565', 'AD456', 2)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: coluna "role_id" da relação "admins" não existe
  Position: 169
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 20:19:21,606 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 20:19:21,656 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 27200 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 20:19:21,656 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 20:19:21,657 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 20:19:21,706 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 20:19:21,706 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 20:19:22,999 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:19:23,000 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 20:19:23,022 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 18 ms. Found 0 JDBC repository interfaces.
2024-08-24 20:19:23,032 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:19:23,033 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 20:19:23,040 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 20:19:23,805 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 20:19:23,814 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 20:19:23,816 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 20:19:23,816 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 20:19:23,895 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 20:19:23,895 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2188 ms
2024-08-24 20:19:24,045 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 20:19:24,335 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3da5f1f5
2024-08-24 20:19:24,337 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 20:19:24,348 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 20:19:24,620 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 20:19:24,621 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 20:19:24,621 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 20:19:24,635 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 20:19:24,640 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 20:19:24,678 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.026s)
2024-08-24 20:19:24,693 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": << Empty Schema >>
2024-08-24 20:19:24,717 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "1 - CREATE ENTITIES TABLE"
2024-08-24 20:19:24,726 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "person_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:19:24,728 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "book_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:19:24,729 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fine_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:19:24,780 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "librarians" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:19:24,781 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "members" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:19:24,781 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "statuses" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:19:24,782 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:19:24,783 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fines" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:19:24,783 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "member_books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:19:24,800 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE"
2024-08-24 20:19:24,816 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE" failed! Changes successfully rolled back.
2024-08-24 20:19:24,820 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "members" viola restrição de chave estrangeira "fk49hwrmycg7a9okffvy77g4pda"
  Detail: Chave (librarian_id)=(1) não está presente na tabela "librarians".
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 27
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'INACTIVE', 1, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 2, 2)

2024-08-24 20:19:24,820 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 20:19:24,835 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 20:19:24,838 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 20:19:24,862 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 20:19:24,888 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "members" viola restrição de chave estrangeira "fk49hwrmycg7a9okffvy77g4pda"
  Detail: Chave (librarian_id)=(1) não está presente na tabela "librarians".
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 27
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'INACTIVE', 1, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 2, 2)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "members" viola restrição de chave estrangeira "fk49hwrmycg7a9okffvy77g4pda"
  Detail: Chave (librarian_id)=(1) não está presente na tabela "librarians".
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 27
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'INACTIVE', 1, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 2, 2)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "members" viola restrição de chave estrangeira "fk49hwrmycg7a9okffvy77g4pda"
  Detail: Chave (librarian_id)=(1) não está presente na tabela "librarians".
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 27
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'INACTIVE', 1, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 2, 2)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "members" viola restrição de chave estrangeira "fk49hwrmycg7a9okffvy77g4pda"
  Detail: Chave (librarian_id)=(1) não está presente na tabela "librarians".
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 27
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'INACTIVE', 1, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 2, 2)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "members" viola restrição de chave estrangeira "fk49hwrmycg7a9okffvy77g4pda"
  Detail: Chave (librarian_id)=(1) não está presente na tabela "librarians".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 20:26:05,532 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 20:26:05,588 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 29996 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 20:26:05,589 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 20:26:05,590 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 20:26:05,638 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 20:26:05,639 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 20:26:06,799 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:26:06,801 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 20:26:06,827 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 19 ms. Found 0 JDBC repository interfaces.
2024-08-24 20:26:06,839 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:26:06,840 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 20:26:06,850 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 5 ms. Found 0 JPA repository interfaces.
2024-08-24 20:26:07,704 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 20:26:07,713 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 20:26:07,715 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 20:26:07,716 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 20:26:07,803 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 20:26:07,804 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2165 ms
2024-08-24 20:26:07,946 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 20:26:08,251 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@263e002f
2024-08-24 20:26:08,254 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 20:26:08,264 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 20:26:08,542 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 20:26:08,543 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 20:26:08,543 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 20:26:08,565 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 20:26:08,572 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 20:26:08,614 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.031s)
2024-08-24 20:26:08,632 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 1
2024-08-24 20:26:08,651 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE"
2024-08-24 20:26:08,670 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE" failed! Changes successfully rolled back.
2024-08-24 20:26:08,674 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "admins" viola restrição de chave estrangeira "admins_role_id_fkey"
  Detail: Chave (role_id)=(1) não está presente na tabela "roles".
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 7
Statement  : -- Insert admins with role_id referring to the roles table
INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role_id)
VALUES
    (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL', 'USA', '62701', 'AD123', 1),
    (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville', 'IL', 'USA', '62565', 'AD456', 2)

2024-08-24 20:26:08,675 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 20:26:08,775 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 20:26:08,780 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 20:26:08,807 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 20:26:08,841 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "admins" viola restrição de chave estrangeira "admins_role_id_fkey"
  Detail: Chave (role_id)=(1) não está presente na tabela "roles".
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 7
Statement  : -- Insert admins with role_id referring to the roles table
INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role_id)
VALUES
    (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL', 'USA', '62701', 'AD123', 1),
    (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville', 'IL', 'USA', '62565', 'AD456', 2)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "admins" viola restrição de chave estrangeira "admins_role_id_fkey"
  Detail: Chave (role_id)=(1) não está presente na tabela "roles".
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 7
Statement  : -- Insert admins with role_id referring to the roles table
INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role_id)
VALUES
    (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL', 'USA', '62701', 'AD123', 1),
    (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville', 'IL', 'USA', '62565', 'AD456', 2)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "admins" viola restrição de chave estrangeira "admins_role_id_fkey"
  Detail: Chave (role_id)=(1) não está presente na tabela "roles".
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 7
Statement  : -- Insert admins with role_id referring to the roles table
INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role_id)
VALUES
    (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL', 'USA', '62701', 'AD123', 1),
    (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville', 'IL', 'USA', '62565', 'AD456', 2)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "admins" viola restrição de chave estrangeira "admins_role_id_fkey"
  Detail: Chave (role_id)=(1) não está presente na tabela "roles".
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 7
Statement  : -- Insert admins with role_id referring to the roles table
INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role_id)
VALUES
    (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL', 'USA', '62701', 'AD123', 1),
    (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville', 'IL', 'USA', '62565', 'AD456', 2)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "admins" viola restrição de chave estrangeira "admins_role_id_fkey"
  Detail: Chave (role_id)=(1) não está presente na tabela "roles".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 20:27:18,358 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 20:27:18,405 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 14084 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 20:27:18,406 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 20:27:18,407 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 20:27:18,456 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 20:27:18,456 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 20:27:19,613 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:27:19,615 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 20:27:19,633 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 20:27:19,642 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:27:19,643 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 20:27:19,650 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 20:27:20,433 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 20:27:20,442 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 20:27:20,444 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 20:27:20,444 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 20:27:20,515 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 20:27:20,516 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2059 ms
2024-08-24 20:27:20,658 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 20:27:20,962 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@34397271
2024-08-24 20:27:20,964 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 20:27:20,974 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 20:27:21,233 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 20:27:21,233 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 20:27:21,233 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 20:27:21,251 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 20:27:21,257 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 20:27:21,284 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.018s)
2024-08-24 20:27:21,295 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": << Empty Schema >>
2024-08-24 20:27:21,321 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "1 - CREATE ENTITIES TABLE"
2024-08-24 20:27:21,330 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "person_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:27:21,332 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "book_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:27:21,332 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fine_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:27:21,381 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "librarians" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:27:21,382 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "members" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:27:21,382 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "statuses" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:27:21,383 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:27:21,384 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fines" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:27:21,384 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "member_books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:27:21,402 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE"
2024-08-24 20:27:21,417 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Successfully applied 2 migrations to schema "public", now at version v2 (execution time 00:00.073s)
2024-08-24 20:27:21,552 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 20:27:21,627 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 20:27:21,668 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 20:27:21,998 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 20:27:22,066 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 20:27:22,261 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 20:27:22,331 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 20:27:22,333 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 20:27:22,337 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 20:27:22,343 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 20:27:23,300 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 20:27:23,348 WARN  [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl: GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists admins add column role varchar(255) not null check (role in ('SUPER_ADMIN','SYSTEM_ADMIN','LIBRARIAN','MEMBER'))" via JDBC [ERRO: column "role" of relation "admins" contains null values]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists admins add column role varchar(255) not null check (role in ('SUPER_ADMIN','SYSTEM_ADMIN','LIBRARIAN','MEMBER'))" via JDBC [ERRO: column "role" of relation "admins" contains null values]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.postgresql.util.PSQLException: ERRO: column "role" of relation "admins" contains null values
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 42 common frames omitted
2024-08-24 20:27:23,458 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 20:27:25,062 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 20:27:25,070 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 20:27:25,143 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 20:27:25,174 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 20:27:25,194 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 7.355 seconds (process running for 8.588)
2024-08-24 20:27:25,438 INFO  [RMI TCP Connection(5)-172.21.16.1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-08-24 20:27:25,439 INFO  [RMI TCP Connection(5)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-08-24 20:27:25,444 INFO  [RMI TCP Connection(5)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Completed initialization in 5 ms
2024-08-24 20:32:36,005 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 20:32:36,009 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 20:32:36,013 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 20:32:41,756 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 20:32:41,803 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 17556 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 20:32:41,805 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 20:32:41,807 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 20:32:41,852 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 20:32:41,853 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 20:32:43,091 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:32:43,093 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 20:32:43,112 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 20:32:43,120 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:32:43,121 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 20:32:43,127 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 20:32:43,898 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 20:32:43,907 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 20:32:43,909 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 20:32:43,910 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 20:32:43,988 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 20:32:43,989 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2136 ms
2024-08-24 20:32:44,139 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 20:32:44,396 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@516db1c
2024-08-24 20:32:44,399 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 20:32:44,409 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 20:32:44,638 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 20:32:44,638 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 20:32:44,639 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 20:32:44,656 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 20:32:44,661 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 20:32:44,696 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.024s)
2024-08-24 20:32:44,710 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 2
2024-08-24 20:32:44,714 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Schema "public" is up to date. No migration necessary.
2024-08-24 20:32:44,817 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 20:32:44,899 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 20:32:44,960 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 20:32:45,230 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 20:32:45,310 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 20:32:45,508 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 20:32:45,576 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 20:32:45,578 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 20:32:45,583 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 20:32:45,587 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 20:32:46,625 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 20:32:46,767 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 20:32:48,190 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 20:32:48,198 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 20:32:48,270 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 20:32:48,293 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 20:32:48,311 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 7.052 seconds (process running for 8.151)
2024-08-24 20:32:48,757 INFO  [RMI TCP Connection(1)-172.21.16.1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-08-24 20:32:48,758 INFO  [RMI TCP Connection(1)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-08-24 20:32:48,765 INFO  [RMI TCP Connection(1)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Completed initialization in 7 ms
2024-08-24 20:33:32,615 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 20:33:32,619 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 20:33:32,627 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 20:42:56,603 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 20:42:56,669 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 15056 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 20:42:56,669 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 20:42:56,670 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 20:42:56,733 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 20:42:56,733 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 20:42:58,378 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:42:58,381 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 20:42:58,405 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 20 ms. Found 0 JDBC repository interfaces.
2024-08-24 20:42:58,416 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:42:58,418 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 20:42:58,429 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 5 ms. Found 0 JPA repository interfaces.
2024-08-24 20:42:59,492 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 20:42:59,505 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 20:42:59,507 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 20:42:59,508 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 20:42:59,603 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 20:42:59,604 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2870 ms
2024-08-24 20:42:59,791 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 20:43:00,081 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3ba45078
2024-08-24 20:43:00,083 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 20:43:00,095 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 20:43:00,330 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 20:43:00,331 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 20:43:00,331 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 20:43:00,349 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 20:43:00,356 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 20:43:00,400 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1
-> Applied to database : 2140512377
-> Resolved locally    : 1466476936
Either revert the changes to the migration, or run repair to update the schema history.
Migration checksum mismatch for migration version 2
-> Applied to database : -1236472607
-> Resolved locally    : -896875856
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
2024-08-24 20:43:00,401 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 20:43:00,581 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 20:43:00,592 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 20:43:00,626 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 20:43:00,652 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1
-> Applied to database : 2140512377
-> Resolved locally    : 1466476936
Either revert the changes to the migration, or run repair to update the schema history.
Migration checksum mismatch for migration version 2
-> Applied to database : -1236472607
-> Resolved locally    : -896875856
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1
-> Applied to database : 2140512377
-> Resolved locally    : 1466476936
Either revert the changes to the migration, or run repair to update the schema history.
Migration checksum mismatch for migration version 2
-> Applied to database : -1236472607
-> Resolved locally    : -896875856
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1
-> Applied to database : 2140512377
-> Resolved locally    : 1466476936
Either revert the changes to the migration, or run repair to update the schema history.
Migration checksum mismatch for migration version 2
-> Applied to database : -1236472607
-> Resolved locally    : -896875856
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:146)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
2024-08-24 20:43:20,877 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 20:43:20,951 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 18868 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 20:43:20,952 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 20:43:20,953 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 20:43:21,021 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 20:43:21,022 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 20:43:22,737 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:43:22,739 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 20:43:22,764 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 20 ms. Found 0 JDBC repository interfaces.
2024-08-24 20:43:22,777 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:43:22,779 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 20:43:22,788 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.
2024-08-24 20:43:23,875 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 20:43:23,888 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 20:43:23,891 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 20:43:23,891 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 20:43:23,993 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 20:43:23,995 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2970 ms
2024-08-24 20:43:24,233 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 20:43:24,632 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@399e2190
2024-08-24 20:43:24,634 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 20:43:24,647 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 20:43:24,959 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 20:43:24,959 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 20:43:24,959 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 20:43:24,984 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 20:43:24,993 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 20:43:25,055 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1
-> Applied to database : 2140512377
-> Resolved locally    : 1466476936
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
2024-08-24 20:43:25,056 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 20:43:25,169 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 20:43:25,174 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 20:43:25,203 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 20:43:25,240 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1
-> Applied to database : 2140512377
-> Resolved locally    : 1466476936
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1
-> Applied to database : 2140512377
-> Resolved locally    : 1466476936
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1
-> Applied to database : 2140512377
-> Resolved locally    : 1466476936
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:146)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
2024-08-24 20:43:39,484 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 20:43:39,551 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 26912 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 20:43:39,552 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 20:43:39,553 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 20:43:39,616 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 20:43:39,617 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 20:43:41,653 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:43:41,655 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 20:43:41,681 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 20 ms. Found 0 JDBC repository interfaces.
2024-08-24 20:43:41,692 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:43:41,694 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 20:43:41,703 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.
2024-08-24 20:43:42,716 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 20:43:42,728 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 20:43:42,730 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 20:43:42,731 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 20:43:42,824 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 20:43:42,825 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 3207 ms
2024-08-24 20:43:43,037 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 20:43:43,379 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3f9682d7
2024-08-24 20:43:43,381 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 20:43:43,394 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 20:43:43,688 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 20:43:43,689 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 20:43:43,689 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 20:43:43,708 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 20:43:43,715 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 20:43:43,764 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.036s)
2024-08-24 20:43:43,782 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": << Empty Schema >>
2024-08-24 20:43:43,813 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "1 - CREATE ENTITIES TABLE"
2024-08-24 20:43:43,826 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "person_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:43:43,827 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "book_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:43:43,828 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fine_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:43:43,871 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "librarians" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:43:43,873 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "members" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:43:43,874 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "statuses" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:43:43,875 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:43:43,876 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fines" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:43:43,877 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "member_books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:43:43,896 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE"
2024-08-24 20:43:43,907 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE" failed! Changes successfully rolled back.
2024-08-24 20:43:43,913 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 42601
Error Code : 0
Message    : ERRO: listas de VALUES devem ser todas do mesmo tamanho
  Position: 287
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 1
Statement  : INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role)
VALUES
    (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL', 'USA', '62701', 'AD123', 'SUPER_ADMIN'),
    (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville', 'IL', 'USA', '62565', 'SYSTEM_ADMIN')

2024-08-24 20:43:43,914 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 20:43:43,936 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 20:43:43,941 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 20:43:43,972 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 20:43:44,012 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 42601
Error Code : 0
Message    : ERRO: listas de VALUES devem ser todas do mesmo tamanho
  Position: 287
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 1
Statement  : INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role)
VALUES
    (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL', 'USA', '62701', 'AD123', 'SUPER_ADMIN'),
    (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville', 'IL', 'USA', '62565', 'SYSTEM_ADMIN')

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 42601
Error Code : 0
Message    : ERRO: listas de VALUES devem ser todas do mesmo tamanho
  Position: 287
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 1
Statement  : INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role)
VALUES
    (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL', 'USA', '62701', 'AD123', 'SUPER_ADMIN'),
    (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville', 'IL', 'USA', '62565', 'SYSTEM_ADMIN')

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 42601
Error Code : 0
Message    : ERRO: listas de VALUES devem ser todas do mesmo tamanho
  Position: 287
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 1
Statement  : INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role)
VALUES
    (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL', 'USA', '62701', 'AD123', 'SUPER_ADMIN'),
    (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville', 'IL', 'USA', '62565', 'SYSTEM_ADMIN')

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 42601
Error Code : 0
Message    : ERRO: listas de VALUES devem ser todas do mesmo tamanho
  Position: 287
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 1
Statement  : INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role)
VALUES
    (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL', 'USA', '62701', 'AD123', 'SUPER_ADMIN'),
    (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville', 'IL', 'USA', '62565', 'SYSTEM_ADMIN')

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: listas de VALUES devem ser todas do mesmo tamanho
  Position: 287
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 20:44:52,704 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 20:44:52,757 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 21844 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 20:44:52,758 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 20:44:52,759 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 20:44:52,811 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 20:44:52,812 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 20:44:54,233 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:44:54,234 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 20:44:54,257 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 17 ms. Found 0 JDBC repository interfaces.
2024-08-24 20:44:54,266 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:44:54,267 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 20:44:54,276 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.
2024-08-24 20:44:55,107 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 20:44:55,117 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 20:44:55,119 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 20:44:55,120 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 20:44:55,199 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 20:44:55,199 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2386 ms
2024-08-24 20:44:55,363 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 20:44:55,661 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@78997d95
2024-08-24 20:44:55,663 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 20:44:55,675 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 20:44:55,928 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 20:44:55,929 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 20:44:55,929 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 20:44:55,947 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 20:44:55,954 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 20:44:56,005 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 2 migrations (execution time 00:00.038s)
2024-08-24 20:44:56,021 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 1
2024-08-24 20:44:56,041 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE"
2024-08-24 20:44:56,063 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Successfully applied 1 migration to schema "public", now at version v2 (execution time 00:00.011s)
2024-08-24 20:44:56,191 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 20:44:56,286 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 20:44:56,334 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 20:44:56,665 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 20:44:56,760 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 20:44:57,017 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 20:44:57,102 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 20:44:57,106 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 20:44:57,114 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 20:44:57,119 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 20:44:58,353 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 20:44:58,502 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 20:45:00,005 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 20:45:00,018 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 20:45:00,121 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 20:45:00,153 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 20:45:00,177 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 8.022 seconds (process running for 9.21)
2024-08-24 20:45:00,784 INFO  [RMI TCP Connection(2)-172.21.16.1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-08-24 20:45:00,784 INFO  [RMI TCP Connection(2)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-08-24 20:45:00,786 INFO  [RMI TCP Connection(2)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2024-08-24 20:45:05,412 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 20:45:05,416 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 20:45:05,421 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 20:46:29,610 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 20:46:29,664 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 29948 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 20:46:29,665 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 20:46:29,667 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 20:46:29,715 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 20:46:29,716 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 20:46:30,892 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:46:30,893 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 20:46:30,913 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 0 JDBC repository interfaces.
2024-08-24 20:46:30,921 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:46:30,922 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 20:46:30,929 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 20:46:31,672 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 20:46:31,681 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 20:46:31,683 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 20:46:31,684 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 20:46:31,751 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 20:46:31,752 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2036 ms
2024-08-24 20:46:31,890 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 20:46:32,153 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1252f6e9
2024-08-24 20:46:32,155 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 20:46:32,164 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 20:46:32,423 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 20:46:32,424 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 20:46:32,424 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 20:46:32,438 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 20:46:32,443 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 20:46:32,486 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 3 migrations (execution time 00:00.033s)
2024-08-24 20:46:32,498 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 2
2024-08-24 20:46:32,509 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "3 - INSERT LIBRARIAN INTO TABLE"
2024-08-24 20:46:32,528 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "3 - INSERT LIBRARIAN INTO TABLE" failed! Changes successfully rolled back.
2024-08-24 20:46:32,532 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V3__INSERT_LIBRARIAN_INTO_TABLE.sql failed
----------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "librarians" viola restrição de chave estrangeira "fkpph2e28rx19oyxu5p4764cloo"
  Detail: Chave (admin_id)=(1) não está presente na tabela "admins".
Location   : db/migration/V3__INSERT_LIBRARIAN_INTO_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V3__INSERT_LIBRARIAN_INTO_TABLE.sql)
Line       : 1
Statement  : INSERT INTO librarians (person_id, name, email, contact, street, city, state, country, postal_code, employee_code,
                        admin_id)
VALUES (nextval('person_id_seq'), 'Alice Johnson', 'alice.johnson@example.com', '1112233445', '789 Pine St',
        'Springfield', 'IL', 'USA', '62701', 'EMP001', 1),
       (nextval('person_id_seq'), 'Bob Brown', 'bob.brown@example.com', '5556677889', '101 Maple St', 'Shelbyville',
        'IL', 'USA', '62565', 'EMP002', 2)

2024-08-24 20:46:32,533 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 20:46:32,623 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 20:46:32,632 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 20:46:32,692 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 20:46:32,724 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V3__INSERT_LIBRARIAN_INTO_TABLE.sql failed
----------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "librarians" viola restrição de chave estrangeira "fkpph2e28rx19oyxu5p4764cloo"
  Detail: Chave (admin_id)=(1) não está presente na tabela "admins".
Location   : db/migration/V3__INSERT_LIBRARIAN_INTO_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V3__INSERT_LIBRARIAN_INTO_TABLE.sql)
Line       : 1
Statement  : INSERT INTO librarians (person_id, name, email, contact, street, city, state, country, postal_code, employee_code,
                        admin_id)
VALUES (nextval('person_id_seq'), 'Alice Johnson', 'alice.johnson@example.com', '1112233445', '789 Pine St',
        'Springfield', 'IL', 'USA', '62701', 'EMP001', 1),
       (nextval('person_id_seq'), 'Bob Brown', 'bob.brown@example.com', '5556677889', '101 Maple St', 'Shelbyville',
        'IL', 'USA', '62565', 'EMP002', 2)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V3__INSERT_LIBRARIAN_INTO_TABLE.sql failed
----------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "librarians" viola restrição de chave estrangeira "fkpph2e28rx19oyxu5p4764cloo"
  Detail: Chave (admin_id)=(1) não está presente na tabela "admins".
Location   : db/migration/V3__INSERT_LIBRARIAN_INTO_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V3__INSERT_LIBRARIAN_INTO_TABLE.sql)
Line       : 1
Statement  : INSERT INTO librarians (person_id, name, email, contact, street, city, state, country, postal_code, employee_code,
                        admin_id)
VALUES (nextval('person_id_seq'), 'Alice Johnson', 'alice.johnson@example.com', '1112233445', '789 Pine St',
        'Springfield', 'IL', 'USA', '62701', 'EMP001', 1),
       (nextval('person_id_seq'), 'Bob Brown', 'bob.brown@example.com', '5556677889', '101 Maple St', 'Shelbyville',
        'IL', 'USA', '62565', 'EMP002', 2)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V3__INSERT_LIBRARIAN_INTO_TABLE.sql failed
----------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "librarians" viola restrição de chave estrangeira "fkpph2e28rx19oyxu5p4764cloo"
  Detail: Chave (admin_id)=(1) não está presente na tabela "admins".
Location   : db/migration/V3__INSERT_LIBRARIAN_INTO_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V3__INSERT_LIBRARIAN_INTO_TABLE.sql)
Line       : 1
Statement  : INSERT INTO librarians (person_id, name, email, contact, street, city, state, country, postal_code, employee_code,
                        admin_id)
VALUES (nextval('person_id_seq'), 'Alice Johnson', 'alice.johnson@example.com', '1112233445', '789 Pine St',
        'Springfield', 'IL', 'USA', '62701', 'EMP001', 1),
       (nextval('person_id_seq'), 'Bob Brown', 'bob.brown@example.com', '5556677889', '101 Maple St', 'Shelbyville',
        'IL', 'USA', '62565', 'EMP002', 2)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V3__INSERT_LIBRARIAN_INTO_TABLE.sql failed
----------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "librarians" viola restrição de chave estrangeira "fkpph2e28rx19oyxu5p4764cloo"
  Detail: Chave (admin_id)=(1) não está presente na tabela "admins".
Location   : db/migration/V3__INSERT_LIBRARIAN_INTO_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V3__INSERT_LIBRARIAN_INTO_TABLE.sql)
Line       : 1
Statement  : INSERT INTO librarians (person_id, name, email, contact, street, city, state, country, postal_code, employee_code,
                        admin_id)
VALUES (nextval('person_id_seq'), 'Alice Johnson', 'alice.johnson@example.com', '1112233445', '789 Pine St',
        'Springfield', 'IL', 'USA', '62701', 'EMP001', 1),
       (nextval('person_id_seq'), 'Bob Brown', 'bob.brown@example.com', '5556677889', '101 Maple St', 'Shelbyville',
        'IL', 'USA', '62565', 'EMP002', 2)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "librarians" viola restrição de chave estrangeira "fkpph2e28rx19oyxu5p4764cloo"
  Detail: Chave (admin_id)=(1) não está presente na tabela "admins".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 20:54:09,575 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 20:54:09,635 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 19424 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 20:54:09,636 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 20:54:09,637 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 20:54:09,684 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 20:54:09,684 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 20:54:10,814 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:54:10,816 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 20:54:10,835 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 20:54:10,844 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:54:10,845 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 20:54:10,851 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.
2024-08-24 20:54:11,596 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 20:54:11,605 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 20:54:11,607 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 20:54:11,607 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 20:54:11,675 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 20:54:11,676 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1992 ms
2024-08-24 20:54:11,809 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 20:54:12,067 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6ef6a02b
2024-08-24 20:54:12,069 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 20:54:12,085 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 20:54:12,302 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 20:54:12,302 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 20:54:12,302 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 20:54:12,322 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 20:54:12,330 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 20:54:12,360 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 3 migrations (execution time 00:00.021s)
2024-08-24 20:54:12,375 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": << Empty Schema >>
2024-08-24 20:54:12,398 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "1 - CREATE ENTITIES TABLE"
2024-08-24 20:54:12,406 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "person_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:54:12,407 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "book_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:54:12,408 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fine_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:54:12,409 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "admins" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:54:12,410 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "librarians" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:54:12,411 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "members" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:54:12,412 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "statuses" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:54:12,413 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:54:12,414 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fines" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:54:12,415 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "member_books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:54:12,429 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE"
2024-08-24 20:54:12,438 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE" failed! Changes successfully rolled back.
2024-08-24 20:54:12,442 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "admins_email_key"
  Detail: Chave (email)=(john.doe@example.com) já existe.
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 1
Statement  : INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role)
VALUES (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL',
        'USA', '62701', 'AD123', 'SUPER_ADMIN'),
       (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville',
        'IL', 'USA', '62565', 'AD124', 'SYSTEM_ADMIN')

2024-08-24 20:54:12,443 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 20:54:12,523 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 20:54:12,535 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 20:54:12,583 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 20:54:12,610 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "admins_email_key"
  Detail: Chave (email)=(john.doe@example.com) já existe.
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 1
Statement  : INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role)
VALUES (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL',
        'USA', '62701', 'AD123', 'SUPER_ADMIN'),
       (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville',
        'IL', 'USA', '62565', 'AD124', 'SYSTEM_ADMIN')

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "admins_email_key"
  Detail: Chave (email)=(john.doe@example.com) já existe.
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 1
Statement  : INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role)
VALUES (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL',
        'USA', '62701', 'AD123', 'SUPER_ADMIN'),
       (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville',
        'IL', 'USA', '62565', 'AD124', 'SYSTEM_ADMIN')

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "admins_email_key"
  Detail: Chave (email)=(john.doe@example.com) já existe.
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 1
Statement  : INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role)
VALUES (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL',
        'USA', '62701', 'AD123', 'SUPER_ADMIN'),
       (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville',
        'IL', 'USA', '62565', 'AD124', 'SYSTEM_ADMIN')

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "admins_email_key"
  Detail: Chave (email)=(john.doe@example.com) já existe.
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 1
Statement  : INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role)
VALUES (nextval('person_id_seq'), 'John Doe', 'john.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL',
        'USA', '62701', 'AD123', 'SUPER_ADMIN'),
       (nextval('person_id_seq'), 'Jane Smith', 'jane.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville',
        'IL', 'USA', '62565', 'AD124', 'SYSTEM_ADMIN')

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: duplicar valor da chave viola a restrição de unicidade "admins_email_key"
  Detail: Chave (email)=(john.doe@example.com) já existe.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 20:57:16,796 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 20:57:16,852 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 17356 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 20:57:16,852 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 20:57:16,853 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 20:57:16,900 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 20:57:16,900 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 20:57:18,025 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:57:18,027 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 20:57:18,045 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 20:57:18,055 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:57:18,056 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 20:57:18,063 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 20:57:18,800 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 20:57:18,809 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 20:57:18,810 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 20:57:18,811 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 20:57:18,884 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 20:57:18,884 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1983 ms
2024-08-24 20:57:19,022 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 20:57:19,285 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@457e89c
2024-08-24 20:57:19,287 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 20:57:19,297 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 20:57:19,559 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 20:57:19,560 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 20:57:19,560 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 20:57:19,579 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 20:57:19,586 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 20:57:19,623 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 3 migrations (execution time 00:00.027s)
2024-08-24 20:57:19,641 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": << Empty Schema >>
2024-08-24 20:57:19,670 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "1 - CREATE ENTITIES TABLE"
2024-08-24 20:57:19,680 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "person_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:57:19,682 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "book_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:57:19,683 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fine_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:57:19,684 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "admins" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:57:19,686 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "librarians" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:57:19,687 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "members" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:57:19,688 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "statuses" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:57:19,689 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:57:19,690 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fines" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:57:19,691 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "member_books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:57:19,716 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE"
2024-08-24 20:57:19,726 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE" failed! Changes successfully rolled back.
2024-08-24 20:57:19,730 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "admins_contact_key"
  Detail: Chave (contact)=(1234567890) já existe.
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 1
Statement  : INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role)
VALUES (nextval('person_id_seq'), 'Sonia Doe', 'sonia.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL',
        'USA', '62701', 'SUPAD234', 'SUPER_ADMIN'),
       (nextval('person_id_seq'), 'rau Smith', 'rau.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville',
        'IL', 'USA', '62565', 'SYSA124', 'SYSTEM_ADMIN')

2024-08-24 20:57:19,731 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 20:57:19,808 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 20:57:19,811 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 20:57:19,834 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 20:57:19,860 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "admins_contact_key"
  Detail: Chave (contact)=(1234567890) já existe.
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 1
Statement  : INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role)
VALUES (nextval('person_id_seq'), 'Sonia Doe', 'sonia.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL',
        'USA', '62701', 'SUPAD234', 'SUPER_ADMIN'),
       (nextval('person_id_seq'), 'rau Smith', 'rau.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville',
        'IL', 'USA', '62565', 'SYSA124', 'SYSTEM_ADMIN')

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "admins_contact_key"
  Detail: Chave (contact)=(1234567890) já existe.
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 1
Statement  : INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role)
VALUES (nextval('person_id_seq'), 'Sonia Doe', 'sonia.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL',
        'USA', '62701', 'SUPAD234', 'SUPER_ADMIN'),
       (nextval('person_id_seq'), 'rau Smith', 'rau.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville',
        'IL', 'USA', '62565', 'SYSA124', 'SYSTEM_ADMIN')

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "admins_contact_key"
  Detail: Chave (contact)=(1234567890) já existe.
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 1
Statement  : INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role)
VALUES (nextval('person_id_seq'), 'Sonia Doe', 'sonia.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL',
        'USA', '62701', 'SUPAD234', 'SUPER_ADMIN'),
       (nextval('person_id_seq'), 'rau Smith', 'rau.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville',
        'IL', 'USA', '62565', 'SYSA124', 'SYSTEM_ADMIN')

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql failed
-------------------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "admins_contact_key"
  Detail: Chave (contact)=(1234567890) já existe.
Location   : db/migration/V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V2__INSERT_ROLE_AND_STATUS_INTO_ENTITIES_TABLE.sql)
Line       : 1
Statement  : INSERT INTO admins (person_id, name, email, contact, street, city, state, country, postal_code, admin_code, role)
VALUES (nextval('person_id_seq'), 'Sonia Doe', 'sonia.doe@example.com', '1234567890', '123 Elm St', 'Springfield', 'IL',
        'USA', '62701', 'SUPAD234', 'SUPER_ADMIN'),
       (nextval('person_id_seq'), 'rau Smith', 'rau.smith@example.com', '0987654321', '456 Oak St', 'Shelbyville',
        'IL', 'USA', '62565', 'SYSA124', 'SYSTEM_ADMIN')

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: duplicar valor da chave viola a restrição de unicidade "admins_contact_key"
  Detail: Chave (contact)=(1234567890) já existe.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 20:58:30,416 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 20:58:30,476 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 9224 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 20:58:30,477 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 20:58:30,478 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 20:58:30,529 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 20:58:30,529 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 20:58:31,639 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:58:31,641 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 20:58:31,661 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 0 JDBC repository interfaces.
2024-08-24 20:58:31,670 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 20:58:31,670 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 20:58:31,678 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 20:58:32,466 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 20:58:32,475 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 20:58:32,477 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 20:58:32,477 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 20:58:32,560 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 20:58:32,561 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2031 ms
2024-08-24 20:58:32,696 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 20:58:32,961 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2de2d52e
2024-08-24 20:58:32,963 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 20:58:32,973 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 20:58:33,218 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 20:58:33,219 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 20:58:33,219 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 20:58:33,235 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 20:58:33,241 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 20:58:33,271 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 3 migrations (execution time 00:00.020s)
2024-08-24 20:58:33,285 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": << Empty Schema >>
2024-08-24 20:58:33,312 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "1 - CREATE ENTITIES TABLE"
2024-08-24 20:58:33,320 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "person_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:58:33,321 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "book_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:58:33,322 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fine_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:58:33,384 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "members" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:58:33,385 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "statuses" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:58:33,386 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:58:33,387 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fines" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:58:33,388 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "member_books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 20:58:33,400 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE"
2024-08-24 20:58:33,413 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "3 - INSERT LIBRARIAN INTO TABLE"
2024-08-24 20:58:33,426 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Successfully applied 3 migrations to schema "public", now at version v3 (execution time 00:00.088s)
2024-08-24 20:58:33,542 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 20:58:33,625 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 20:58:33,690 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 20:58:34,003 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 20:58:34,069 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 20:58:34,250 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 20:58:34,309 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 20:58:34,311 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 20:58:34,321 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 20:58:34,329 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 20:58:35,307 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 20:58:35,444 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 20:58:36,859 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 20:58:36,868 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 20:58:36,967 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 20:58:37,000 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 20:58:37,022 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 7.117 seconds (process running for 8.215)
2024-08-24 20:58:37,570 INFO  [RMI TCP Connection(3)-172.21.16.1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-08-24 20:58:37,571 INFO  [RMI TCP Connection(3)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-08-24 20:58:37,573 INFO  [RMI TCP Connection(3)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Completed initialization in 1 ms
2024-08-24 21:01:18,386 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 21:01:18,392 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:01:18,395 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:01:21,712 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:01:21,766 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 30048 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:01:21,766 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:01:21,768 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:01:21,816 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:01:21,816 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:01:22,932 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:01:22,934 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:01:22,952 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:01:22,960 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:01:22,962 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:01:22,969 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 21:01:23,692 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:01:23,700 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:01:23,702 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:01:23,702 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:01:23,766 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:01:23,767 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1951 ms
2024-08-24 21:01:23,896 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:01:24,151 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@b5baad7
2024-08-24 21:01:24,152 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:01:24,162 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:01:24,374 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:01:24,375 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:01:24,375 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:01:24,401 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:01:24,408 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:01:24,444 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.026s)
2024-08-24 21:01:24,460 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 21:01:24,476 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS FINE AND BOOKS TABLES"
2024-08-24 21:01:24,496 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS FINE AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 21:01:24,500 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "members" viola restrição de chave estrangeira "fk49hwrmycg7a9okffvy77g4pda"
  Detail: Chave (librarian_id)=(1) não está presente na tabela "librarians".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 1, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 2, 2)

2024-08-24 21:01:24,501 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:01:24,587 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:01:24,591 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 21:01:24,616 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 21:01:24,642 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "members" viola restrição de chave estrangeira "fk49hwrmycg7a9okffvy77g4pda"
  Detail: Chave (librarian_id)=(1) não está presente na tabela "librarians".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 1, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 2, 2)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "members" viola restrição de chave estrangeira "fk49hwrmycg7a9okffvy77g4pda"
  Detail: Chave (librarian_id)=(1) não está presente na tabela "librarians".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 1, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 2, 2)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "members" viola restrição de chave estrangeira "fk49hwrmycg7a9okffvy77g4pda"
  Detail: Chave (librarian_id)=(1) não está presente na tabela "librarians".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 1, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 2, 2)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "members" viola restrição de chave estrangeira "fk49hwrmycg7a9okffvy77g4pda"
  Detail: Chave (librarian_id)=(1) não está presente na tabela "librarians".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 1, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 2, 2)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "members" viola restrição de chave estrangeira "fk49hwrmycg7a9okffvy77g4pda"
  Detail: Chave (librarian_id)=(1) não está presente na tabela "librarians".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 21:02:59,347 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:02:59,398 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 27840 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:02:59,398 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:02:59,399 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:02:59,446 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:02:59,446 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:03:00,559 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:03:00,560 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:03:00,580 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 16 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:03:00,588 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:03:00,589 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:03:00,596 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 21:03:01,368 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:03:01,377 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:03:01,379 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:03:01,379 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:03:01,450 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:03:01,451 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2004 ms
2024-08-24 21:03:01,598 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:03:01,870 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4b3fbe64
2024-08-24 21:03:01,871 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:03:01,880 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:03:02,110 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:03:02,111 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:03:02,111 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:03:02,134 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:03:02,141 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:03:02,175 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.023s)
2024-08-24 21:03:02,186 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 21:03:02,205 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS FINE AND BOOKS TABLES"
2024-08-24 21:03:02,231 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS FINE AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 21:03:02,235 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "fines" viola restrição de chave estrangeira "fkoeokndtdc008xj9pa6oxewawj"
  Detail: Chave (member_id)=(5) não está presente na tabela "members".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 21
Statement  : -- Insert Fines with member_id and librarian_id referring to the members and librarians tables
-- Assume members and librarians are inserted with person_id 1 and 2

INSERT INTO fines (fine_id, amount, issue_date, due_date, member_id, librarian_id)
VALUES (nextval('fine_id_seq'), 50.00, '2024-01-01', '2024-01-15', 5, 3),
       (nextval('fine_id_seq'), 75.00, '2024-02-01', '2024-02-15', 6, 4)

2024-08-24 21:03:02,235 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:03:02,330 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:03:02,334 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 21:03:02,357 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 21:03:02,384 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "fines" viola restrição de chave estrangeira "fkoeokndtdc008xj9pa6oxewawj"
  Detail: Chave (member_id)=(5) não está presente na tabela "members".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 21
Statement  : -- Insert Fines with member_id and librarian_id referring to the members and librarians tables
-- Assume members and librarians are inserted with person_id 1 and 2

INSERT INTO fines (fine_id, amount, issue_date, due_date, member_id, librarian_id)
VALUES (nextval('fine_id_seq'), 50.00, '2024-01-01', '2024-01-15', 5, 3),
       (nextval('fine_id_seq'), 75.00, '2024-02-01', '2024-02-15', 6, 4)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "fines" viola restrição de chave estrangeira "fkoeokndtdc008xj9pa6oxewawj"
  Detail: Chave (member_id)=(5) não está presente na tabela "members".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 21
Statement  : -- Insert Fines with member_id and librarian_id referring to the members and librarians tables
-- Assume members and librarians are inserted with person_id 1 and 2

INSERT INTO fines (fine_id, amount, issue_date, due_date, member_id, librarian_id)
VALUES (nextval('fine_id_seq'), 50.00, '2024-01-01', '2024-01-15', 5, 3),
       (nextval('fine_id_seq'), 75.00, '2024-02-01', '2024-02-15', 6, 4)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "fines" viola restrição de chave estrangeira "fkoeokndtdc008xj9pa6oxewawj"
  Detail: Chave (member_id)=(5) não está presente na tabela "members".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 21
Statement  : -- Insert Fines with member_id and librarian_id referring to the members and librarians tables
-- Assume members and librarians are inserted with person_id 1 and 2

INSERT INTO fines (fine_id, amount, issue_date, due_date, member_id, librarian_id)
VALUES (nextval('fine_id_seq'), 50.00, '2024-01-01', '2024-01-15', 5, 3),
       (nextval('fine_id_seq'), 75.00, '2024-02-01', '2024-02-15', 6, 4)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "fines" viola restrição de chave estrangeira "fkoeokndtdc008xj9pa6oxewawj"
  Detail: Chave (member_id)=(5) não está presente na tabela "members".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 21
Statement  : -- Insert Fines with member_id and librarian_id referring to the members and librarians tables
-- Assume members and librarians are inserted with person_id 1 and 2

INSERT INTO fines (fine_id, amount, issue_date, due_date, member_id, librarian_id)
VALUES (nextval('fine_id_seq'), 50.00, '2024-01-01', '2024-01-15', 5, 3),
       (nextval('fine_id_seq'), 75.00, '2024-02-01', '2024-02-15', 6, 4)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "fines" viola restrição de chave estrangeira "fkoeokndtdc008xj9pa6oxewawj"
  Detail: Chave (member_id)=(5) não está presente na tabela "members".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 21:05:31,468 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:05:31,531 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 27488 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:05:31,532 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:05:31,534 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:05:31,595 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:05:31,596 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:05:33,280 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:05:33,282 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:05:33,307 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 19 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:05:33,317 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:05:33,318 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:05:33,326 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.
2024-08-24 21:05:34,236 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:05:34,247 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:05:34,250 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:05:34,250 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:05:34,337 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:05:34,339 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2741 ms
2024-08-24 21:05:34,534 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:05:34,840 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@bd2342c
2024-08-24 21:05:34,843 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:05:34,854 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:05:35,133 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:05:35,133 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:05:35,134 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:05:35,159 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:05:35,170 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:05:35,231 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.044s)
2024-08-24 21:05:35,251 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 21:05:35,273 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS FINE AND BOOKS TABLES"
2024-08-24 21:05:35,307 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Successfully applied 1 migration to schema "public", now at version v4 (execution time 00:00.018s)
2024-08-24 21:05:35,491 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 21:05:35,606 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 21:05:35,659 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 21:05:36,059 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 21:05:36,152 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 21:05:36,430 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:05:36,527 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:05:36,530 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:05:36,541 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:05:36,547 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:05:38,382 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 21:05:38,589 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 21:05:40,725 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 21:05:40,742 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 21:05:40,862 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 21:05:40,910 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 21:05:40,953 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 10.384 seconds (process running for 12.094)
2024-08-24 21:14:29,786 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 21:14:29,790 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:14:29,794 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:16:12,438 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:16:12,491 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 10784 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:16:12,491 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:16:12,492 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:16:12,545 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:16:12,545 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:16:13,636 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:16:13,638 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:16:13,660 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 13 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:16:13,668 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:16:13,669 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:16:13,676 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 21:16:14,408 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:16:14,417 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:16:14,419 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:16:14,419 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:16:14,485 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:16:14,485 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1940 ms
2024-08-24 21:16:14,617 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:16:14,906 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3363120a
2024-08-24 21:16:14,908 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:16:14,917 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:16:15,116 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:16:15,116 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:16:15,116 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:16:15,135 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:16:15,144 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:16:15,191 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.035s)
2024-08-24 21:16:15,294 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": << Empty Schema >>
2024-08-24 21:16:15,312 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "1 - CREATE ENTITIES TABLE"
2024-08-24 21:16:15,324 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "book_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 21:16:15,325 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fine_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 21:16:15,423 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "statuses" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 21:16:15,464 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "1 - CREATE ENTITIES TABLE" failed! Changes successfully rolled back.
2024-08-24 21:16:15,469 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V1__CREATE_ENTITIES_TABLE.sql failed
----------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERRO: coluna "admin_id" referenciada na restrição de chave estrangeira não existe
Location   : db/migration/V1__CREATE_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V1__CREATE_ENTITIES_TABLE.sql)
Line       : 89
Statement  : -- Fine Table
CREATE TABLE IF NOT EXISTS fines
(
    fine_id      BIGINT PRIMARY KEY DEFAULT nextval('fine_id_seq'),
    amount       DECIMAL(10, 2) NOT NULL,
    issue_date   DATE           NOT NULL,
    due_date     DATE           NOT NULL,
    member_id    BIGINT         NOT NULL,
    librarian_id BIGINT,
    FOREIGN KEY (member_id) REFERENCES members (person_id) ON DELETE CASCADE,
    FOREIGN KEY (librarian_id) REFERENCES librarians (person_id) ON DELETE SET NULL,
    FOREIGN KEY (admin_id) REFERENCES admins (person_id) ON DELETE SET NULL
)

2024-08-24 21:16:15,469 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:16:15,483 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:16:15,485 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 21:16:15,505 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 21:16:15,525 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V1__CREATE_ENTITIES_TABLE.sql failed
----------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERRO: coluna "admin_id" referenciada na restrição de chave estrangeira não existe
Location   : db/migration/V1__CREATE_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V1__CREATE_ENTITIES_TABLE.sql)
Line       : 89
Statement  : -- Fine Table
CREATE TABLE IF NOT EXISTS fines
(
    fine_id      BIGINT PRIMARY KEY DEFAULT nextval('fine_id_seq'),
    amount       DECIMAL(10, 2) NOT NULL,
    issue_date   DATE           NOT NULL,
    due_date     DATE           NOT NULL,
    member_id    BIGINT         NOT NULL,
    librarian_id BIGINT,
    FOREIGN KEY (member_id) REFERENCES members (person_id) ON DELETE CASCADE,
    FOREIGN KEY (librarian_id) REFERENCES librarians (person_id) ON DELETE SET NULL,
    FOREIGN KEY (admin_id) REFERENCES admins (person_id) ON DELETE SET NULL
)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V1__CREATE_ENTITIES_TABLE.sql failed
----------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERRO: coluna "admin_id" referenciada na restrição de chave estrangeira não existe
Location   : db/migration/V1__CREATE_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V1__CREATE_ENTITIES_TABLE.sql)
Line       : 89
Statement  : -- Fine Table
CREATE TABLE IF NOT EXISTS fines
(
    fine_id      BIGINT PRIMARY KEY DEFAULT nextval('fine_id_seq'),
    amount       DECIMAL(10, 2) NOT NULL,
    issue_date   DATE           NOT NULL,
    due_date     DATE           NOT NULL,
    member_id    BIGINT         NOT NULL,
    librarian_id BIGINT,
    FOREIGN KEY (member_id) REFERENCES members (person_id) ON DELETE CASCADE,
    FOREIGN KEY (librarian_id) REFERENCES librarians (person_id) ON DELETE SET NULL,
    FOREIGN KEY (admin_id) REFERENCES admins (person_id) ON DELETE SET NULL
)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V1__CREATE_ENTITIES_TABLE.sql failed
----------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERRO: coluna "admin_id" referenciada na restrição de chave estrangeira não existe
Location   : db/migration/V1__CREATE_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V1__CREATE_ENTITIES_TABLE.sql)
Line       : 89
Statement  : -- Fine Table
CREATE TABLE IF NOT EXISTS fines
(
    fine_id      BIGINT PRIMARY KEY DEFAULT nextval('fine_id_seq'),
    amount       DECIMAL(10, 2) NOT NULL,
    issue_date   DATE           NOT NULL,
    due_date     DATE           NOT NULL,
    member_id    BIGINT         NOT NULL,
    librarian_id BIGINT,
    FOREIGN KEY (member_id) REFERENCES members (person_id) ON DELETE CASCADE,
    FOREIGN KEY (librarian_id) REFERENCES librarians (person_id) ON DELETE SET NULL,
    FOREIGN KEY (admin_id) REFERENCES admins (person_id) ON DELETE SET NULL
)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V1__CREATE_ENTITIES_TABLE.sql failed
----------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERRO: coluna "admin_id" referenciada na restrição de chave estrangeira não existe
Location   : db/migration/V1__CREATE_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V1__CREATE_ENTITIES_TABLE.sql)
Line       : 89
Statement  : -- Fine Table
CREATE TABLE IF NOT EXISTS fines
(
    fine_id      BIGINT PRIMARY KEY DEFAULT nextval('fine_id_seq'),
    amount       DECIMAL(10, 2) NOT NULL,
    issue_date   DATE           NOT NULL,
    due_date     DATE           NOT NULL,
    member_id    BIGINT         NOT NULL,
    librarian_id BIGINT,
    FOREIGN KEY (member_id) REFERENCES members (person_id) ON DELETE CASCADE,
    FOREIGN KEY (librarian_id) REFERENCES librarians (person_id) ON DELETE SET NULL,
    FOREIGN KEY (admin_id) REFERENCES admins (person_id) ON DELETE SET NULL
)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: coluna "admin_id" referenciada na restrição de chave estrangeira não existe
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 21:17:51,244 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:17:51,300 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 24932 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:17:51,301 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:17:51,302 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:17:51,350 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:17:51,350 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:17:52,490 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:17:52,492 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:17:52,510 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:17:52,519 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:17:52,520 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:17:52,527 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 21:17:53,283 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:17:53,293 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:17:53,295 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:17:53,296 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:17:53,368 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:17:53,369 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2018 ms
2024-08-24 21:17:53,537 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:17:53,854 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3fb5f3d6
2024-08-24 21:17:53,856 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:17:53,867 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:17:54,132 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:17:54,133 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:17:54,133 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:17:54,152 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:17:54,159 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:17:54,199 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.030s)
2024-08-24 21:17:54,215 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": << Empty Schema >>
2024-08-24 21:17:54,241 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "1 - CREATE ENTITIES TABLE"
2024-08-24 21:17:54,255 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "book_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 21:17:54,256 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fine_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 21:17:54,340 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "statuses" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 21:17:54,398 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "1 - CREATE ENTITIES TABLE" failed! Changes successfully rolled back.
2024-08-24 21:17:54,404 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V1__CREATE_ENTITIES_TABLE.sql failed
----------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERRO: coluna "admin_id" referenciada na restrição de chave estrangeira não existe
Location   : db/migration/V1__CREATE_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V1__CREATE_ENTITIES_TABLE.sql)
Line       : 89
Statement  : -- Fine Table
CREATE TABLE IF NOT EXISTS fines
(
    fine_id      BIGINT PRIMARY KEY DEFAULT nextval('fine_id_seq'),
    amount       DECIMAL(10, 2) NOT NULL,
    issue_date   DATE           NOT NULL,
    due_date     DATE           NOT NULL,
    member_id    BIGINT         NOT NULL,
    librarian_id BIGINT,
    FOREIGN KEY (member_id) REFERENCES members (person_id) ON DELETE CASCADE,
    FOREIGN KEY (librarian_id) REFERENCES librarians (person_id) ON DELETE SET NULL,
    FOREIGN KEY (admin_id) REFERENCES admins (person_id) ON DELETE SET NULL
)

2024-08-24 21:17:54,405 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:17:54,547 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:17:54,558 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 21:17:54,615 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 21:17:54,656 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V1__CREATE_ENTITIES_TABLE.sql failed
----------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERRO: coluna "admin_id" referenciada na restrição de chave estrangeira não existe
Location   : db/migration/V1__CREATE_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V1__CREATE_ENTITIES_TABLE.sql)
Line       : 89
Statement  : -- Fine Table
CREATE TABLE IF NOT EXISTS fines
(
    fine_id      BIGINT PRIMARY KEY DEFAULT nextval('fine_id_seq'),
    amount       DECIMAL(10, 2) NOT NULL,
    issue_date   DATE           NOT NULL,
    due_date     DATE           NOT NULL,
    member_id    BIGINT         NOT NULL,
    librarian_id BIGINT,
    FOREIGN KEY (member_id) REFERENCES members (person_id) ON DELETE CASCADE,
    FOREIGN KEY (librarian_id) REFERENCES librarians (person_id) ON DELETE SET NULL,
    FOREIGN KEY (admin_id) REFERENCES admins (person_id) ON DELETE SET NULL
)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V1__CREATE_ENTITIES_TABLE.sql failed
----------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERRO: coluna "admin_id" referenciada na restrição de chave estrangeira não existe
Location   : db/migration/V1__CREATE_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V1__CREATE_ENTITIES_TABLE.sql)
Line       : 89
Statement  : -- Fine Table
CREATE TABLE IF NOT EXISTS fines
(
    fine_id      BIGINT PRIMARY KEY DEFAULT nextval('fine_id_seq'),
    amount       DECIMAL(10, 2) NOT NULL,
    issue_date   DATE           NOT NULL,
    due_date     DATE           NOT NULL,
    member_id    BIGINT         NOT NULL,
    librarian_id BIGINT,
    FOREIGN KEY (member_id) REFERENCES members (person_id) ON DELETE CASCADE,
    FOREIGN KEY (librarian_id) REFERENCES librarians (person_id) ON DELETE SET NULL,
    FOREIGN KEY (admin_id) REFERENCES admins (person_id) ON DELETE SET NULL
)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V1__CREATE_ENTITIES_TABLE.sql failed
----------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERRO: coluna "admin_id" referenciada na restrição de chave estrangeira não existe
Location   : db/migration/V1__CREATE_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V1__CREATE_ENTITIES_TABLE.sql)
Line       : 89
Statement  : -- Fine Table
CREATE TABLE IF NOT EXISTS fines
(
    fine_id      BIGINT PRIMARY KEY DEFAULT nextval('fine_id_seq'),
    amount       DECIMAL(10, 2) NOT NULL,
    issue_date   DATE           NOT NULL,
    due_date     DATE           NOT NULL,
    member_id    BIGINT         NOT NULL,
    librarian_id BIGINT,
    FOREIGN KEY (member_id) REFERENCES members (person_id) ON DELETE CASCADE,
    FOREIGN KEY (librarian_id) REFERENCES librarians (person_id) ON DELETE SET NULL,
    FOREIGN KEY (admin_id) REFERENCES admins (person_id) ON DELETE SET NULL
)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V1__CREATE_ENTITIES_TABLE.sql failed
----------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERRO: coluna "admin_id" referenciada na restrição de chave estrangeira não existe
Location   : db/migration/V1__CREATE_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V1__CREATE_ENTITIES_TABLE.sql)
Line       : 89
Statement  : -- Fine Table
CREATE TABLE IF NOT EXISTS fines
(
    fine_id      BIGINT PRIMARY KEY DEFAULT nextval('fine_id_seq'),
    amount       DECIMAL(10, 2) NOT NULL,
    issue_date   DATE           NOT NULL,
    due_date     DATE           NOT NULL,
    member_id    BIGINT         NOT NULL,
    librarian_id BIGINT,
    FOREIGN KEY (member_id) REFERENCES members (person_id) ON DELETE CASCADE,
    FOREIGN KEY (librarian_id) REFERENCES librarians (person_id) ON DELETE SET NULL,
    FOREIGN KEY (admin_id) REFERENCES admins (person_id) ON DELETE SET NULL
)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: coluna "admin_id" referenciada na restrição de chave estrangeira não existe
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 21:21:48,752 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:21:48,809 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 22620 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:21:48,809 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:21:48,810 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:21:48,860 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:21:48,860 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:21:50,004 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:21:50,006 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:21:50,025 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:21:50,037 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:21:50,038 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:21:50,046 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.
2024-08-24 21:21:50,867 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:21:50,876 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:21:50,878 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:21:50,878 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:21:50,949 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:21:50,950 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2088 ms
2024-08-24 21:21:51,090 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:21:51,355 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4fc7e205
2024-08-24 21:21:51,357 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:21:51,367 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:21:51,597 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:21:51,598 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:21:51,599 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:21:51,618 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:21:51,624 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:21:51,656 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.022s)
2024-08-24 21:21:51,668 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": << Empty Schema >>
2024-08-24 21:21:51,692 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "1 - CREATE ENTITIES TABLE"
2024-08-24 21:21:51,709 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "book_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 21:21:51,710 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fine_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 21:21:51,803 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "statuses" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 21:21:51,836 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "member_books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 21:21:51,859 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE"
2024-08-24 21:21:51,881 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "3 - INSERT LIBRARIAN INTO TABLE"
2024-08-24 21:21:51,906 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS FINE AND BOOKS TABLES"
2024-08-24 21:21:51,923 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS FINE AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 21:21:51,930 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERRO: coluna "book_status" da relação "books" não existe
  Position: 48
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : INSERT INTO books (title, author, isbn, genre, book_status, publisher_name, publisher_year, librarian_id)
VALUES (nextval('book_id_seq'), 'Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 3),
       (nextval('book_id_seq'), 'Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 4)

2024-08-24 21:21:51,931 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:21:52,061 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:21:52,065 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 21:21:52,092 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 21:21:52,123 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERRO: coluna "book_status" da relação "books" não existe
  Position: 48
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : INSERT INTO books (title, author, isbn, genre, book_status, publisher_name, publisher_year, librarian_id)
VALUES (nextval('book_id_seq'), 'Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 3),
       (nextval('book_id_seq'), 'Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 4)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERRO: coluna "book_status" da relação "books" não existe
  Position: 48
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : INSERT INTO books (title, author, isbn, genre, book_status, publisher_name, publisher_year, librarian_id)
VALUES (nextval('book_id_seq'), 'Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 3),
       (nextval('book_id_seq'), 'Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 4)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERRO: coluna "book_status" da relação "books" não existe
  Position: 48
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : INSERT INTO books (title, author, isbn, genre, book_status, publisher_name, publisher_year, librarian_id)
VALUES (nextval('book_id_seq'), 'Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 3),
       (nextval('book_id_seq'), 'Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 4)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERRO: coluna "book_status" da relação "books" não existe
  Position: 48
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : INSERT INTO books (title, author, isbn, genre, book_status, publisher_name, publisher_year, librarian_id)
VALUES (nextval('book_id_seq'), 'Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 3),
       (nextval('book_id_seq'), 'Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 4)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: coluna "book_status" da relação "books" não existe
  Position: 48
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 21:27:21,134 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:27:21,184 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 26192 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:27:21,185 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:27:21,187 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:27:21,234 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:27:21,235 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:27:22,425 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:27:22,427 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:27:22,445 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:27:22,454 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:27:22,455 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:27:22,461 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 21:27:23,219 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:27:23,227 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:27:23,230 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:27:23,230 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:27:23,316 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:27:23,318 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2081 ms
2024-08-24 21:27:23,467 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:27:23,721 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@164c180
2024-08-24 21:27:23,724 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:27:23,733 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:27:24,007 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:27:24,007 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:27:24,007 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:27:24,028 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:27:24,036 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:27:24,078 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.032s)
2024-08-24 21:27:24,094 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 21:27:24,116 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS FINE AND BOOKS TABLES"
2024-08-24 21:27:24,148 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS FINE AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 21:27:24,153 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "books" viola restrição de chave estrangeira "books_status_id_fkey"
  Detail: Chave (status_id)=(1) não está presente na tabela "statuses".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 22
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, status_id, publisher_name, publisher_year, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 1, 'Publisher X', 2023, 3),
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 2, 'Publisher Y', 2022, 4)

2024-08-24 21:27:24,154 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:27:24,262 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:27:24,265 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 21:27:24,288 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 21:27:24,318 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "books" viola restrição de chave estrangeira "books_status_id_fkey"
  Detail: Chave (status_id)=(1) não está presente na tabela "statuses".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 22
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, status_id, publisher_name, publisher_year, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 1, 'Publisher X', 2023, 3),
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 2, 'Publisher Y', 2022, 4)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "books" viola restrição de chave estrangeira "books_status_id_fkey"
  Detail: Chave (status_id)=(1) não está presente na tabela "statuses".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 22
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, status_id, publisher_name, publisher_year, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 1, 'Publisher X', 2023, 3),
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 2, 'Publisher Y', 2022, 4)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "books" viola restrição de chave estrangeira "books_status_id_fkey"
  Detail: Chave (status_id)=(1) não está presente na tabela "statuses".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 22
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, status_id, publisher_name, publisher_year, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 1, 'Publisher X', 2023, 3),
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 2, 'Publisher Y', 2022, 4)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "books" viola restrição de chave estrangeira "books_status_id_fkey"
  Detail: Chave (status_id)=(1) não está presente na tabela "statuses".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 22
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, status_id, publisher_name, publisher_year, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 1, 'Publisher X', 2023, 3),
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 2, 'Publisher Y', 2022, 4)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "books" viola restrição de chave estrangeira "books_status_id_fkey"
  Detail: Chave (status_id)=(1) não está presente na tabela "statuses".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 21:28:11,038 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:28:11,098 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 16400 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:28:11,098 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:28:11,099 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:28:11,154 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:28:11,155 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:28:12,288 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:28:12,291 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:28:12,309 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:28:12,317 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:28:12,318 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:28:12,325 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 21:28:13,086 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:28:13,096 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:28:13,098 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:28:13,098 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:28:13,174 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:28:13,174 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2019 ms
2024-08-24 21:28:13,307 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:28:13,570 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@224794b5
2024-08-24 21:28:13,571 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:28:13,581 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:28:13,820 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:28:13,821 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:28:13,821 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:28:13,838 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:28:13,845 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:28:13,882 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.028s)
2024-08-24 21:28:13,899 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 21:28:13,917 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS FINE AND BOOKS TABLES"
2024-08-24 21:28:13,944 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS FINE AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 21:28:13,948 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "fines" viola restrição de chave estrangeira "fines_member_id_fkey"
  Detail: Chave (member_id)=(5) não está presente na tabela "members".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 30
Statement  : -- Insert Fines with member_id and librarian_id referring to the members and librarians tables
-- Assume members and librarians are inserted with person_id 1 and 2

INSERT INTO fines (fine_id, amount, issue_date, due_date, member_id, librarian_id)
VALUES (nextval('fine_id_seq'), 50.00, '2024-01-01', '2024-01-15', 5, 3),
       (nextval('fine_id_seq'), 75.00, '2024-02-01', '2024-02-15', 6, 4)

2024-08-24 21:28:13,949 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:28:14,038 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:28:14,041 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 21:28:14,065 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 21:28:14,092 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "fines" viola restrição de chave estrangeira "fines_member_id_fkey"
  Detail: Chave (member_id)=(5) não está presente na tabela "members".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 30
Statement  : -- Insert Fines with member_id and librarian_id referring to the members and librarians tables
-- Assume members and librarians are inserted with person_id 1 and 2

INSERT INTO fines (fine_id, amount, issue_date, due_date, member_id, librarian_id)
VALUES (nextval('fine_id_seq'), 50.00, '2024-01-01', '2024-01-15', 5, 3),
       (nextval('fine_id_seq'), 75.00, '2024-02-01', '2024-02-15', 6, 4)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "fines" viola restrição de chave estrangeira "fines_member_id_fkey"
  Detail: Chave (member_id)=(5) não está presente na tabela "members".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 30
Statement  : -- Insert Fines with member_id and librarian_id referring to the members and librarians tables
-- Assume members and librarians are inserted with person_id 1 and 2

INSERT INTO fines (fine_id, amount, issue_date, due_date, member_id, librarian_id)
VALUES (nextval('fine_id_seq'), 50.00, '2024-01-01', '2024-01-15', 5, 3),
       (nextval('fine_id_seq'), 75.00, '2024-02-01', '2024-02-15', 6, 4)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "fines" viola restrição de chave estrangeira "fines_member_id_fkey"
  Detail: Chave (member_id)=(5) não está presente na tabela "members".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 30
Statement  : -- Insert Fines with member_id and librarian_id referring to the members and librarians tables
-- Assume members and librarians are inserted with person_id 1 and 2

INSERT INTO fines (fine_id, amount, issue_date, due_date, member_id, librarian_id)
VALUES (nextval('fine_id_seq'), 50.00, '2024-01-01', '2024-01-15', 5, 3),
       (nextval('fine_id_seq'), 75.00, '2024-02-01', '2024-02-15', 6, 4)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
-------------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "fines" viola restrição de chave estrangeira "fines_member_id_fkey"
  Detail: Chave (member_id)=(5) não está presente na tabela "members".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 30
Statement  : -- Insert Fines with member_id and librarian_id referring to the members and librarians tables
-- Assume members and librarians are inserted with person_id 1 and 2

INSERT INTO fines (fine_id, amount, issue_date, due_date, member_id, librarian_id)
VALUES (nextval('fine_id_seq'), 50.00, '2024-01-01', '2024-01-15', 5, 3),
       (nextval('fine_id_seq'), 75.00, '2024-02-01', '2024-02-15', 6, 4)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "fines" viola restrição de chave estrangeira "fines_member_id_fkey"
  Detail: Chave (member_id)=(5) não está presente na tabela "members".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 21:30:17,589 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:30:17,643 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 8096 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:30:17,644 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:30:17,645 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:30:17,695 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:30:17,696 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:30:18,840 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:30:18,842 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:30:18,861 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:30:18,870 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:30:18,871 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:30:18,878 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 21:30:19,677 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:30:19,685 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:30:19,687 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:30:19,688 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:30:19,775 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:30:19,776 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2080 ms
2024-08-24 21:30:19,928 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:30:20,199 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@733260cf
2024-08-24 21:30:20,201 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:30:20,212 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:30:20,496 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:30:20,496 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:30:20,497 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:30:20,515 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:30:20,520 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:30:20,566 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.034s)
2024-08-24 21:30:20,579 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 21:30:20,595 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 21:30:20,625 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Successfully applied 1 migration to schema "public", now at version v4 (execution time 00:00.018s)
2024-08-24 21:30:20,730 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 21:30:20,821 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 21:30:20,867 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 21:30:21,149 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 21:30:21,214 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 21:30:21,417 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:30:21,480 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:30:21,483 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:30:21,489 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:30:21,494 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:30:22,485 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 21:30:22,573 WARN  [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl: GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists books add column book_status varchar(255) not null check (book_status in ('AVAILABLE','BORROWED','LOANED','LOST','RESERVED'))" via JDBC [ERRO: column "book_status" of relation "books" contains null values]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists books add column book_status varchar(255) not null check (book_status in ('AVAILABLE','BORROWED','LOANED','LOST','RESERVED'))" via JDBC [ERRO: column "book_status" of relation "books" contains null values]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.postgresql.util.PSQLException: ERRO: column "book_status" of relation "books" contains null values
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 42 common frames omitted
2024-08-24 21:30:22,668 WARN  [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl: GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists member_books add constraint FKhoe33doomjly5ik20uc0l4mw5 foreign key (book_id) references books" via JDBC [ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkhoe33doomjly5ik20uc0l4mw5"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists member_books add constraint FKhoe33doomjly5ik20uc0l4mw5 foreign key (book_id) references books" via JDBC [ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkhoe33doomjly5ik20uc0l4mw5"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkhoe33doomjly5ik20uc0l4mw5"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 41 common frames omitted
2024-08-24 21:30:22,671 WARN  [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl: GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists member_books add constraint FKquj8eakjw45e3fkxc7kckqpod foreign key (member_id) references members" via JDBC [ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkquj8eakjw45e3fkxc7kckqpod"
  Detail: Chave (member_id)=(1) não está presente na tabela "members".]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists member_books add constraint FKquj8eakjw45e3fkxc7kckqpod foreign key (member_id) references members" via JDBC [ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkquj8eakjw45e3fkxc7kckqpod"
  Detail: Chave (member_id)=(1) não está presente na tabela "members".]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkquj8eakjw45e3fkxc7kckqpod"
  Detail: Chave (member_id)=(1) não está presente na tabela "members".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 41 common frames omitted
2024-08-24 21:30:22,687 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 21:30:24,298 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 21:30:24,306 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 21:30:24,399 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 21:30:24,430 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 21:30:24,452 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 7.348 seconds (process running for 8.484)
2024-08-24 21:30:24,770 INFO  [RMI TCP Connection(3)-172.21.16.1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-08-24 21:30:24,771 INFO  [RMI TCP Connection(3)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-08-24 21:30:24,774 INFO  [RMI TCP Connection(3)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2024-08-24 21:31:08,961 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 21:31:08,967 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:31:08,970 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:31:16,301 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:31:16,360 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 22608 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:31:16,361 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:31:16,362 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:31:16,432 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:31:16,432 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:31:17,927 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:31:17,929 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:31:17,952 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 18 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:31:17,963 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:31:17,964 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:31:17,971 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.
2024-08-24 21:31:18,815 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:31:18,824 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:31:18,826 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:31:18,826 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:31:18,916 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:31:18,916 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2483 ms
2024-08-24 21:31:19,093 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:31:19,374 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@d4c4d91
2024-08-24 21:31:19,376 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:31:19,389 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:31:19,618 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:31:19,619 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:31:19,619 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:31:19,637 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:31:19,644 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:31:19,681 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.026s)
2024-08-24 21:31:19,692 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 4
2024-08-24 21:31:19,695 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Schema "public" is up to date. No migration necessary.
2024-08-24 21:31:19,803 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 21:31:19,872 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 21:31:19,944 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 21:31:20,243 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 21:31:20,322 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 21:31:20,523 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:31:20,591 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:31:20,593 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:31:20,598 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:31:20,602 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:31:21,642 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 21:31:21,692 WARN  [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl: GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists books add column book_status varchar(255) not null check (book_status in ('AVAILABLE','BORROWED','LOANED','LOST','RESERVED'))" via JDBC [ERRO: column "book_status" of relation "books" contains null values]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists books add column book_status varchar(255) not null check (book_status in ('AVAILABLE','BORROWED','LOANED','LOST','RESERVED'))" via JDBC [ERRO: column "book_status" of relation "books" contains null values]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.postgresql.util.PSQLException: ERRO: column "book_status" of relation "books" contains null values
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 42 common frames omitted
2024-08-24 21:31:21,776 WARN  [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl: GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists member_books add constraint FKhoe33doomjly5ik20uc0l4mw5 foreign key (book_id) references books" via JDBC [ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkhoe33doomjly5ik20uc0l4mw5"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists member_books add constraint FKhoe33doomjly5ik20uc0l4mw5 foreign key (book_id) references books" via JDBC [ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkhoe33doomjly5ik20uc0l4mw5"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkhoe33doomjly5ik20uc0l4mw5"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 41 common frames omitted
2024-08-24 21:31:21,779 WARN  [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl: GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists member_books add constraint FKquj8eakjw45e3fkxc7kckqpod foreign key (member_id) references members" via JDBC [ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkquj8eakjw45e3fkxc7kckqpod"
  Detail: Chave (member_id)=(1) não está presente na tabela "members".]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists member_books add constraint FKquj8eakjw45e3fkxc7kckqpod foreign key (member_id) references members" via JDBC [ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkquj8eakjw45e3fkxc7kckqpod"
  Detail: Chave (member_id)=(1) não está presente na tabela "members".]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkquj8eakjw45e3fkxc7kckqpod"
  Detail: Chave (member_id)=(1) não está presente na tabela "members".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 41 common frames omitted
2024-08-24 21:31:21,793 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 21:31:23,404 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 21:31:23,412 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 21:31:23,494 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 21:31:23,519 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 21:31:23,539 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 7.835 seconds (process running for 9.018)
2024-08-24 21:31:23,761 INFO  [RMI TCP Connection(2)-172.21.16.1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-08-24 21:31:23,761 INFO  [RMI TCP Connection(2)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-08-24 21:31:23,764 INFO  [RMI TCP Connection(2)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2024-08-24 21:31:42,691 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 21:31:42,695 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:31:42,699 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:32:06,483 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:32:06,540 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 2508 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:32:06,541 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:32:06,541 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:32:06,597 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:32:06,597 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:32:07,759 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:32:07,760 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:32:07,780 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:32:07,788 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:32:07,788 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:32:07,796 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 21:32:08,562 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:32:08,571 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:32:08,573 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:32:08,573 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:32:08,661 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:32:08,662 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2063 ms
2024-08-24 21:32:08,808 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:32:09,076 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@c003900
2024-08-24 21:32:09,078 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:32:09,088 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:32:09,327 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:32:09,327 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:32:09,328 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:32:09,344 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:32:09,350 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:32:09,387 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.027s)
2024-08-24 21:32:09,403 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 4
2024-08-24 21:32:09,406 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Schema "public" is up to date. No migration necessary.
2024-08-24 21:32:09,524 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 21:32:09,611 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 21:32:09,657 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 21:32:09,942 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 21:32:10,027 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 21:32:10,218 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:32:10,284 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:32:10,286 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:32:10,291 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:32:10,295 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:32:11,349 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 21:32:11,394 WARN  [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl: GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists books add column book_status varchar(255) not null check (book_status in ('AVAILABLE','BORROWED','LOANED','LOST','RESERVED'))" via JDBC [ERRO: column "book_status" of relation "books" contains null values]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists books add column book_status varchar(255) not null check (book_status in ('AVAILABLE','BORROWED','LOANED','LOST','RESERVED'))" via JDBC [ERRO: column "book_status" of relation "books" contains null values]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.postgresql.util.PSQLException: ERRO: column "book_status" of relation "books" contains null values
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 42 common frames omitted
2024-08-24 21:32:11,481 WARN  [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl: GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists member_books add constraint FKhoe33doomjly5ik20uc0l4mw5 foreign key (book_id) references books" via JDBC [ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkhoe33doomjly5ik20uc0l4mw5"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists member_books add constraint FKhoe33doomjly5ik20uc0l4mw5 foreign key (book_id) references books" via JDBC [ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkhoe33doomjly5ik20uc0l4mw5"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkhoe33doomjly5ik20uc0l4mw5"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 41 common frames omitted
2024-08-24 21:32:11,484 WARN  [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl: GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists member_books add constraint FKquj8eakjw45e3fkxc7kckqpod foreign key (member_id) references members" via JDBC [ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkquj8eakjw45e3fkxc7kckqpod"
  Detail: Chave (member_id)=(1) não está presente na tabela "members".]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists member_books add constraint FKquj8eakjw45e3fkxc7kckqpod foreign key (member_id) references members" via JDBC [ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkquj8eakjw45e3fkxc7kckqpod"
  Detail: Chave (member_id)=(1) não está presente na tabela "members".]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkquj8eakjw45e3fkxc7kckqpod"
  Detail: Chave (member_id)=(1) não está presente na tabela "members".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 41 common frames omitted
2024-08-24 21:32:11,499 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 21:32:13,021 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 21:32:13,030 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 21:32:13,116 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 21:32:13,140 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 21:32:13,163 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 7.171 seconds (process running for 8.27)
2024-08-24 21:32:13,695 INFO  [RMI TCP Connection(2)-172.21.16.1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-08-24 21:32:13,696 INFO  [RMI TCP Connection(2)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-08-24 21:32:13,698 INFO  [RMI TCP Connection(2)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2024-08-24 21:34:11,237 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 21:34:11,241 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:34:11,246 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:34:14,360 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:34:14,415 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 28936 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:34:14,416 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:34:14,417 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:34:14,466 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:34:14,467 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:34:15,561 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:34:15,563 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:34:15,581 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:34:15,590 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:34:15,591 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:34:15,598 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 21:34:16,343 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:34:16,353 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:34:16,355 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:34:16,355 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:34:16,443 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:34:16,444 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1977 ms
2024-08-24 21:34:16,625 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:34:16,891 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@757766dc
2024-08-24 21:34:16,893 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:34:16,902 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:34:17,113 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:34:17,113 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:34:17,113 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:34:17,137 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:34:17,144 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:34:17,177 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.023s)
2024-08-24 21:34:17,188 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 4
2024-08-24 21:34:17,191 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Schema "public" is up to date. No migration necessary.
2024-08-24 21:34:17,299 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 21:34:17,369 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 21:34:17,427 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 21:34:17,696 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 21:34:17,772 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 21:34:17,958 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:34:18,025 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:34:18,027 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:34:18,032 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:34:18,036 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:34:19,110 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 21:34:19,247 WARN  [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl: GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists member_books add constraint FKhoe33doomjly5ik20uc0l4mw5 foreign key (book_id) references books" via JDBC [ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkhoe33doomjly5ik20uc0l4mw5"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists member_books add constraint FKhoe33doomjly5ik20uc0l4mw5 foreign key (book_id) references books" via JDBC [ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkhoe33doomjly5ik20uc0l4mw5"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkhoe33doomjly5ik20uc0l4mw5"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 41 common frames omitted
2024-08-24 21:34:19,251 WARN  [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl: GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists member_books add constraint FKquj8eakjw45e3fkxc7kckqpod foreign key (member_id) references members" via JDBC [ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkquj8eakjw45e3fkxc7kckqpod"
  Detail: Chave (member_id)=(1) não está presente na tabela "members".]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists member_books add constraint FKquj8eakjw45e3fkxc7kckqpod foreign key (member_id) references members" via JDBC [ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkquj8eakjw45e3fkxc7kckqpod"
  Detail: Chave (member_id)=(1) não está presente na tabela "members".]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkquj8eakjw45e3fkxc7kckqpod"
  Detail: Chave (member_id)=(1) não está presente na tabela "members".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 41 common frames omitted
2024-08-24 21:34:19,269 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 21:34:20,682 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 21:34:20,690 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 21:34:20,772 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 21:34:20,797 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 21:34:20,814 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 6.951 seconds (process running for 8.172)
2024-08-24 21:34:21,480 INFO  [RMI TCP Connection(3)-172.21.16.1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-08-24 21:34:21,480 INFO  [RMI TCP Connection(3)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-08-24 21:34:21,482 INFO  [RMI TCP Connection(3)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2024-08-24 21:34:44,665 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 21:34:44,669 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:34:44,672 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:34:48,397 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:34:48,455 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 24664 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:34:48,457 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:34:48,458 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:34:48,510 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:34:48,510 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:34:49,672 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:34:49,673 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:34:49,695 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 17 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:34:49,708 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:34:49,710 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:34:49,723 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 8 ms. Found 0 JPA repository interfaces.
2024-08-24 21:34:50,556 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:34:50,566 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:34:50,568 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:34:50,568 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:34:50,644 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:34:50,644 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2133 ms
2024-08-24 21:34:50,792 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:34:51,051 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7fdbbad8
2024-08-24 21:34:51,053 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:34:51,062 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:34:51,303 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:34:51,303 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:34:51,304 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:34:51,320 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:34:51,327 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:34:51,366 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.029s)
2024-08-24 21:34:51,382 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 4
2024-08-24 21:34:51,386 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Schema "public" is up to date. No migration necessary.
2024-08-24 21:34:51,492 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 21:34:51,573 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 21:34:51,624 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 21:34:51,906 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 21:34:51,978 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 21:34:52,178 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:34:52,233 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:34:52,236 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:34:52,240 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:34:52,244 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:34:53,225 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 21:34:53,351 WARN  [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl: GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists member_books add constraint FKhoe33doomjly5ik20uc0l4mw5 foreign key (book_id) references books" via JDBC [ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkhoe33doomjly5ik20uc0l4mw5"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists member_books add constraint FKhoe33doomjly5ik20uc0l4mw5 foreign key (book_id) references books" via JDBC [ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkhoe33doomjly5ik20uc0l4mw5"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkhoe33doomjly5ik20uc0l4mw5"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 41 common frames omitted
2024-08-24 21:34:53,354 WARN  [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl: GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists member_books add constraint FKquj8eakjw45e3fkxc7kckqpod foreign key (member_id) references members" via JDBC [ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkquj8eakjw45e3fkxc7kckqpod"
  Detail: Chave (member_id)=(1) não está presente na tabela "members".]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists member_books add constraint FKquj8eakjw45e3fkxc7kckqpod foreign key (member_id) references members" via JDBC [ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkquj8eakjw45e3fkxc7kckqpod"
  Detail: Chave (member_id)=(1) não está presente na tabela "members".]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkquj8eakjw45e3fkxc7kckqpod"
  Detail: Chave (member_id)=(1) não está presente na tabela "members".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 41 common frames omitted
2024-08-24 21:34:53,368 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 21:34:54,870 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 21:34:54,878 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 21:34:54,951 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 21:34:54,975 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 21:34:54,995 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 7.129 seconds (process running for 8.329)
2024-08-24 21:34:55,404 INFO  [RMI TCP Connection(2)-172.21.16.1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-08-24 21:34:55,404 INFO  [RMI TCP Connection(2)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-08-24 21:34:55,406 INFO  [RMI TCP Connection(2)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2024-08-24 21:35:16,547 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 21:35:16,554 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:35:16,558 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:35:19,951 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:35:20,009 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 16176 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:35:20,011 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:35:20,011 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:35:20,061 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:35:20,062 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:35:21,275 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:35:21,276 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:35:21,295 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:35:21,304 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:35:21,305 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:35:21,312 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 21:35:22,071 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:35:22,079 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:35:22,082 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:35:22,082 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:35:22,148 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:35:22,149 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2086 ms
2024-08-24 21:35:22,297 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:35:22,573 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@225a305d
2024-08-24 21:35:22,574 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:35:22,584 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:35:22,805 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:35:22,805 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:35:22,805 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:35:22,824 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:35:22,832 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:35:22,869 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.026s)
2024-08-24 21:35:22,880 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 21:35:22,893 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 21:35:22,914 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 21:35:22,918 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "members_email_key"
  Detail: Chave (email)=(charlie.davis@example.com) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

2024-08-24 21:35:22,919 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:35:23,049 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:35:23,052 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 21:35:23,073 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 21:35:23,099 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "members_email_key"
  Detail: Chave (email)=(charlie.davis@example.com) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "members_email_key"
  Detail: Chave (email)=(charlie.davis@example.com) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "members_email_key"
  Detail: Chave (email)=(charlie.davis@example.com) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "members_email_key"
  Detail: Chave (email)=(charlie.davis@example.com) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: duplicar valor da chave viola a restrição de unicidade "members_email_key"
  Detail: Chave (email)=(charlie.davis@example.com) já existe.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 21:36:03,262 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:36:03,313 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 26036 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:36:03,314 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:36:03,315 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:36:03,364 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:36:03,365 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:36:04,516 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:36:04,518 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:36:04,536 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 13 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:36:04,543 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:36:04,545 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:36:04,552 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 21:36:05,317 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:36:05,327 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:36:05,328 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:36:05,329 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:36:05,399 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:36:05,400 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2034 ms
2024-08-24 21:36:05,536 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:36:05,796 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7d8775fe
2024-08-24 21:36:05,798 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:36:05,807 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:36:06,040 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:36:06,040 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:36:06,040 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:36:06,060 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:36:06,067 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:36:06,102 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.025s)
2024-08-24 21:36:06,116 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 21:36:06,134 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 21:36:06,149 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 21:36:06,154 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P01
Error Code : 0
Message    : ERRO: relação "members" não existe
  Position: 180
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

2024-08-24 21:36:06,154 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:36:06,262 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:36:06,265 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 21:36:06,289 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 21:36:06,316 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P01
Error Code : 0
Message    : ERRO: relação "members" não existe
  Position: 180
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P01
Error Code : 0
Message    : ERRO: relação "members" não existe
  Position: 180
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P01
Error Code : 0
Message    : ERRO: relação "members" não existe
  Position: 180
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P01
Error Code : 0
Message    : ERRO: relação "members" não existe
  Position: 180
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: relação "members" não existe
  Position: 180
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 21:37:01,958 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:37:02,011 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 30564 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:37:02,012 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:37:02,013 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:37:02,059 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:37:02,059 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:37:03,190 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:37:03,192 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:37:03,210 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:37:03,218 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:37:03,219 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:37:03,225 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 21:37:03,991 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:37:03,999 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:37:04,001 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:37:04,001 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:37:04,074 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:37:04,074 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2014 ms
2024-08-24 21:37:04,219 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:37:04,478 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@16083a15
2024-08-24 21:37:04,480 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:37:04,491 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:37:04,756 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:37:04,757 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:37:04,757 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:37:04,777 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:37:04,783 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:37:04,854 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.060s)
2024-08-24 21:37:04,872 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": << Empty Schema >>
2024-08-24 21:37:04,900 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "1 - CREATE ENTITIES TABLE"
2024-08-24 21:37:04,910 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "person_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 21:37:04,911 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "book_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 21:37:04,912 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fine_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 21:37:05,026 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "statuses" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 21:37:05,055 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "member_books" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 21:37:05,079 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE"
2024-08-24 21:37:05,097 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "3 - INSERT LIBRARIAN INTO TABLE"
2024-08-24 21:37:05,109 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "3 - INSERT LIBRARIAN INTO TABLE" failed! Changes successfully rolled back.
2024-08-24 21:37:05,113 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V3__INSERT_LIBRARIAN_INTO_TABLE.sql failed
----------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "librarians" viola restrição de chave estrangeira "librarians_admin_id_fkey"
  Detail: Chave (admin_id)=(1) não está presente na tabela "admins".
Location   : db/migration/V3__INSERT_LIBRARIAN_INTO_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V3__INSERT_LIBRARIAN_INTO_TABLE.sql)
Line       : 1
Statement  : INSERT INTO librarians (person_id, name, email, contact, street, city, state, country, postal_code, employee_code,
                        admin_id)
VALUES (nextval('person_id_seq'), 'Alicia Johnson', 'alicia.johnson@example.com', '1112233445', '789 Pine St',
        'Springfield', 'IL', 'USA', '62701', 'EMP001', 1),
       (nextval('person_id_seq'), 'Bo Brown', 'bo.brown@example.com', '5556677889', '101 Maple St', 'Shelbyville',
        'IL', 'USA', '62565', 'EMP002', 2)

2024-08-24 21:37:05,113 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:37:05,234 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:37:05,244 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 21:37:05,305 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 21:37:05,334 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V3__INSERT_LIBRARIAN_INTO_TABLE.sql failed
----------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "librarians" viola restrição de chave estrangeira "librarians_admin_id_fkey"
  Detail: Chave (admin_id)=(1) não está presente na tabela "admins".
Location   : db/migration/V3__INSERT_LIBRARIAN_INTO_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V3__INSERT_LIBRARIAN_INTO_TABLE.sql)
Line       : 1
Statement  : INSERT INTO librarians (person_id, name, email, contact, street, city, state, country, postal_code, employee_code,
                        admin_id)
VALUES (nextval('person_id_seq'), 'Alicia Johnson', 'alicia.johnson@example.com', '1112233445', '789 Pine St',
        'Springfield', 'IL', 'USA', '62701', 'EMP001', 1),
       (nextval('person_id_seq'), 'Bo Brown', 'bo.brown@example.com', '5556677889', '101 Maple St', 'Shelbyville',
        'IL', 'USA', '62565', 'EMP002', 2)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V3__INSERT_LIBRARIAN_INTO_TABLE.sql failed
----------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "librarians" viola restrição de chave estrangeira "librarians_admin_id_fkey"
  Detail: Chave (admin_id)=(1) não está presente na tabela "admins".
Location   : db/migration/V3__INSERT_LIBRARIAN_INTO_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V3__INSERT_LIBRARIAN_INTO_TABLE.sql)
Line       : 1
Statement  : INSERT INTO librarians (person_id, name, email, contact, street, city, state, country, postal_code, employee_code,
                        admin_id)
VALUES (nextval('person_id_seq'), 'Alicia Johnson', 'alicia.johnson@example.com', '1112233445', '789 Pine St',
        'Springfield', 'IL', 'USA', '62701', 'EMP001', 1),
       (nextval('person_id_seq'), 'Bo Brown', 'bo.brown@example.com', '5556677889', '101 Maple St', 'Shelbyville',
        'IL', 'USA', '62565', 'EMP002', 2)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V3__INSERT_LIBRARIAN_INTO_TABLE.sql failed
----------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "librarians" viola restrição de chave estrangeira "librarians_admin_id_fkey"
  Detail: Chave (admin_id)=(1) não está presente na tabela "admins".
Location   : db/migration/V3__INSERT_LIBRARIAN_INTO_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V3__INSERT_LIBRARIAN_INTO_TABLE.sql)
Line       : 1
Statement  : INSERT INTO librarians (person_id, name, email, contact, street, city, state, country, postal_code, employee_code,
                        admin_id)
VALUES (nextval('person_id_seq'), 'Alicia Johnson', 'alicia.johnson@example.com', '1112233445', '789 Pine St',
        'Springfield', 'IL', 'USA', '62701', 'EMP001', 1),
       (nextval('person_id_seq'), 'Bo Brown', 'bo.brown@example.com', '5556677889', '101 Maple St', 'Shelbyville',
        'IL', 'USA', '62565', 'EMP002', 2)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V3__INSERT_LIBRARIAN_INTO_TABLE.sql failed
----------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "librarians" viola restrição de chave estrangeira "librarians_admin_id_fkey"
  Detail: Chave (admin_id)=(1) não está presente na tabela "admins".
Location   : db/migration/V3__INSERT_LIBRARIAN_INTO_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V3__INSERT_LIBRARIAN_INTO_TABLE.sql)
Line       : 1
Statement  : INSERT INTO librarians (person_id, name, email, contact, street, city, state, country, postal_code, employee_code,
                        admin_id)
VALUES (nextval('person_id_seq'), 'Alicia Johnson', 'alicia.johnson@example.com', '1112233445', '789 Pine St',
        'Springfield', 'IL', 'USA', '62701', 'EMP001', 1),
       (nextval('person_id_seq'), 'Bo Brown', 'bo.brown@example.com', '5556677889', '101 Maple St', 'Shelbyville',
        'IL', 'USA', '62565', 'EMP002', 2)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "librarians" viola restrição de chave estrangeira "librarians_admin_id_fkey"
  Detail: Chave (admin_id)=(1) não está presente na tabela "admins".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 21:37:21,080 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:37:21,138 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 26824 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:37:21,138 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:37:21,139 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:37:21,192 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:37:21,192 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:37:22,350 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:37:22,351 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:37:22,369 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:37:22,378 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:37:22,379 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:37:22,386 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 21:37:23,184 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:37:23,195 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:37:23,197 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:37:23,197 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:37:23,295 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:37:23,295 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2102 ms
2024-08-24 21:37:23,441 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:37:23,712 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3e70e893
2024-08-24 21:37:23,715 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:37:23,725 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:37:23,959 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:37:23,960 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:37:23,960 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:37:23,978 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:37:23,984 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:37:24,021 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.028s)
2024-08-24 21:37:24,034 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 2
2024-08-24 21:37:24,049 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "3 - INSERT LIBRARIAN INTO TABLE"
2024-08-24 21:37:24,071 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "3 - INSERT LIBRARIAN INTO TABLE" failed! Changes successfully rolled back.
2024-08-24 21:37:24,076 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V3__INSERT_LIBRARIAN_INTO_TABLE.sql failed
----------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "librarians" viola restrição de chave estrangeira "librarians_admin_id_fkey"
  Detail: Chave (admin_id)=(1) não está presente na tabela "admins".
Location   : db/migration/V3__INSERT_LIBRARIAN_INTO_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V3__INSERT_LIBRARIAN_INTO_TABLE.sql)
Line       : 1
Statement  : INSERT INTO librarians (person_id, name, email, contact, street, city, state, country, postal_code, employee_code,
                        admin_id)
VALUES (nextval('person_id_seq'), 'Alicia Johnson', 'alicia.johnson@example.com', '1112233445', '789 Pine St',
        'Springfield', 'IL', 'USA', '62701', 'EMP001', 1),
       (nextval('person_id_seq'), 'Bo Brown', 'bo.brown@example.com', '5556677889', '101 Maple St', 'Shelbyville',
        'IL', 'USA', '62565', 'EMP002', 2)

2024-08-24 21:37:24,076 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:37:24,190 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:37:24,193 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 21:37:24,217 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 21:37:24,244 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V3__INSERT_LIBRARIAN_INTO_TABLE.sql failed
----------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "librarians" viola restrição de chave estrangeira "librarians_admin_id_fkey"
  Detail: Chave (admin_id)=(1) não está presente na tabela "admins".
Location   : db/migration/V3__INSERT_LIBRARIAN_INTO_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V3__INSERT_LIBRARIAN_INTO_TABLE.sql)
Line       : 1
Statement  : INSERT INTO librarians (person_id, name, email, contact, street, city, state, country, postal_code, employee_code,
                        admin_id)
VALUES (nextval('person_id_seq'), 'Alicia Johnson', 'alicia.johnson@example.com', '1112233445', '789 Pine St',
        'Springfield', 'IL', 'USA', '62701', 'EMP001', 1),
       (nextval('person_id_seq'), 'Bo Brown', 'bo.brown@example.com', '5556677889', '101 Maple St', 'Shelbyville',
        'IL', 'USA', '62565', 'EMP002', 2)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V3__INSERT_LIBRARIAN_INTO_TABLE.sql failed
----------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "librarians" viola restrição de chave estrangeira "librarians_admin_id_fkey"
  Detail: Chave (admin_id)=(1) não está presente na tabela "admins".
Location   : db/migration/V3__INSERT_LIBRARIAN_INTO_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V3__INSERT_LIBRARIAN_INTO_TABLE.sql)
Line       : 1
Statement  : INSERT INTO librarians (person_id, name, email, contact, street, city, state, country, postal_code, employee_code,
                        admin_id)
VALUES (nextval('person_id_seq'), 'Alicia Johnson', 'alicia.johnson@example.com', '1112233445', '789 Pine St',
        'Springfield', 'IL', 'USA', '62701', 'EMP001', 1),
       (nextval('person_id_seq'), 'Bo Brown', 'bo.brown@example.com', '5556677889', '101 Maple St', 'Shelbyville',
        'IL', 'USA', '62565', 'EMP002', 2)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V3__INSERT_LIBRARIAN_INTO_TABLE.sql failed
----------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "librarians" viola restrição de chave estrangeira "librarians_admin_id_fkey"
  Detail: Chave (admin_id)=(1) não está presente na tabela "admins".
Location   : db/migration/V3__INSERT_LIBRARIAN_INTO_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V3__INSERT_LIBRARIAN_INTO_TABLE.sql)
Line       : 1
Statement  : INSERT INTO librarians (person_id, name, email, contact, street, city, state, country, postal_code, employee_code,
                        admin_id)
VALUES (nextval('person_id_seq'), 'Alicia Johnson', 'alicia.johnson@example.com', '1112233445', '789 Pine St',
        'Springfield', 'IL', 'USA', '62701', 'EMP001', 1),
       (nextval('person_id_seq'), 'Bo Brown', 'bo.brown@example.com', '5556677889', '101 Maple St', 'Shelbyville',
        'IL', 'USA', '62565', 'EMP002', 2)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V3__INSERT_LIBRARIAN_INTO_TABLE.sql failed
----------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "librarians" viola restrição de chave estrangeira "librarians_admin_id_fkey"
  Detail: Chave (admin_id)=(1) não está presente na tabela "admins".
Location   : db/migration/V3__INSERT_LIBRARIAN_INTO_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V3__INSERT_LIBRARIAN_INTO_TABLE.sql)
Line       : 1
Statement  : INSERT INTO librarians (person_id, name, email, contact, street, city, state, country, postal_code, employee_code,
                        admin_id)
VALUES (nextval('person_id_seq'), 'Alicia Johnson', 'alicia.johnson@example.com', '1112233445', '789 Pine St',
        'Springfield', 'IL', 'USA', '62701', 'EMP001', 1),
       (nextval('person_id_seq'), 'Bo Brown', 'bo.brown@example.com', '5556677889', '101 Maple St', 'Shelbyville',
        'IL', 'USA', '62565', 'EMP002', 2)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "librarians" viola restrição de chave estrangeira "librarians_admin_id_fkey"
  Detail: Chave (admin_id)=(1) não está presente na tabela "admins".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 21:37:55,776 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:37:55,827 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 29760 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:37:55,828 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:37:55,829 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:37:55,880 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:37:55,880 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:37:57,111 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:37:57,112 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:37:57,132 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:37:57,140 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:37:57,141 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:37:57,149 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.
2024-08-24 21:37:57,913 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:37:57,922 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:37:57,924 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:37:57,924 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:37:57,991 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:37:57,992 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2111 ms
2024-08-24 21:37:58,128 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:37:58,479 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3e4ba178
2024-08-24 21:37:58,487 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:37:58,497 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:37:58,723 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:37:58,724 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:37:58,725 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:37:58,745 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:37:58,752 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:37:58,790 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.027s)
2024-08-24 21:37:58,802 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 2
2024-08-24 21:37:58,817 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "3 - INSERT LIBRARIAN INTO TABLE"
2024-08-24 21:37:58,854 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 21:37:58,871 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 21:37:58,875 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "members" viola restrição de chave estrangeira "members_librarian_id_fkey"
  Detail: Chave (librarian_id)=(3) não está presente na tabela "librarians".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

2024-08-24 21:37:58,876 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:37:58,977 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:37:58,980 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 21:37:59,004 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 21:37:59,031 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "members" viola restrição de chave estrangeira "members_librarian_id_fkey"
  Detail: Chave (librarian_id)=(3) não está presente na tabela "librarians".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "members" viola restrição de chave estrangeira "members_librarian_id_fkey"
  Detail: Chave (librarian_id)=(3) não está presente na tabela "librarians".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "members" viola restrição de chave estrangeira "members_librarian_id_fkey"
  Detail: Chave (librarian_id)=(3) não está presente na tabela "librarians".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "members" viola restrição de chave estrangeira "members_librarian_id_fkey"
  Detail: Chave (librarian_id)=(3) não está presente na tabela "librarians".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "members" viola restrição de chave estrangeira "members_librarian_id_fkey"
  Detail: Chave (librarian_id)=(3) não está presente na tabela "librarians".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 21:40:29,899 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:40:29,949 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 14956 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:40:29,950 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:40:29,950 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:40:29,998 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:40:29,999 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:40:31,138 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:40:31,140 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:40:31,159 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:40:31,169 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:40:31,170 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:40:31,177 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 21:40:31,937 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:40:31,946 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:40:31,948 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:40:31,949 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:40:32,037 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:40:32,038 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2038 ms
2024-08-24 21:40:32,209 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:40:32,564 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@57224655
2024-08-24 21:40:32,566 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:40:32,577 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:40:32,794 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:40:32,794 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:40:32,795 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:40:32,816 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:40:32,823 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:40:32,857 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.024s)
2024-08-24 21:40:32,868 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": << Empty Schema >>
2024-08-24 21:40:32,888 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "1 - CREATE ENTITIES TABLE"
2024-08-24 21:40:32,904 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "1 - CREATE ENTITIES TABLE" failed! Changes successfully rolled back.
2024-08-24 21:40:32,910 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V1__CREATE_ENTITIES_TABLE.sql failed
----------------------------------------------
SQL State  : 42P07
Error Code : 0
Message    : ERRO: relação "person_id_seq" já existe
Location   : db/migration/V1__CREATE_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V1__CREATE_ENTITIES_TABLE.sql)
Line       : 2
Statement  : -- Sequence for Person (Admin, Librarian, and Member)
CREATE SEQUENCE person_id_seq
    START WITH 1
    INCREMENT BY 1
    MINVALUE 1
    MAXVALUE 1000000
    CACHE 1

2024-08-24 21:40:32,911 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:40:33,047 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:40:33,050 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 21:40:33,072 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 21:40:33,100 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V1__CREATE_ENTITIES_TABLE.sql failed
----------------------------------------------
SQL State  : 42P07
Error Code : 0
Message    : ERRO: relação "person_id_seq" já existe
Location   : db/migration/V1__CREATE_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V1__CREATE_ENTITIES_TABLE.sql)
Line       : 2
Statement  : -- Sequence for Person (Admin, Librarian, and Member)
CREATE SEQUENCE person_id_seq
    START WITH 1
    INCREMENT BY 1
    MINVALUE 1
    MAXVALUE 1000000
    CACHE 1

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V1__CREATE_ENTITIES_TABLE.sql failed
----------------------------------------------
SQL State  : 42P07
Error Code : 0
Message    : ERRO: relação "person_id_seq" já existe
Location   : db/migration/V1__CREATE_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V1__CREATE_ENTITIES_TABLE.sql)
Line       : 2
Statement  : -- Sequence for Person (Admin, Librarian, and Member)
CREATE SEQUENCE person_id_seq
    START WITH 1
    INCREMENT BY 1
    MINVALUE 1
    MAXVALUE 1000000
    CACHE 1

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V1__CREATE_ENTITIES_TABLE.sql failed
----------------------------------------------
SQL State  : 42P07
Error Code : 0
Message    : ERRO: relação "person_id_seq" já existe
Location   : db/migration/V1__CREATE_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V1__CREATE_ENTITIES_TABLE.sql)
Line       : 2
Statement  : -- Sequence for Person (Admin, Librarian, and Member)
CREATE SEQUENCE person_id_seq
    START WITH 1
    INCREMENT BY 1
    MINVALUE 1
    MAXVALUE 1000000
    CACHE 1

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V1__CREATE_ENTITIES_TABLE.sql failed
----------------------------------------------
SQL State  : 42P07
Error Code : 0
Message    : ERRO: relação "person_id_seq" já existe
Location   : db/migration/V1__CREATE_ENTITIES_TABLE.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V1__CREATE_ENTITIES_TABLE.sql)
Line       : 2
Statement  : -- Sequence for Person (Admin, Librarian, and Member)
CREATE SEQUENCE person_id_seq
    START WITH 1
    INCREMENT BY 1
    MINVALUE 1
    MAXVALUE 1000000
    CACHE 1

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: relação "person_id_seq" já existe
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 21:41:33,605 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:41:33,654 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 3364 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:41:33,655 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:41:33,657 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:41:33,705 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:41:33,706 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:41:34,905 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:41:34,906 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:41:34,925 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:41:34,933 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:41:34,934 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:41:34,941 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 21:41:35,722 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:41:35,730 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:41:35,732 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:41:35,732 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:41:35,803 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:41:35,804 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2097 ms
2024-08-24 21:41:35,947 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:41:36,221 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@30d675fc
2024-08-24 21:41:36,224 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:41:36,234 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:41:36,477 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:41:36,478 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:41:36,478 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:41:36,497 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:41:36,503 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:41:36,535 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.023s)
2024-08-24 21:41:36,551 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": << Empty Schema >>
2024-08-24 21:41:36,583 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "1 - CREATE ENTITIES TABLE"
2024-08-24 21:41:36,596 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "book_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 21:41:36,597 WARN  [restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor: DB: relação "fine_id_seq" já existe, ignorando (SQL State: 42P07 - Error Code: 0)
2024-08-24 21:41:36,758 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "2 - INSERT ROLE AND STATUS INTO ENTITIES TABLE"
2024-08-24 21:41:36,779 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "3 - INSERT LIBRARIAN INTO TABLE"
2024-08-24 21:41:36,796 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 21:41:36,818 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 21:41:36,823 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_member_id_fkey"
  Detail: Chave (member_id)=(1) não está presente na tabela "members".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 29
Statement  : -- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (1, 1),
       (2, 2)

2024-08-24 21:41:36,824 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:41:36,912 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:41:36,916 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 21:41:36,938 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 21:41:36,964 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_member_id_fkey"
  Detail: Chave (member_id)=(1) não está presente na tabela "members".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 29
Statement  : -- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (1, 1),
       (2, 2)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_member_id_fkey"
  Detail: Chave (member_id)=(1) não está presente na tabela "members".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 29
Statement  : -- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (1, 1),
       (2, 2)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_member_id_fkey"
  Detail: Chave (member_id)=(1) não está presente na tabela "members".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 29
Statement  : -- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (1, 1),
       (2, 2)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_member_id_fkey"
  Detail: Chave (member_id)=(1) não está presente na tabela "members".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 29
Statement  : -- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (1, 1),
       (2, 2)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "member_books_member_id_fkey"
  Detail: Chave (member_id)=(1) não está presente na tabela "members".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 21:42:43,919 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:42:43,975 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 20652 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:42:43,977 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:42:43,978 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:42:44,025 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:42:44,026 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:42:45,213 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:42:45,215 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:42:45,242 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 21 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:42:45,252 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:42:45,253 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:42:45,261 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.
2024-08-24 21:42:46,079 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:42:46,088 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:42:46,090 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:42:46,090 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:42:46,157 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:42:46,157 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2131 ms
2024-08-24 21:42:46,301 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:42:46,565 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7cbaec01
2024-08-24 21:42:46,566 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:42:46,578 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:42:46,844 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:42:46,845 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:42:46,845 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:42:46,862 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:42:46,869 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:42:46,916 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.035s)
2024-08-24 21:42:46,934 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 21:42:46,954 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 21:42:46,981 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 21:42:46,987 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "books" viola restrição de chave estrangeira "books_status_id_fkey"
  Detail: Chave (status_id)=(1) não está presente na tabela "statuses".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 22
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, status_id, publisher_name, publisher_year, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 1, 'Publisher X', 2023, 3),
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 2, 'Publisher Y', 2022, 4)

2024-08-24 21:42:46,988 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:42:47,092 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:42:47,095 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 21:42:47,125 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 21:42:47,152 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "books" viola restrição de chave estrangeira "books_status_id_fkey"
  Detail: Chave (status_id)=(1) não está presente na tabela "statuses".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 22
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, status_id, publisher_name, publisher_year, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 1, 'Publisher X', 2023, 3),
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 2, 'Publisher Y', 2022, 4)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "books" viola restrição de chave estrangeira "books_status_id_fkey"
  Detail: Chave (status_id)=(1) não está presente na tabela "statuses".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 22
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, status_id, publisher_name, publisher_year, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 1, 'Publisher X', 2023, 3),
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 2, 'Publisher Y', 2022, 4)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "books" viola restrição de chave estrangeira "books_status_id_fkey"
  Detail: Chave (status_id)=(1) não está presente na tabela "statuses".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 22
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, status_id, publisher_name, publisher_year, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 1, 'Publisher X', 2023, 3),
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 2, 'Publisher Y', 2022, 4)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "books" viola restrição de chave estrangeira "books_status_id_fkey"
  Detail: Chave (status_id)=(1) não está presente na tabela "statuses".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 22
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, status_id, publisher_name, publisher_year, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 1, 'Publisher X', 2023, 3),
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 2, 'Publisher Y', 2022, 4)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "books" viola restrição de chave estrangeira "books_status_id_fkey"
  Detail: Chave (status_id)=(1) não está presente na tabela "statuses".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 21:43:38,805 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:43:38,867 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 28440 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:43:38,867 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:43:38,869 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:43:38,928 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:43:38,928 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:43:40,147 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:43:40,149 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:43:40,169 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 16 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:43:40,179 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:43:40,181 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:43:40,190 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.
2024-08-24 21:43:41,015 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:43:41,024 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:43:41,026 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:43:41,026 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:43:41,094 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:43:41,095 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2166 ms
2024-08-24 21:43:41,239 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:43:41,498 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7471b7b3
2024-08-24 21:43:41,499 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:43:41,510 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:43:41,742 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:43:41,743 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:43:41,744 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:43:41,761 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:43:41,768 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:43:41,803 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.026s)
2024-08-24 21:43:41,817 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 21:43:41,836 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 21:43:41,869 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Successfully applied 1 migration to schema "public", now at version v4 (execution time 00:00.017s)
2024-08-24 21:43:41,968 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 21:43:42,057 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 21:43:42,103 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 21:43:42,403 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 21:43:42,473 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 21:43:42,669 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:43:42,739 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:43:42,741 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:43:42,746 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:43:42,749 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:43:43,852 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 21:43:43,932 WARN  [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl: GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists books add column book_status varchar(255) not null check (book_status in ('AVAILABLE','BORROWED','LOANED','LOST','RESERVED'))" via JDBC [ERRO: column "book_status" of relation "books" contains null values]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists books add column book_status varchar(255) not null check (book_status in ('AVAILABLE','BORROWED','LOANED','LOST','RESERVED'))" via JDBC [ERRO: column "book_status" of relation "books" contains null values]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.postgresql.util.PSQLException: ERRO: column "book_status" of relation "books" contains null values
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 42 common frames omitted
2024-08-24 21:43:44,042 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 21:43:45,505 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 21:43:45,512 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 21:43:45,587 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 21:43:45,619 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 21:43:45,641 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 7.406 seconds (process running for 8.523)
2024-08-24 21:43:45,916 INFO  [RMI TCP Connection(3)-172.21.16.1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-08-24 21:43:45,916 INFO  [RMI TCP Connection(3)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-08-24 21:43:45,919 INFO  [RMI TCP Connection(3)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2024-08-24 21:47:13,455 INFO  [File Watcher] o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2024-08-24 21:47:13,461 INFO  [Thread-5] o.a.coyote.http11.Http11NioProtocol: Stopping ProtocolHandler ["http-nio-8081"]
2024-08-24 21:47:14,316 INFO  [Thread-5] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 21:47:14,322 INFO  [Thread-5] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:47:14,327 INFO  [Thread-5] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:47:14,448 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 28440 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:47:14,449 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:47:14,449 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:47:14,898 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:47:14,898 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:47:14,902 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:47:14,907 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:47:14,908 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:47:14,911 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 21:47:15,080 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:47:15,080 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:47:15,080 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:47:15,081 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:47:15,119 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:47:15,119 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 668 ms
2024-08-24 21:47:15,187 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Starting...
2024-08-24 21:47:15,342 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@4f6209e4
2024-08-24 21:47:15,342 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Start completed.
2024-08-24 21:47:15,342 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:47:15,407 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:47:15,410 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:47:15,423 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 4
-> Applied to database : 1869868889
-> Resolved locally    : 2066760027
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
2024-08-24 21:47:15,424 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Shutdown initiated...
2024-08-24 21:47:15,425 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Shutdown completed.
2024-08-24 21:47:15,426 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 21:47:15,438 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 21:47:15,459 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 4
-> Applied to database : 1869868889
-> Resolved locally    : 2066760027
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 4
-> Applied to database : 1869868889
-> Resolved locally    : 2066760027
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 4
-> Applied to database : 1869868889
-> Resolved locally    : 2066760027
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:146)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
2024-08-24 21:48:01,427 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 28440 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:48:01,427 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:48:01,428 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:48:01,955 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:48:01,955 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:48:01,960 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:48:01,963 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:48:01,964 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:48:01,968 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 21:48:02,150 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:48:02,150 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:48:02,151 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:48:02,151 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:48:02,189 INFO  [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:48:02,189 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 759 ms
2024-08-24 21:48:02,249 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-3 - Starting...
2024-08-24 21:48:02,385 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@321cfdd
2024-08-24 21:48:02,385 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-3 - Start completed.
2024-08-24 21:48:02,385 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:48:02,451 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:48:02,454 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:48:02,465 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 4
-> Applied to database : 1869868889
-> Resolved locally    : 1936639625
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
2024-08-24 21:48:02,465 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-3 - Shutdown initiated...
2024-08-24 21:48:02,466 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-3 - Shutdown completed.
2024-08-24 21:48:02,467 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 21:48:02,478 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 21:48:02,482 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 4
-> Applied to database : 1869868889
-> Resolved locally    : 1936639625
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 4
-> Applied to database : 1869868889
-> Resolved locally    : 1936639625
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 4
-> Applied to database : 1869868889
-> Resolved locally    : 1936639625
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:146)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
2024-08-24 21:48:38,265 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:48:38,316 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 22412 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:48:38,317 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:48:38,318 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:48:38,366 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:48:38,366 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:48:39,522 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:48:39,524 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:48:39,546 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 16 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:48:39,555 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:48:39,556 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:48:39,564 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 21:48:40,365 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:48:40,374 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:48:40,376 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:48:40,376 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:48:40,445 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:48:40,445 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2078 ms
2024-08-24 21:48:40,587 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:48:40,855 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3e4d74ba
2024-08-24 21:48:40,857 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:48:40,866 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:48:41,091 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:48:41,092 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:48:41,092 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:48:41,113 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:48:41,119 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:48:41,156 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 4
-> Applied to database : 1869868889
-> Resolved locally    : 1579031651
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
2024-08-24 21:48:41,157 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:48:41,312 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:48:41,317 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 21:48:41,339 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 21:48:41,365 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 4
-> Applied to database : 1869868889
-> Resolved locally    : 1579031651
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 4
-> Applied to database : 1869868889
-> Resolved locally    : 1579031651
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 4
-> Applied to database : 1869868889
-> Resolved locally    : 1579031651
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:146)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
2024-08-24 21:49:08,563 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:49:08,618 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 28528 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:49:08,618 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:49:08,619 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:49:08,673 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:49:08,673 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:49:09,810 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:49:09,812 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:49:09,830 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:49:09,838 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:49:09,839 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:49:09,851 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.
2024-08-24 21:49:10,606 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:49:10,618 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:49:10,621 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:49:10,621 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:49:10,703 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:49:10,703 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2029 ms
2024-08-24 21:49:10,882 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:49:11,152 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@78997d95
2024-08-24 21:49:11,154 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:49:11,164 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:49:11,407 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:49:11,408 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:49:11,408 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:49:11,434 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:49:11,441 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:49:11,487 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.033s)
2024-08-24 21:49:11,504 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 21:49:11,526 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 21:49:11,548 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 21:49:11,553 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "members_email_key"
  Detail: Chave (email)=(charlie.davis@example.com) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

2024-08-24 21:49:11,554 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:49:11,662 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:49:11,665 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 21:49:11,691 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 21:49:11,725 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "members_email_key"
  Detail: Chave (email)=(charlie.davis@example.com) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "members_email_key"
  Detail: Chave (email)=(charlie.davis@example.com) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "members_email_key"
  Detail: Chave (email)=(charlie.davis@example.com) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "members_email_key"
  Detail: Chave (email)=(charlie.davis@example.com) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: duplicar valor da chave viola a restrição de unicidade "members_email_key"
  Detail: Chave (email)=(charlie.davis@example.com) já existe.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 21:53:23,463 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:53:23,516 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 23428 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:53:23,516 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:53:23,517 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:53:23,564 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:53:23,564 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:53:24,675 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:53:24,676 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:53:24,695 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:53:24,702 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:53:24,703 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:53:24,711 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 21:53:25,499 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:53:25,507 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:53:25,509 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:53:25,510 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:53:25,576 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:53:25,577 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2012 ms
2024-08-24 21:53:25,716 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:53:25,973 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7d25b0f2
2024-08-24 21:53:25,975 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:53:25,986 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:53:26,190 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:53:26,191 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:53:26,191 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:53:26,212 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:53:26,220 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:53:26,259 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.029s)
2024-08-24 21:53:26,268 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 21:53:26,282 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 21:53:26,301 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 21:53:26,306 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "members_contact_key"
  Detail: Chave (contact)=(2233445566) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

2024-08-24 21:53:26,307 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:53:26,443 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:53:26,448 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 21:53:26,471 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 21:53:26,500 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "members_contact_key"
  Detail: Chave (contact)=(2233445566) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "members_contact_key"
  Detail: Chave (contact)=(2233445566) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "members_contact_key"
  Detail: Chave (contact)=(2233445566) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "members_contact_key"
  Detail: Chave (contact)=(2233445566) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: duplicar valor da chave viola a restrição de unicidade "members_contact_key"
  Detail: Chave (contact)=(2233445566) já existe.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 21:53:51,145 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:53:51,201 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 23036 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:53:51,202 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:53:51,203 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:53:51,259 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:53:51,259 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:53:52,374 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:53:52,376 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:53:52,393 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 13 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:53:52,402 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:53:52,403 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:53:52,410 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 21:53:53,169 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:53:53,178 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:53:53,180 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:53:53,180 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:53:53,249 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:53:53,250 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1990 ms
2024-08-24 21:53:53,380 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:53:53,643 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4bbbcaa4
2024-08-24 21:53:53,645 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:53:53,654 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:53:53,864 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:53:53,864 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:53:53,864 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:53:53,882 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:53:53,888 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:53:53,925 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.026s)
2024-08-24 21:53:53,940 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 21:53:53,956 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 21:53:53,977 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 21:53:53,981 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "statuses_book_status_key"
  Detail: Chave (book_status)=(Available) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

2024-08-24 21:53:53,982 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:53:54,081 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:53:54,084 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 21:53:54,106 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 21:53:54,132 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "statuses_book_status_key"
  Detail: Chave (book_status)=(Available) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "statuses_book_status_key"
  Detail: Chave (book_status)=(Available) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "statuses_book_status_key"
  Detail: Chave (book_status)=(Available) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "statuses_book_status_key"
  Detail: Chave (book_status)=(Available) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: duplicar valor da chave viola a restrição de unicidade "statuses_book_status_key"
  Detail: Chave (book_status)=(Available) já existe.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 21:54:24,055 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:54:24,105 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 18808 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:54:24,106 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:54:24,107 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:54:24,154 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:54:24,155 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:54:25,277 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:54:25,279 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:54:25,297 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:54:25,304 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:54:25,306 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:54:25,312 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 21:54:26,061 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:54:26,069 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:54:26,071 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:54:26,071 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:54:26,154 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:54:26,155 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1998 ms
2024-08-24 21:54:26,297 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:54:26,556 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1ae14214
2024-08-24 21:54:26,559 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:54:26,569 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:54:26,792 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:54:26,792 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:54:26,793 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:54:26,812 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:54:26,818 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:54:26,852 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.025s)
2024-08-24 21:54:26,864 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 21:54:26,885 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 21:54:26,908 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 21:54:26,913 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P01
Error Code : 0
Message    : ERRO: relação "statuses" não existe
  Position: 56
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

2024-08-24 21:54:26,913 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:54:27,017 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:54:27,020 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 21:54:27,040 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 21:54:27,066 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P01
Error Code : 0
Message    : ERRO: relação "statuses" não existe
  Position: 56
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P01
Error Code : 0
Message    : ERRO: relação "statuses" não existe
  Position: 56
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P01
Error Code : 0
Message    : ERRO: relação "statuses" não existe
  Position: 56
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P01
Error Code : 0
Message    : ERRO: relação "statuses" não existe
  Position: 56
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: relação "statuses" não existe
  Position: 56
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 21:54:44,992 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:54:45,044 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 28072 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:54:45,045 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:54:45,047 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:54:45,098 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:54:45,099 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:54:46,364 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:54:46,365 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:54:46,385 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:54:46,393 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:54:46,394 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:54:46,400 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 21:54:47,245 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:54:47,254 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:54:47,256 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:54:47,256 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:54:47,336 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:54:47,336 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2237 ms
2024-08-24 21:54:47,484 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:54:47,828 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4fc7e205
2024-08-24 21:54:47,830 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:54:47,839 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:54:48,075 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:54:48,076 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:54:48,076 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:54:48,096 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:54:48,103 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:54:48,140 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.027s)
2024-08-24 21:54:48,155 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 21:54:48,176 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 21:54:48,200 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 21:54:48,205 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P01
Error Code : 0
Message    : ERRO: relação "statuses" não existe
  Position: 56
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

2024-08-24 21:54:48,205 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:54:48,313 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:54:48,317 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 21:54:48,341 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 21:54:48,370 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P01
Error Code : 0
Message    : ERRO: relação "statuses" não existe
  Position: 56
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P01
Error Code : 0
Message    : ERRO: relação "statuses" não existe
  Position: 56
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P01
Error Code : 0
Message    : ERRO: relação "statuses" não existe
  Position: 56
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P01
Error Code : 0
Message    : ERRO: relação "statuses" não existe
  Position: 56
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: relação "statuses" não existe
  Position: 56
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 21:55:52,206 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:55:52,256 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 17460 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:55:52,257 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:55:52,258 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:55:52,308 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:55:52,308 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:55:53,459 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:55:53,461 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:55:53,480 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:55:53,488 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:55:53,489 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:55:53,496 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 21:55:54,250 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:55:54,259 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:55:54,261 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:55:54,261 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:55:54,338 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:55:54,338 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2029 ms
2024-08-24 21:55:54,484 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:55:54,854 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@27b81d50
2024-08-24 21:55:54,855 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:55:54,867 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:55:55,138 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:55:55,138 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:55:55,139 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:55:55,154 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:55:55,161 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:55:55,215 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.042s)
2024-08-24 21:55:55,230 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 21:55:55,248 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 21:55:55,271 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 21:55:55,275 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "books_isbn_key"
  Detail: Chave (isbn)=(ISBN0001) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 22
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), -- status_id 1 for AVAILABLE
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

2024-08-24 21:55:55,275 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:55:55,337 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:55:55,347 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 21:55:55,399 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 21:55:55,429 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "books_isbn_key"
  Detail: Chave (isbn)=(ISBN0001) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 22
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), -- status_id 1 for AVAILABLE
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "books_isbn_key"
  Detail: Chave (isbn)=(ISBN0001) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 22
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), -- status_id 1 for AVAILABLE
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "books_isbn_key"
  Detail: Chave (isbn)=(ISBN0001) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 22
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), -- status_id 1 for AVAILABLE
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "books_isbn_key"
  Detail: Chave (isbn)=(ISBN0001) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 22
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), -- status_id 1 for AVAILABLE
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: duplicar valor da chave viola a restrição de unicidade "books_isbn_key"
  Detail: Chave (isbn)=(ISBN0001) já existe.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 21:56:21,328 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:56:21,379 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 23592 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:56:21,380 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:56:21,381 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:56:21,425 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:56:21,426 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:56:22,568 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:56:22,570 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:56:22,589 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:56:22,598 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:56:22,599 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:56:22,607 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 21:56:23,373 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:56:23,384 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:56:23,384 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:56:23,386 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:56:23,453 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:56:23,454 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2028 ms
2024-08-24 21:56:23,595 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:56:23,856 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@fda9e68
2024-08-24 21:56:23,858 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:56:23,868 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:56:24,087 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:56:24,088 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:56:24,088 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:56:24,110 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:56:24,115 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:56:24,151 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.026s)
2024-08-24 21:56:24,164 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 21:56:24,184 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 21:56:24,209 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 21:56:24,212 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkhoe33doomjly5ik20uc0l4mw5"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 31
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

2024-08-24 21:56:24,213 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:56:24,400 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:56:24,402 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 21:56:24,422 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 21:56:24,443 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkhoe33doomjly5ik20uc0l4mw5"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 31
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkhoe33doomjly5ik20uc0l4mw5"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 31
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkhoe33doomjly5ik20uc0l4mw5"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 31
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkhoe33doomjly5ik20uc0l4mw5"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 31
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: inserção ou atualização em tabela "member_books" viola restrição de chave estrangeira "fkhoe33doomjly5ik20uc0l4mw5"
  Detail: Chave (book_id)=(1) não está presente na tabela "books".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 21:57:38,398 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:57:38,452 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 24448 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:57:38,452 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:57:38,453 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:57:38,501 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:57:38,501 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:57:39,633 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:57:39,635 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:57:39,655 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:57:39,664 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:57:39,665 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:57:39,672 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 21:57:40,430 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:57:40,440 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:57:40,441 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:57:40,442 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:57:40,509 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:57:40,510 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2007 ms
2024-08-24 21:57:40,644 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:57:40,908 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@46b03271
2024-08-24 21:57:40,910 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:57:40,920 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:57:41,139 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:57:41,140 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:57:41,140 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:57:41,161 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:57:41,168 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:57:41,208 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.028s)
2024-08-24 21:57:41,224 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 21:57:41,240 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 21:57:41,271 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Successfully applied 1 migration to schema "public", now at version v4 (execution time 00:00.023s)
2024-08-24 21:57:41,363 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 21:57:41,465 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 21:57:41,504 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 21:57:41,795 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 21:57:41,860 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 21:57:42,039 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:57:42,105 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:57:42,108 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:57:42,113 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:57:42,120 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:57:43,095 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 21:57:43,141 WARN  [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl: GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists books add column book_status varchar(255) not null check (book_status in ('AVAILABLE','BORROWED','LOANED','LOST','RESERVED'))" via JDBC [ERRO: column "book_status" of relation "books" contains null values]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists books add column book_status varchar(255) not null check (book_status in ('AVAILABLE','BORROWED','LOANED','LOST','RESERVED'))" via JDBC [ERRO: column "book_status" of relation "books" contains null values]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.postgresql.util.PSQLException: ERRO: column "book_status" of relation "books" contains null values
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 42 common frames omitted
2024-08-24 21:57:43,238 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 21:57:44,885 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 21:57:44,896 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 21:57:44,992 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 21:57:45,021 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 21:57:45,044 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 7.212 seconds (process running for 8.378)
2024-08-24 21:57:45,478 INFO  [RMI TCP Connection(3)-172.21.16.1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-08-24 21:57:45,479 INFO  [RMI TCP Connection(3)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-08-24 21:57:45,482 INFO  [RMI TCP Connection(3)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2024-08-24 21:58:38,197 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 21:58:38,201 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:58:38,205 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:58:44,970 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:58:45,027 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 26348 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:58:45,028 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:58:45,029 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:58:45,081 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:58:45,081 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:58:46,239 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:58:46,240 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:58:46,258 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:58:46,269 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:58:46,270 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:58:46,277 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.
2024-08-24 21:58:47,050 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:58:47,060 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:58:47,061 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:58:47,061 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:58:47,145 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:58:47,145 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2064 ms
2024-08-24 21:58:47,296 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:58:47,560 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@78e4d1fc
2024-08-24 21:58:47,562 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:58:47,573 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:58:47,808 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:58:47,808 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:58:47,808 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:58:47,826 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:58:47,831 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:58:47,867 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.025s)
2024-08-24 21:58:47,880 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 4
2024-08-24 21:58:47,883 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Schema "public" is up to date. No migration necessary.
2024-08-24 21:58:47,998 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 21:58:48,079 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 21:58:48,149 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 21:58:48,495 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 21:58:48,583 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 21:58:48,774 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:58:48,838 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:58:48,840 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:58:48,844 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:58:48,848 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:58:49,860 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 21:58:50,018 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 21:58:51,565 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 21:58:51,576 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 21:58:51,657 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 21:58:51,681 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 21:58:51,700 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 7.193 seconds (process running for 8.33)
2024-08-24 21:58:52,301 INFO  [RMI TCP Connection(2)-172.21.16.1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-08-24 21:58:52,302 INFO  [RMI TCP Connection(2)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-08-24 21:58:52,305 INFO  [RMI TCP Connection(2)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Completed initialization in 3 ms
2024-08-24 21:59:44,461 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 21:59:44,465 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 21:59:44,471 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 21:59:47,847 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 21:59:47,902 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 23848 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 21:59:47,903 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 21:59:47,904 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 21:59:47,961 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 21:59:47,962 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 21:59:49,148 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:59:49,149 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 21:59:49,169 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 0 JDBC repository interfaces.
2024-08-24 21:59:49,176 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 21:59:49,178 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 21:59:49,185 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 21:59:49,947 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 21:59:49,956 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 21:59:49,958 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 21:59:49,958 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 21:59:50,036 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 21:59:50,037 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2074 ms
2024-08-24 21:59:50,174 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 21:59:50,439 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3ed71cf7
2024-08-24 21:59:50,441 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 21:59:50,451 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 21:59:50,666 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 21:59:50,667 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 21:59:50,667 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 21:59:50,688 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 21:59:50,695 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 21:59:50,737 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.031s)
2024-08-24 21:59:50,754 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 4
2024-08-24 21:59:50,757 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Schema "public" is up to date. No migration necessary.
2024-08-24 21:59:50,869 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 21:59:50,956 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 21:59:51,005 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 21:59:51,285 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 21:59:51,357 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 21:59:51,546 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:59:51,602 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:59:51,604 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:59:51,608 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:59:51,612 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 21:59:52,686 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 21:59:52,851 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 21:59:54,566 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 21:59:54,575 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 21:59:54,654 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 21:59:54,681 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 21:59:54,703 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 7.338 seconds (process running for 8.455)
2024-08-24 21:59:55,014 INFO  [RMI TCP Connection(2)-172.21.16.1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-08-24 21:59:55,015 INFO  [RMI TCP Connection(2)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-08-24 21:59:55,017 INFO  [RMI TCP Connection(2)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2024-08-24 22:01:19,160 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 22:01:19,165 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 22:01:19,168 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 22:01:23,091 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 22:01:23,149 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 16984 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 22:01:23,149 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 22:01:23,150 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 22:01:23,196 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 22:01:23,197 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 22:01:24,320 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:01:24,321 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 22:01:24,339 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 22:01:24,348 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:01:24,349 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 22:01:24,356 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 22:01:25,121 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 22:01:25,130 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 22:01:25,131 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 22:01:25,132 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 22:01:25,200 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 22:01:25,201 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2003 ms
2024-08-24 22:01:25,337 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 22:01:25,597 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7c181b7
2024-08-24 22:01:25,599 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 22:01:25,609 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 22:01:25,840 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 22:01:25,841 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 22:01:25,842 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 22:01:25,858 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 22:01:25,864 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 22:01:25,904 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 4
-> Applied to database : 1579031651
-> Resolved locally    : 1839539789
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
2024-08-24 22:01:25,904 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 22:01:26,065 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 22:01:26,068 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 22:01:26,091 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 22:01:26,117 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 4
-> Applied to database : 1579031651
-> Resolved locally    : 1839539789
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 4
-> Applied to database : 1579031651
-> Resolved locally    : 1839539789
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 4
-> Applied to database : 1579031651
-> Resolved locally    : 1839539789
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:146)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
2024-08-24 22:01:36,674 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 22:01:36,729 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 21128 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 22:01:36,729 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 22:01:36,730 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 22:01:36,784 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 22:01:36,784 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 22:01:38,110 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:01:38,111 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 22:01:38,130 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 0 JDBC repository interfaces.
2024-08-24 22:01:38,144 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:01:38,145 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 22:01:38,153 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.
2024-08-24 22:01:38,944 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 22:01:38,953 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 22:01:38,955 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 22:01:38,955 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 22:01:39,027 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 22:01:39,027 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2242 ms
2024-08-24 22:01:39,174 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 22:01:39,540 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@29f581f7
2024-08-24 22:01:39,542 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 22:01:39,554 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 22:01:39,825 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 22:01:39,825 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 22:01:39,826 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 22:01:39,844 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 22:01:39,856 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 22:01:39,902 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.034s)
2024-08-24 22:01:39,919 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 22:01:39,937 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 22:01:39,957 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 22:01:39,962 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "members_email_key"
  Detail: Chave (email)=(charlie.davis@example.com) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

2024-08-24 22:01:39,963 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 22:01:40,062 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 22:01:40,066 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 22:01:40,093 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 22:01:40,126 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "members_email_key"
  Detail: Chave (email)=(charlie.davis@example.com) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "members_email_key"
  Detail: Chave (email)=(charlie.davis@example.com) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "members_email_key"
  Detail: Chave (email)=(charlie.davis@example.com) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "members_email_key"
  Detail: Chave (email)=(charlie.davis@example.com) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: duplicar valor da chave viola a restrição de unicidade "members_email_key"
  Detail: Chave (email)=(charlie.davis@example.com) já existe.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 22:03:01,870 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 22:03:01,916 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 19328 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 22:03:01,917 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 22:03:01,918 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 22:03:01,965 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 22:03:01,966 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 22:03:03,074 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:03:03,075 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 22:03:03,093 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 22:03:03,101 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:03:03,102 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 22:03:03,109 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 22:03:03,880 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 22:03:03,889 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 22:03:03,891 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 22:03:03,891 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 22:03:03,962 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 22:03:03,963 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1996 ms
2024-08-24 22:03:04,102 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 22:03:04,380 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7be1002
2024-08-24 22:03:04,382 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 22:03:04,391 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 22:03:04,606 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 22:03:04,607 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 22:03:04,607 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 22:03:04,629 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 22:03:04,635 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 22:03:04,673 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.027s)
2024-08-24 22:03:04,686 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 22:03:04,706 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 22:03:04,731 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 22:03:04,735 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "statuses_book_status_key"
  Detail: Chave (book_status)=(Available) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

2024-08-24 22:03:04,736 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 22:03:04,839 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 22:03:04,843 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 22:03:04,866 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 22:03:04,899 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "statuses_book_status_key"
  Detail: Chave (book_status)=(Available) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "statuses_book_status_key"
  Detail: Chave (book_status)=(Available) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "statuses_book_status_key"
  Detail: Chave (book_status)=(Available) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "statuses_book_status_key"
  Detail: Chave (book_status)=(Available) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: duplicar valor da chave viola a restrição de unicidade "statuses_book_status_key"
  Detail: Chave (book_status)=(Available) já existe.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 22:05:31,182 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 22:05:31,244 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 23060 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 22:05:31,245 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 22:05:31,247 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 22:05:31,308 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 22:05:31,309 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 22:05:32,679 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:05:32,681 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 22:05:32,699 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 0 JDBC repository interfaces.
2024-08-24 22:05:32,709 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:05:32,711 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 22:05:32,718 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.
2024-08-24 22:05:33,532 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 22:05:33,541 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 22:05:33,544 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 22:05:33,544 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 22:05:33,636 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 22:05:33,637 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2327 ms
2024-08-24 22:05:33,787 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 22:05:34,237 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3d34b643
2024-08-24 22:05:34,241 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 22:05:34,261 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 22:05:34,705 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 22:05:34,706 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 22:05:34,706 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 22:05:34,744 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 22:05:34,756 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 22:05:34,823 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.048s)
2024-08-24 22:05:34,841 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 22:05:34,867 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 22:05:34,887 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 22:05:34,892 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P10
Error Code : 0
Message    : ERRO: there is no unique or exclusion constraint matching the ON CONFLICT specification
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)
ON CONFLICT (email ,contact) DO NOTHING

2024-08-24 22:05:34,893 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 22:05:34,963 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 22:05:34,968 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 22:05:35,009 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 22:05:35,057 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P10
Error Code : 0
Message    : ERRO: there is no unique or exclusion constraint matching the ON CONFLICT specification
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)
ON CONFLICT (email ,contact) DO NOTHING

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P10
Error Code : 0
Message    : ERRO: there is no unique or exclusion constraint matching the ON CONFLICT specification
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)
ON CONFLICT (email ,contact) DO NOTHING

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P10
Error Code : 0
Message    : ERRO: there is no unique or exclusion constraint matching the ON CONFLICT specification
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)
ON CONFLICT (email ,contact) DO NOTHING

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P10
Error Code : 0
Message    : ERRO: there is no unique or exclusion constraint matching the ON CONFLICT specification
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)
ON CONFLICT (email ,contact) DO NOTHING

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: there is no unique or exclusion constraint matching the ON CONFLICT specification
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 22:06:38,070 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 22:06:38,128 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 21244 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 22:06:38,129 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 22:06:38,130 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 22:06:38,190 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 22:06:38,191 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 22:06:39,839 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:06:39,842 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 22:06:39,870 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 20 ms. Found 0 JDBC repository interfaces.
2024-08-24 22:06:39,883 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:06:39,885 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 22:06:39,895 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 5 ms. Found 0 JPA repository interfaces.
2024-08-24 22:06:40,939 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 22:06:40,951 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 22:06:40,953 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 22:06:40,954 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 22:06:41,047 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 22:06:41,048 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2856 ms
2024-08-24 22:06:41,260 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 22:06:41,581 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6f735208
2024-08-24 22:06:41,584 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 22:06:41,596 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 22:06:41,906 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 22:06:41,907 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 22:06:41,907 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 22:06:41,929 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 22:06:41,938 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 22:06:41,997 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.042s)
2024-08-24 22:06:42,013 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 22:06:42,038 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 22:06:42,056 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 22:06:42,062 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P10
Error Code : 0
Message    : ERRO: there is no unique or exclusion constraint matching the ON CONFLICT specification
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)
ON CONFLICT (email ,contact) DO NOTHING

2024-08-24 22:06:42,063 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 22:06:42,148 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 22:06:42,152 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 22:06:42,186 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 22:06:42,224 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P10
Error Code : 0
Message    : ERRO: there is no unique or exclusion constraint matching the ON CONFLICT specification
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)
ON CONFLICT (email ,contact) DO NOTHING

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P10
Error Code : 0
Message    : ERRO: there is no unique or exclusion constraint matching the ON CONFLICT specification
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)
ON CONFLICT (email ,contact) DO NOTHING

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P10
Error Code : 0
Message    : ERRO: there is no unique or exclusion constraint matching the ON CONFLICT specification
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)
ON CONFLICT (email ,contact) DO NOTHING

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P10
Error Code : 0
Message    : ERRO: there is no unique or exclusion constraint matching the ON CONFLICT specification
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)
ON CONFLICT (email ,contact) DO NOTHING

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: there is no unique or exclusion constraint matching the ON CONFLICT specification
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 22:07:14,040 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 22:07:14,093 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 18804 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 22:07:14,096 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 22:07:14,098 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 22:07:14,155 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 22:07:14,155 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 22:07:15,511 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:07:15,512 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 22:07:15,533 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 16 ms. Found 0 JDBC repository interfaces.
2024-08-24 22:07:15,543 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:07:15,544 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 22:07:15,552 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 22:07:16,387 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 22:07:16,396 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 22:07:16,398 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 22:07:16,399 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 22:07:16,482 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 22:07:16,484 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2327 ms
2024-08-24 22:07:16,642 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 22:07:16,918 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3853329a
2024-08-24 22:07:16,920 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 22:07:16,931 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 22:07:17,232 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 22:07:17,233 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 22:07:17,233 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 22:07:17,251 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 22:07:17,258 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 22:07:17,310 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.041s)
2024-08-24 22:07:17,327 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 22:07:17,346 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 22:07:17,361 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 22:07:17,366 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P10
Error Code : 0
Message    : ERRO: there is no unique or exclusion constraint matching the ON CONFLICT specification
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)
ON CONFLICT (email ,contact) DO NOTHING

2024-08-24 22:07:17,367 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 22:07:17,464 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 22:07:17,467 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 22:07:17,497 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 22:07:17,537 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P10
Error Code : 0
Message    : ERRO: there is no unique or exclusion constraint matching the ON CONFLICT specification
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)
ON CONFLICT (email ,contact) DO NOTHING

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P10
Error Code : 0
Message    : ERRO: there is no unique or exclusion constraint matching the ON CONFLICT specification
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)
ON CONFLICT (email ,contact) DO NOTHING

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P10
Error Code : 0
Message    : ERRO: there is no unique or exclusion constraint matching the ON CONFLICT specification
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)
ON CONFLICT (email ,contact) DO NOTHING

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P10
Error Code : 0
Message    : ERRO: there is no unique or exclusion constraint matching the ON CONFLICT specification
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)
ON CONFLICT (email ,contact) DO NOTHING

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: there is no unique or exclusion constraint matching the ON CONFLICT specification
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 22:08:55,646 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 22:08:55,699 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 29412 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 22:08:55,699 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 22:08:55,700 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 22:08:55,752 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 22:08:55,752 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 22:08:56,878 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:08:56,879 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 22:08:56,898 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 0 JDBC repository interfaces.
2024-08-24 22:08:56,906 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:08:56,908 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 22:08:56,915 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 22:08:57,677 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 22:08:57,686 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 22:08:57,688 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 22:08:57,688 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 22:08:57,757 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 22:08:57,758 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2005 ms
2024-08-24 22:08:57,891 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 22:08:58,181 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4796a05d
2024-08-24 22:08:58,183 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 22:08:58,193 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 22:08:58,466 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 22:08:58,466 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 22:08:58,466 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 22:08:58,482 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 22:08:58,487 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 22:08:58,535 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.038s)
2024-08-24 22:08:58,551 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 22:08:58,572 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 22:08:58,601 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 22:08:58,606 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "books_isbn_key"
  Detail: Chave (isbn)=(ISBN0001) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 23
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), -- status_id 1 for AVAILABLE
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

2024-08-24 22:08:58,607 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 22:08:58,699 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 22:08:58,702 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 22:08:58,727 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 22:08:58,759 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "books_isbn_key"
  Detail: Chave (isbn)=(ISBN0001) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 23
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), -- status_id 1 for AVAILABLE
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "books_isbn_key"
  Detail: Chave (isbn)=(ISBN0001) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 23
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), -- status_id 1 for AVAILABLE
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "books_isbn_key"
  Detail: Chave (isbn)=(ISBN0001) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 23
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), -- status_id 1 for AVAILABLE
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "books_isbn_key"
  Detail: Chave (isbn)=(ISBN0001) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 23
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), -- status_id 1 for AVAILABLE
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: duplicar valor da chave viola a restrição de unicidade "books_isbn_key"
  Detail: Chave (isbn)=(ISBN0001) já existe.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 22:09:45,400 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 22:09:45,461 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 14352 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 22:09:45,461 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 22:09:45,462 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 22:09:45,515 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 22:09:45,515 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 22:09:46,685 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:09:46,686 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 22:09:46,705 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 22:09:46,714 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:09:46,715 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 22:09:46,721 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 22:09:47,543 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 22:09:47,552 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 22:09:47,553 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 22:09:47,554 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 22:09:47,628 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 22:09:47,629 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2112 ms
2024-08-24 22:09:47,770 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 22:09:48,033 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@78974c4c
2024-08-24 22:09:48,035 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 22:09:48,046 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 22:09:48,267 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 22:09:48,268 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 22:09:48,268 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 22:09:48,289 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 22:09:48,295 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 22:09:48,337 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.029s)
2024-08-24 22:09:48,352 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 22:09:48,371 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 22:09:48,394 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 22:09:48,400 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "books_pkey"
  Detail: Chave (book_id)=(2) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 23
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), -- status_id 1 for AVAILABLE
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

2024-08-24 22:09:48,401 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 22:09:48,510 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 22:09:48,515 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 22:09:48,540 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 22:09:48,566 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "books_pkey"
  Detail: Chave (book_id)=(2) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 23
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), -- status_id 1 for AVAILABLE
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "books_pkey"
  Detail: Chave (book_id)=(2) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 23
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), -- status_id 1 for AVAILABLE
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "books_pkey"
  Detail: Chave (book_id)=(2) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 23
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), -- status_id 1 for AVAILABLE
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "books_pkey"
  Detail: Chave (book_id)=(2) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 23
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), -- status_id 1 for AVAILABLE
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: duplicar valor da chave viola a restrição de unicidade "books_pkey"
  Detail: Chave (book_id)=(2) já existe.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 22:10:12,797 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 22:10:12,850 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 21276 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 22:10:12,851 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 22:10:12,852 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 22:10:12,900 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 22:10:12,901 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 22:10:14,074 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:10:14,076 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 22:10:14,094 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 22:10:14,101 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:10:14,103 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 22:10:14,110 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 22:10:14,897 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 22:10:14,906 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 22:10:14,908 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 22:10:14,908 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 22:10:14,981 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 22:10:14,981 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2080 ms
2024-08-24 22:10:15,124 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 22:10:15,393 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6d46a8bf
2024-08-24 22:10:15,394 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 22:10:15,406 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 22:10:15,635 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 22:10:15,635 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 22:10:15,635 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 22:10:15,653 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 22:10:15,660 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 22:10:15,698 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.027s)
2024-08-24 22:10:15,710 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 22:10:15,731 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 22:10:15,760 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 22:10:15,764 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "books_pkey"
  Detail: Chave (book_id)=(1) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 23
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), -- status_id 1 for AVAILABLE
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

2024-08-24 22:10:15,765 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 22:10:15,884 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 22:10:15,887 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 22:10:15,909 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 22:10:15,935 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "books_pkey"
  Detail: Chave (book_id)=(1) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 23
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), -- status_id 1 for AVAILABLE
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "books_pkey"
  Detail: Chave (book_id)=(1) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 23
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), -- status_id 1 for AVAILABLE
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "books_pkey"
  Detail: Chave (book_id)=(1) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 23
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), -- status_id 1 for AVAILABLE
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "books_pkey"
  Detail: Chave (book_id)=(1) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 23
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), -- status_id 1 for AVAILABLE
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: duplicar valor da chave viola a restrição de unicidade "books_pkey"
  Detail: Chave (book_id)=(1) já existe.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 22:10:43,984 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 22:10:44,042 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 4740 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 22:10:44,043 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 22:10:44,044 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 22:10:44,091 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 22:10:44,092 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 22:10:45,235 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:10:45,237 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 22:10:45,256 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 0 JDBC repository interfaces.
2024-08-24 22:10:45,265 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:10:45,266 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 22:10:45,273 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.
2024-08-24 22:10:46,055 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 22:10:46,064 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 22:10:46,066 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 22:10:46,066 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 22:10:46,135 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 22:10:46,136 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2044 ms
2024-08-24 22:10:46,275 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 22:10:46,541 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@591cdea0
2024-08-24 22:10:46,554 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 22:10:46,565 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 22:10:46,790 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 22:10:46,791 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 22:10:46,791 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 22:10:46,809 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 22:10:46,814 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 22:10:46,848 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.024s)
2024-08-24 22:10:46,859 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 22:10:46,883 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 22:10:46,909 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 22:10:46,913 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "books_pkey"
  Detail: Chave (book_id)=(2) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 23
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), -- status_id 1 for AVAILABLE
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

2024-08-24 22:10:46,914 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 22:10:47,037 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 22:10:47,041 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 22:10:47,064 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 22:10:47,094 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "books_pkey"
  Detail: Chave (book_id)=(2) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 23
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), -- status_id 1 for AVAILABLE
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "books_pkey"
  Detail: Chave (book_id)=(2) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 23
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), -- status_id 1 for AVAILABLE
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "books_pkey"
  Detail: Chave (book_id)=(2) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 23
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), -- status_id 1 for AVAILABLE
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "books_pkey"
  Detail: Chave (book_id)=(2) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 23
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), -- status_id 1 for AVAILABLE
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: duplicar valor da chave viola a restrição de unicidade "books_pkey"
  Detail: Chave (book_id)=(2) já existe.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 22:11:31,361 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 22:11:31,410 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 8708 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 22:11:31,410 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 22:11:31,411 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 22:11:31,459 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 22:11:31,459 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 22:11:32,609 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:11:32,610 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 22:11:32,629 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 22:11:32,639 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:11:32,640 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 22:11:32,646 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 22:11:33,401 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 22:11:33,409 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 22:11:33,411 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 22:11:33,411 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 22:11:33,488 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 22:11:33,489 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2028 ms
2024-08-24 22:11:33,624 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 22:11:33,890 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@785b591d
2024-08-24 22:11:33,892 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 22:11:33,901 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 22:11:34,147 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 22:11:34,147 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 22:11:34,147 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 22:11:34,161 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 22:11:34,167 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 22:11:34,204 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.027s)
2024-08-24 22:11:34,216 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 22:11:34,237 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 22:11:34,265 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 22:11:34,270 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "member_books_pkey"
  Detail: Chave (member_id, book_id)=(9, 1) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 32
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

2024-08-24 22:11:34,271 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 22:11:34,364 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 22:11:34,367 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 22:11:34,391 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 22:11:34,420 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "member_books_pkey"
  Detail: Chave (member_id, book_id)=(9, 1) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 32
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "member_books_pkey"
  Detail: Chave (member_id, book_id)=(9, 1) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 32
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "member_books_pkey"
  Detail: Chave (member_id, book_id)=(9, 1) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 32
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "member_books_pkey"
  Detail: Chave (member_id, book_id)=(9, 1) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 32
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: duplicar valor da chave viola a restrição de unicidade "member_books_pkey"
  Detail: Chave (member_id, book_id)=(9, 1) já existe.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 22:12:27,590 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 22:12:27,642 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 5296 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 22:12:27,643 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 22:12:27,644 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 22:12:27,689 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 22:12:27,689 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 22:12:28,812 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:12:28,814 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 22:12:28,832 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 13 ms. Found 0 JDBC repository interfaces.
2024-08-24 22:12:28,840 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:12:28,841 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 22:12:28,847 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 22:12:29,607 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 22:12:29,616 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 22:12:29,617 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 22:12:29,618 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 22:12:29,689 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 22:12:29,690 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2000 ms
2024-08-24 22:12:29,834 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 22:12:30,092 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@11be210c
2024-08-24 22:12:30,095 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 22:12:30,104 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 22:12:30,332 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 22:12:30,332 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 22:12:30,333 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 22:12:30,352 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 22:12:30,357 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 22:12:30,394 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.026s)
2024-08-24 22:12:30,409 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 22:12:30,429 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 22:12:30,460 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 22:12:30,464 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "member_books_pkey"
  Detail: Chave (member_id, book_id)=(9, 1) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 32
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

2024-08-24 22:12:30,464 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 22:12:30,554 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 22:12:30,556 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 22:12:30,587 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 22:12:30,612 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "member_books_pkey"
  Detail: Chave (member_id, book_id)=(9, 1) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 32
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "member_books_pkey"
  Detail: Chave (member_id, book_id)=(9, 1) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 32
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "member_books_pkey"
  Detail: Chave (member_id, book_id)=(9, 1) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 32
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "member_books_pkey"
  Detail: Chave (member_id, book_id)=(9, 1) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 32
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: duplicar valor da chave viola a restrição de unicidade "member_books_pkey"
  Detail: Chave (member_id, book_id)=(9, 1) já existe.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 22:13:21,539 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 22:13:21,594 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 18832 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 22:13:21,595 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 22:13:21,596 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 22:13:21,643 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 22:13:21,643 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 22:13:22,921 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:13:22,923 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 22:13:22,940 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 13 ms. Found 0 JDBC repository interfaces.
2024-08-24 22:13:22,948 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:13:22,950 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 22:13:22,956 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 22:13:23,721 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 22:13:23,730 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 22:13:23,732 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 22:13:23,732 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 22:13:23,805 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 22:13:23,806 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2163 ms
2024-08-24 22:13:23,950 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 22:13:24,215 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@60905266
2024-08-24 22:13:24,217 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 22:13:24,228 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 22:13:24,443 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 22:13:24,443 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 22:13:24,443 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 22:13:24,465 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 22:13:24,471 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 22:13:24,508 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.027s)
2024-08-24 22:13:24,523 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 22:13:24,543 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 22:13:24,569 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 22:13:24,573 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P10
Error Code : 0
Message    : ERRO: there is no unique or exclusion constraint matching the ON CONFLICT specification
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 37
Statement  : INSERT INTO fines (fine_id, amount, issue_date, due_date, member_id, librarian_id, admin_id)
VALUES (nextval('fine_id_seq'), 50.00, '2024-01-01', '2024-01-15', 9, 3, 1),
       (nextval('fine_id_seq'), 75.00, '2024-02-01', '2024-02-15', 10, 4, 2) ON CONFLICT (member_id,librarian_id,admin_id) DO
           NOTHING

2024-08-24 22:13:24,574 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 22:13:24,663 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 22:13:24,667 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 22:13:24,689 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 22:13:24,719 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P10
Error Code : 0
Message    : ERRO: there is no unique or exclusion constraint matching the ON CONFLICT specification
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 37
Statement  : INSERT INTO fines (fine_id, amount, issue_date, due_date, member_id, librarian_id, admin_id)
VALUES (nextval('fine_id_seq'), 50.00, '2024-01-01', '2024-01-15', 9, 3, 1),
       (nextval('fine_id_seq'), 75.00, '2024-02-01', '2024-02-15', 10, 4, 2) ON CONFLICT (member_id,librarian_id,admin_id) DO
           NOTHING

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P10
Error Code : 0
Message    : ERRO: there is no unique or exclusion constraint matching the ON CONFLICT specification
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 37
Statement  : INSERT INTO fines (fine_id, amount, issue_date, due_date, member_id, librarian_id, admin_id)
VALUES (nextval('fine_id_seq'), 50.00, '2024-01-01', '2024-01-15', 9, 3, 1),
       (nextval('fine_id_seq'), 75.00, '2024-02-01', '2024-02-15', 10, 4, 2) ON CONFLICT (member_id,librarian_id,admin_id) DO
           NOTHING

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P10
Error Code : 0
Message    : ERRO: there is no unique or exclusion constraint matching the ON CONFLICT specification
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 37
Statement  : INSERT INTO fines (fine_id, amount, issue_date, due_date, member_id, librarian_id, admin_id)
VALUES (nextval('fine_id_seq'), 50.00, '2024-01-01', '2024-01-15', 9, 3, 1),
       (nextval('fine_id_seq'), 75.00, '2024-02-01', '2024-02-15', 10, 4, 2) ON CONFLICT (member_id,librarian_id,admin_id) DO
           NOTHING

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 42P10
Error Code : 0
Message    : ERRO: there is no unique or exclusion constraint matching the ON CONFLICT specification
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 37
Statement  : INSERT INTO fines (fine_id, amount, issue_date, due_date, member_id, librarian_id, admin_id)
VALUES (nextval('fine_id_seq'), 50.00, '2024-01-01', '2024-01-15', 9, 3, 1),
       (nextval('fine_id_seq'), 75.00, '2024-02-01', '2024-02-15', 10, 4, 2) ON CONFLICT (member_id,librarian_id,admin_id) DO
           NOTHING

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: there is no unique or exclusion constraint matching the ON CONFLICT specification
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 22:13:41,017 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 22:13:41,068 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 4220 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 22:13:41,068 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 22:13:41,070 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 22:13:41,117 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 22:13:41,118 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 22:13:42,260 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:13:42,262 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 22:13:42,281 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 0 JDBC repository interfaces.
2024-08-24 22:13:42,289 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:13:42,290 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 22:13:42,297 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 22:13:43,090 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 22:13:43,099 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 22:13:43,100 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 22:13:43,101 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 22:13:43,179 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 22:13:43,180 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2062 ms
2024-08-24 22:13:43,321 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 22:13:43,577 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@c003900
2024-08-24 22:13:43,579 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 22:13:43,589 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 22:13:43,840 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 22:13:43,841 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 22:13:43,841 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 22:13:43,857 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 22:13:43,862 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 22:13:43,905 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.032s)
2024-08-24 22:13:43,920 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 22:13:43,941 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 22:13:43,972 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Successfully applied 1 migration to schema "public", now at version v4 (execution time 00:00.019s)
2024-08-24 22:13:44,066 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 22:13:44,179 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 22:13:44,230 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 22:13:44,550 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 22:13:44,620 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 22:13:44,813 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 22:13:44,886 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 22:13:44,888 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 22:13:44,895 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 22:13:44,900 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 22:13:45,987 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 22:13:46,125 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 22:13:47,558 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 22:13:47,566 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 22:13:47,642 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 22:13:47,666 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 22:13:47,685 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 7.208 seconds (process running for 8.404)
2024-08-24 22:13:48,166 INFO  [RMI TCP Connection(2)-172.21.16.1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-08-24 22:13:48,166 INFO  [RMI TCP Connection(2)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-08-24 22:13:48,169 INFO  [RMI TCP Connection(2)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Completed initialization in 2 ms
2024-08-24 22:19:09,249 INFO  [File Watcher] o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener: Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2024-08-24 22:19:09,257 INFO  [Thread-5] o.a.coyote.http11.Http11NioProtocol: Stopping ProtocolHandler ["http-nio-8081"]
2024-08-24 22:19:10,342 INFO  [Thread-5] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 22:19:10,349 INFO  [Thread-5] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 22:19:10,354 INFO  [Thread-5] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 22:19:10,514 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 4220 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 22:19:10,515 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 22:19:10,515 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 22:19:11,008 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:19:11,008 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 22:19:11,013 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 4 ms. Found 0 JDBC repository interfaces.
2024-08-24 22:19:11,016 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:19:11,016 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 22:19:11,019 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 2 ms. Found 0 JPA repository interfaces.
2024-08-24 22:19:11,167 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 22:19:11,167 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 22:19:11,167 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 22:19:11,168 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 22:19:11,207 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 22:19:11,207 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 689 ms
2024-08-24 22:19:11,306 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Starting...
2024-08-24 22:19:11,499 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@7d60cd93
2024-08-24 22:19:11,500 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Start completed.
2024-08-24 22:19:11,500 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 22:19:11,624 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 22:19:11,628 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 22:19:11,654 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 4
-> Applied to database : -1483542059
-> Resolved locally    : -1036036808
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
2024-08-24 22:19:11,655 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Shutdown initiated...
2024-08-24 22:19:11,813 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Shutdown completed.
2024-08-24 22:19:11,814 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 22:19:11,831 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 22:19:11,854 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 4
-> Applied to database : -1483542059
-> Resolved locally    : -1036036808
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 4
-> Applied to database : -1483542059
-> Resolved locally    : -1036036808
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 4
-> Applied to database : -1483542059
-> Resolved locally    : -1036036808
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:146)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
2024-08-24 22:26:09,641 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 22:26:09,697 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 21072 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 22:26:09,698 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 22:26:09,699 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 22:26:09,754 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 22:26:09,754 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 22:26:10,923 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:26:10,925 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 22:26:10,943 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 22:26:10,952 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:26:10,953 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 22:26:10,960 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 22:26:11,742 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 22:26:11,752 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 22:26:11,754 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 22:26:11,754 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 22:26:11,821 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 22:26:11,822 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2067 ms
2024-08-24 22:26:11,959 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 22:26:12,227 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4218837a
2024-08-24 22:26:12,228 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 22:26:12,239 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 22:26:12,475 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 22:26:12,475 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 22:26:12,476 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 22:26:12,494 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 22:26:12,499 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 22:26:12,537 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.027s)
2024-08-24 22:26:12,550 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 22:26:12,571 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 22:26:12,591 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 22:26:12,595 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "members_email_key"
  Detail: Chave (email)=(charlie.davis@example.com) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

2024-08-24 22:26:12,596 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 22:26:12,722 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 22:26:12,725 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 22:26:12,748 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 22:26:12,777 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "members_email_key"
  Detail: Chave (email)=(charlie.davis@example.com) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "members_email_key"
  Detail: Chave (email)=(charlie.davis@example.com) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "members_email_key"
  Detail: Chave (email)=(charlie.davis@example.com) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "members_email_key"
  Detail: Chave (email)=(charlie.davis@example.com) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: duplicar valor da chave viola a restrição de unicidade "members_email_key"
  Detail: Chave (email)=(charlie.davis@example.com) já existe.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 22:31:13,376 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 22:31:13,422 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 21456 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 22:31:13,422 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 22:31:13,423 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 22:31:13,473 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 22:31:13,474 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 22:31:14,607 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:31:14,609 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 22:31:14,627 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 22:31:14,634 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:31:14,636 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 22:31:14,643 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 22:31:15,459 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 22:31:15,469 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 22:31:15,471 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 22:31:15,471 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 22:31:15,547 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 22:31:15,548 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2073 ms
2024-08-24 22:31:15,701 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 22:31:15,962 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3a331ad
2024-08-24 22:31:15,964 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 22:31:15,973 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 22:31:16,182 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 22:31:16,182 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 22:31:16,182 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 22:31:16,201 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 22:31:16,209 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 22:31:16,246 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.028s)
2024-08-24 22:31:16,331 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 22:31:16,344 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 22:31:16,360 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 22:31:16,364 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "members_email_key"
  Detail: Chave (email)=(charlie.davis@example.com) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

2024-08-24 22:31:16,365 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 22:31:16,515 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 22:31:16,526 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 22:31:16,567 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 22:31:16,588 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "members_email_key"
  Detail: Chave (email)=(charlie.davis@example.com) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "members_email_key"
  Detail: Chave (email)=(charlie.davis@example.com) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "members_email_key"
  Detail: Chave (email)=(charlie.davis@example.com) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "members_email_key"
  Detail: Chave (email)=(charlie.davis@example.com) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 4
Statement  : -- Insert Members with librarian_id and admin_id referring to the librarians and admins tables
-- Assume librarians and admins are inserted with person_id 1 and 2

INSERT INTO members (person_id, name, email, contact, street, city, state, country, postal_code, membership_status,
                     librarian_id, admin_id)
VALUES (nextval('person_id_seq'), 'Charlie Davis', 'charlie.davis@example.com', '2233445566', '202 Birch St',
        'Springfield', 'IL', 'USA', '62701', 'ACTIVE', 3, 1),
       (nextval('person_id_seq'), 'Diana Evans', 'diana.evans@example.com', '3344556677', '303 Cedar St', 'Shelbyville',
        'IL', 'USA', '62565', 'ACTIVE', 4, 2)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: duplicar valor da chave viola a restrição de unicidade "members_email_key"
  Detail: Chave (email)=(charlie.davis@example.com) já existe.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 22:32:12,902 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 22:32:12,954 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 29236 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 22:32:12,954 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 22:32:12,955 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 22:32:13,004 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 22:32:13,004 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 22:32:14,116 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:32:14,118 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 22:32:14,137 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 0 JDBC repository interfaces.
2024-08-24 22:32:14,147 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:32:14,148 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 22:32:14,155 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 22:32:14,917 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 22:32:14,926 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 22:32:14,928 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 22:32:14,929 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 22:32:14,994 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 22:32:14,995 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1990 ms
2024-08-24 22:32:15,129 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 22:32:15,393 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4218837a
2024-08-24 22:32:15,395 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 22:32:15,405 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 22:32:15,617 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 22:32:15,617 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 22:32:15,618 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 22:32:15,643 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 22:32:15,650 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 22:32:15,686 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.025s)
2024-08-24 22:32:15,697 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 22:32:15,714 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 22:32:15,740 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 22:32:15,745 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "statuses_book_status_key"
  Detail: Chave (book_status)=(Available) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

2024-08-24 22:32:15,745 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 22:32:15,956 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 22:32:15,958 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 22:32:15,978 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 22:32:15,996 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "statuses_book_status_key"
  Detail: Chave (book_status)=(Available) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "statuses_book_status_key"
  Detail: Chave (book_status)=(Available) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "statuses_book_status_key"
  Detail: Chave (book_status)=(Available) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "statuses_book_status_key"
  Detail: Chave (book_status)=(Available) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: duplicar valor da chave viola a restrição de unicidade "statuses_book_status_key"
  Detail: Chave (book_status)=(Available) já existe.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 22:33:10,642 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 22:33:10,690 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 29656 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 22:33:10,691 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 22:33:10,692 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 22:33:10,736 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 22:33:10,737 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 22:33:11,857 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:33:11,859 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 22:33:11,876 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 13 ms. Found 0 JDBC repository interfaces.
2024-08-24 22:33:11,884 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:33:11,885 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 22:33:11,892 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 22:33:12,640 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 22:33:12,648 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 22:33:12,650 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 22:33:12,650 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 22:33:12,718 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 22:33:12,719 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1981 ms
2024-08-24 22:33:12,863 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 22:33:13,212 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6eaeb576
2024-08-24 22:33:13,214 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 22:33:13,223 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 22:33:13,429 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 22:33:13,430 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 22:33:13,430 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 22:33:13,452 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 22:33:13,461 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 22:33:13,495 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.023s)
2024-08-24 22:33:13,507 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 22:33:13,523 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 22:33:13,549 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 22:33:13,553 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "statuses_book_status_key"
  Detail: Chave (book_status)=(Available) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

2024-08-24 22:33:13,554 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 22:33:13,671 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 22:33:13,675 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 22:33:13,697 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 22:33:13,723 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "statuses_book_status_key"
  Detail: Chave (book_status)=(Available) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "statuses_book_status_key"
  Detail: Chave (book_status)=(Available) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "statuses_book_status_key"
  Detail: Chave (book_status)=(Available) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "statuses_book_status_key"
  Detail: Chave (book_status)=(Available) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 11
Statement  : -- Insert enum values into statuses table
INSERT INTO statuses (book_status)
VALUES ('Available'),
       ('borrowed'),
       ('loaned'),
       ('lost'),
       ('Reserved')

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: duplicar valor da chave viola a restrição de unicidade "statuses_book_status_key"
  Detail: Chave (book_status)=(Available) já existe.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 22:34:00,987 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 22:34:01,032 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 15492 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 22:34:01,033 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 22:34:01,034 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 22:34:01,082 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 22:34:01,083 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 22:34:02,286 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:34:02,287 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 22:34:02,305 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2024-08-24 22:34:02,313 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:34:02,314 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 22:34:02,321 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2024-08-24 22:34:03,085 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 22:34:03,095 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 22:34:03,097 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 22:34:03,097 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 22:34:03,164 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 22:34:03,166 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2082 ms
2024-08-24 22:34:03,295 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 22:34:03,572 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3fb5f3d6
2024-08-24 22:34:03,574 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 22:34:03,584 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 22:34:03,798 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 22:34:03,799 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 22:34:03,799 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 22:34:03,820 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 22:34:03,827 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 22:34:03,866 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.029s)
2024-08-24 22:34:03,878 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 22:34:03,896 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 22:34:03,928 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 22:34:03,932 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "books_isbn_key"
  Detail: Chave (isbn)=(ISBN0001) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 22
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), -- status_id 1 for AVAILABLE
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

2024-08-24 22:34:03,933 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 22:34:04,032 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 22:34:04,035 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 22:34:04,057 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 22:34:04,082 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "books_isbn_key"
  Detail: Chave (isbn)=(ISBN0001) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 22
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), -- status_id 1 for AVAILABLE
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "books_isbn_key"
  Detail: Chave (isbn)=(ISBN0001) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 22
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), -- status_id 1 for AVAILABLE
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "books_isbn_key"
  Detail: Chave (isbn)=(ISBN0001) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 22
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), -- status_id 1 for AVAILABLE
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "books_isbn_key"
  Detail: Chave (isbn)=(ISBN0001) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 22
Statement  : -- Insert books with corresponding status_id
-- Assume status_id for 'Available' is 1, 'borrowed' is 2, etc.

INSERT INTO books (title, author, isbn, genre, publisher_name, publisher_year, status_id, librarian_id)
VALUES ('Book Title 1', 'Author A', 'ISBN0001', 'Fiction', 'Publisher X', 2023, 1, 3), -- status_id 1 for AVAILABLE
       ('Book Title 2', 'Author B', 'ISBN0002', 'Non-Fiction', 'Publisher Y', 2022, 2, 4)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: duplicar valor da chave viola a restrição de unicidade "books_isbn_key"
  Detail: Chave (isbn)=(ISBN0001) já existe.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 22:35:12,349 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 22:35:12,400 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 22016 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 22:35:12,401 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 22:35:12,402 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 22:35:12,453 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 22:35:12,453 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 22:35:13,621 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:35:13,623 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 22:35:13,642 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 13 ms. Found 0 JDBC repository interfaces.
2024-08-24 22:35:13,650 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:35:13,651 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 22:35:13,660 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 5 ms. Found 0 JPA repository interfaces.
2024-08-24 22:35:14,476 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 22:35:14,484 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 22:35:14,486 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 22:35:14,487 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 22:35:14,560 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 22:35:14,560 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2106 ms
2024-08-24 22:35:14,695 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 22:35:14,977 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@32ab234b
2024-08-24 22:35:14,979 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 22:35:14,989 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 22:35:15,227 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 22:35:15,228 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 22:35:15,228 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 22:35:15,244 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 22:35:15,249 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 22:35:15,286 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.026s)
2024-08-24 22:35:15,301 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 22:35:15,319 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 22:35:15,344 ERROR [restartedMain] o.f.core.internal.command.DbMigrate: Migration of schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES" failed! Changes successfully rolled back.
2024-08-24 22:35:15,347 WARN  [restartedMain] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "member_books_pkey"
  Detail: Chave (member_id, book_id)=(9, 1) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 31
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

2024-08-24 22:35:15,348 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 22:35:15,445 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2024-08-24 22:35:15,448 INFO  [restartedMain] o.a.catalina.core.StandardService: Stopping service [Tomcat]
2024-08-24 22:35:15,470 INFO  [restartedMain] o.s.b.a.l.ConditionEvaluationReportLogger: 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-08-24 22:35:15,498 ERROR [restartedMain] o.s.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "member_books_pkey"
  Detail: Chave (member_id, book_id)=(9, 1) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 31
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at code.with.vanilson.libraryapplication.LibraryManagementSystemApplication.main(LibraryManagementSystemApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "member_books_pkey"
  Detail: Chave (member_id, book_id)=(9, 1) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 31
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "member_books_pkey"
  Detail: Chave (member_id, book_id)=(9, 1) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 31
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:382)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:272)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:271)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:244)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:139)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:144)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:97)
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:188)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:213)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:140)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql failed
--------------------------------------------------------
SQL State  : 23505
Error Code : 0
Message    : ERRO: duplicar valor da chave viola a restrição de unicidade "member_books_pkey"
  Detail: Chave (member_id, book_id)=(9, 1) já existe.
Location   : db/migration/V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes\db\migration\V4__INSERT_MEMBERS_AND_BOOKS_TABLES.sql)
Line       : 31
Statement  : -- status_id 2 for BORROWED


-- Insert Member-Book relationships (Many-to-Many)
-- Assume members with person_id 1 and 2, and books with book_id 1 and 2

INSERT INTO member_books (member_id, book_id)
VALUES (9, 1),
       (10, 2)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:267)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:374)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERRO: duplicar valor da chave viola a restrição de unicidade "member_books_pkey"
  Detail: Chave (member_id, book_id)=(9, 1) já existe.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 47 common frames omitted
2024-08-24 22:35:47,633 INFO  [background-preinit] o.h.validator.internal.util.Version: HV000001: Hibernate Validator 8.0.1.Final
2024-08-24 22:35:47,681 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Starting LibraryManagementSystemApplication using Java 17.0.11 with PID 2816 (C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system\target\classes started by vamuhong in C:\Users\vamuhong\Documents\Formation 2023\backend\library-management-system)
2024-08-24 22:35:47,682 DEBUG [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Running with Spring Boot v3.2.8, Spring v6.1.11
2024-08-24 22:35:47,682 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: The following 1 profile is active: "dev"
2024-08-24 22:35:47,731 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-08-24 22:35:47,731 INFO  [restartedMain] o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor: For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-08-24 22:35:48,860 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:35:48,862 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2024-08-24 22:35:48,881 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 15 ms. Found 0 JDBC repository interfaces.
2024-08-24 22:35:48,888 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2024-08-24 22:35:48,889 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-08-24 22:35:48,912 INFO  [restartedMain] o.s.d.r.c.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 6 ms. Found 0 JPA repository interfaces.
2024-08-24 22:35:49,719 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat initialized with port 8081 (http)
2024-08-24 22:35:49,729 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Initializing ProtocolHandler ["http-nio-8081"]
2024-08-24 22:35:49,730 INFO  [restartedMain] o.a.catalina.core.StandardService: Starting service [Tomcat]
2024-08-24 22:35:49,731 INFO  [restartedMain] o.a.catalina.core.StandardEngine: Starting Servlet engine: [Apache Tomcat/10.1.26]
2024-08-24 22:35:49,807 INFO  [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring embedded WebApplicationContext
2024-08-24 22:35:49,808 INFO  [restartedMain] o.s.b.w.s.c.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2076 ms
2024-08-24 22:35:49,952 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2024-08-24 22:35:50,217 INFO  [restartedMain] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@29f581f7
2024-08-24 22:35:50,219 INFO  [restartedMain] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2024-08-24 22:35:50,228 INFO  [restartedMain] o.s.b.a.h.H2ConsoleAutoConfiguration: H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://localhost:5432/library_management_db'
2024-08-24 22:35:50,468 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: Flyway Community Edition 9.22.3 by Redgate
2024-08-24 22:35:50,468 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: See release notes here: https://rd.gt/416ObMi
2024-08-24 22:35:50,468 INFO  [restartedMain] o.f.c.i.license.VersionPrinter: 
2024-08-24 22:35:50,485 INFO  [restartedMain] org.flywaydb.core.FlywayExecutor: Database: jdbc:postgresql://localhost:5432/library_management_db (PostgreSQL 16.0)
2024-08-24 22:35:50,490 WARN  [restartedMain] o.f.c.i.database.base.Database: Flyway upgrade recommended: PostgreSQL 16.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 15.
2024-08-24 22:35:50,536 INFO  [restartedMain] o.f.core.internal.command.DbValidate: Successfully validated 4 migrations (execution time 00:00.033s)
2024-08-24 22:35:50,555 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Current version of schema "public": 3
2024-08-24 22:35:50,569 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Migrating schema "public" to version "4 - INSERT MEMBERS AND BOOKS TABLES"
2024-08-24 22:35:50,606 INFO  [restartedMain] o.f.core.internal.command.DbMigrate: Successfully applied 1 migration to schema "public", now at version v4 (execution time 00:00.020s)
2024-08-24 22:35:50,706 INFO  [restartedMain] o.h.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2024-08-24 22:35:50,795 INFO  [restartedMain] org.hibernate.Version: HHH000412: Hibernate ORM core version 6.4.9.Final
2024-08-24 22:35:50,840 INFO  [restartedMain] o.h.c.i.RegionFactoryInitiator: HHH000026: Second-level cache disabled
2024-08-24 22:35:51,125 INFO  [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo: No LoadTimeWeaver setup: ignoring JPA class transformer
2024-08-24 22:35:51,188 WARN  [restartedMain] org.hibernate.orm.deprecation: HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-08-24 22:35:51,381 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 22:35:51,451 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 22:35:51,456 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 22:35:51,466 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 22:35:51,473 WARN  [restartedMain] o.h.b.i.InFlightMetadataCollectorImpl: HHH000069: Duplicate generator name person_seq
2024-08-24 22:35:52,469 INFO  [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator: HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-08-24 22:35:52,605 INFO  [restartedMain] o.s.o.j.LocalContainerEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 22:35:54,032 INFO  [restartedMain] o.s.b.d.a.OptionalLiveReloadServer: LiveReload server is running on port 35729
2024-08-24 22:35:54,039 INFO  [restartedMain] o.s.b.a.e.web.EndpointLinksResolver: Exposing 15 endpoint(s) beneath base path '/actuator'
2024-08-24 22:35:54,119 INFO  [restartedMain] o.a.coyote.http11.Http11NioProtocol: Starting ProtocolHandler ["http-nio-8081"]
2024-08-24 22:35:54,143 INFO  [restartedMain] o.s.b.w.e.tomcat.TomcatWebServer: Tomcat started on port 8081 (http) with context path ''
2024-08-24 22:35:54,163 INFO  [restartedMain] c.w.v.l.LibraryManagementSystemApplication: Started LibraryManagementSystemApplication in 7.023 seconds (process running for 8.143)
2024-08-24 22:35:54,799 INFO  [RMI TCP Connection(3)-172.21.16.1] o.a.c.c.C.[Tomcat].[localhost].[/]: Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-08-24 22:35:54,799 INFO  [RMI TCP Connection(3)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Initializing Servlet 'dispatcherServlet'
2024-08-24 22:35:54,802 INFO  [RMI TCP Connection(3)-172.21.16.1] o.s.web.servlet.DispatcherServlet: Completed initialization in 1 ms
2024-08-24 22:37:42,177 INFO  [SpringApplicationShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2024-08-24 22:37:42,181 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2024-08-24 22:37:42,185 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
